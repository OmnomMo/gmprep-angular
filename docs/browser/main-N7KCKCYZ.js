var fC=Object.defineProperty,pC=Object.defineProperties;var gC=Object.getOwnPropertyDescriptors;var Ep=Object.getOwnPropertySymbols;var hC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable;var Ip=(t,n,e)=>n in t?fC(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,S=(t,n)=>{for(var e in n||={})hC.call(n,e)&&Ip(t,e,n[e]);if(Ep)for(var e of Ep(n))mC.call(n,e)&&Ip(t,e,n[e]);return t},Q=(t,n)=>pC(t,gC(n));var Fl;function ks(){return Fl}function qt(t){let n=Fl;return Fl=t,n}var Mp=Symbol("NotFound");function $r(t){return t===Mp||t?.name==="\u0275NotFound"}var Je=null,Ps=!1,Ll=1,vC=null,ot=Symbol("SIGNAL");function H(t){let n=Je;return Je=t,n}function js(){return Je}var sr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hr(t){if(Ps)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(t);let n=Je.producersTail;if(n!==void 0&&n.producer===t)return;let e,r=Je.recomputing;if(r&&(e=n!==void 0?n.nextProducer:Je.producers,e!==void 0&&e.producer===t)){Je.producersTail=e,e.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===Je&&(!r||_C(o,Je)))return;let i=qr(Je),s={producer:t,consumer:Je,nextProducer:e,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};Je.producersTail=s,n!==void 0?n.nextProducer=s:Je.producers=s,i&&Np(t,s)}function Sp(){Ll++}function Bs(t){if(!(qr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ll)){if(!t.producerMustRecompute(t)&&!zr(t)){Vs(t);return}t.producerRecomputeValue(t),Vs(t)}}function Vl(t){if(t.consumers===void 0)return;let n=Ps;Ps=!0;try{for(let e=t.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||yC(r)}}finally{Ps=n}}function jl(){return Je?.consumerAllowSignalWrites!==!1}function yC(t){t.dirty=!0,Vl(t),t.consumerMarkedDirty?.(t)}function Vs(t){t.dirty=!1,t.lastCleanEpoch=Ll}function ar(t){return t&&Dp(t),H(t)}function Dp(t){t.producersTail=void 0,t.recomputing=!0}function Gr(t,n){H(n),t&&Tp(t)}function Tp(t){t.recomputing=!1;let n=t.producersTail,e=n!==void 0?n.nextProducer:t.producers;if(e!==void 0){if(qr(t))do e=Bl(e);while(e!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function zr(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let e=n.producer,r=n.lastReadVersion;if(r!==e.version||(Bs(e),r!==e.version))return!0}return!1}function cr(t){if(qr(t)){let n=t.producers;for(;n!==void 0;)n=Bl(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Np(t,n){let e=t.consumersTail,r=qr(t);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)Np(o.producer,o)}function Bl(t){let n=t.producer,e=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:n.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(n.consumers=r,!qr(n)){let i=n.producers;for(;i!==void 0;)i=Bl(i)}return e}function qr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Us(t){vC?.(t)}function _C(t,n){let e=n.producersTail;if(e!==void 0){let r=n.producers;do{if(r===t)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function $s(t,n){return Object.is(t,n)}function Hs(t,n){let e=Object.create(CC);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Bs(e),Hr(e),e.value===ii)throw e.error;return e.value};return r[ot]=e,Us(e),r}var Fs=Symbol("UNSET"),Ls=Symbol("COMPUTING"),ii=Symbol("ERRORED"),CC=Q(S({},sr),{value:Fs,dirty:!0,error:null,equal:$s,kind:"computed",producerMustRecompute(t){return t.value===Fs||t.value===Ls},producerRecomputeValue(t){if(t.value===Ls)throw new Error("");let n=t.value;t.value=Ls;let e=ar(t),r,o=!1;try{r=t.computation(),H(null),o=n!==Fs&&n!==ii&&r!==ii&&t.equal(n,r)}catch(i){r=ii,t.error=i}finally{Gr(t,e)}if(o){t.value=n;return}t.value=r,t.version++}});function bC(){throw new Error}var xp=bC;function Op(t){xp(t)}function Ul(t){xp=t}var wC=null;function $l(t,n){let e=Object.create(Gs);e.value=t,n!==void 0&&(e.equal=n);let r=()=>Rp(e);return r[ot]=e,Us(e),[r,s=>Wr(e,s),s=>Hl(e,s)]}function Rp(t){return Hr(t),t.value}function Wr(t,n){jl()||Op(t),t.equal(t.value,n)||(t.value=n,EC(t))}function Hl(t,n){jl()||Op(t),Wr(t,n(t.value))}var Gs=Q(S({},sr),{equal:$s,value:void 0,kind:"signal"});function EC(t){t.version++,Sp(),Vl(t),wC?.(t)}function Z(t){return typeof t=="function"}function Zr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var zs=Zr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function si(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var xe=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(i){n=i instanceof zs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Ap(i)}catch(s){n=n??[],s instanceof zs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new zs(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Ap(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&si(e,n)}remove(n){let{_finalizers:e}=this;e&&si(e,n),n instanceof t&&n._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Gl=xe.EMPTY;function qs(t){return t instanceof xe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Ap(t){Z(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qr={setTimeout(t,n,...e){let{delegate:r}=Qr;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Qr;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ws(t){Qr.setTimeout(()=>{let{onUnhandledError:n}=Ft;if(n)n(t);else throw t})}function ai(){}var kp=zl("C",void 0,void 0);function Pp(t){return zl("E",void 0,t)}function Fp(t){return zl("N",t,void 0)}function zl(t,n,e){return{kind:t,value:n,error:e}}var lr=null;function Yr(t){if(Ft.useDeprecatedSynchronousErrorHandling){let n=!lr;if(n&&(lr={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=lr;if(lr=null,e)throw r}}else t()}function Lp(t){Ft.useDeprecatedSynchronousErrorHandling&&lr&&(lr.errorThrown=!0,lr.error=t)}var ur=class extends xe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qs(n)&&n.add(this)):this.destination=SC}static create(n,e,r){return new Xr(n,e,r)}next(n){this.isStopped?Wl(Fp(n),this):this._next(n)}error(n){this.isStopped?Wl(Pp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Wl(kp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IC=Function.prototype.bind;function ql(t,n){return IC.call(t,n)}var Zl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Zs(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Zs(r)}else Zs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Zs(e)}}},Xr=class extends ur{constructor(n,e,r){super();let o;if(Z(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Ft.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ql(n.next,i),error:n.error&&ql(n.error,i),complete:n.complete&&ql(n.complete,i)}):o=n}this.destination=new Zl(o)}};function Zs(t){Ft.useDeprecatedSynchronousErrorHandling?Lp(t):Ws(t)}function MC(t){throw t}function Wl(t,n){let{onStoppedNotification:e}=Ft;e&&Qr.setTimeout(()=>e(t,n))}var SC={closed:!0,next:ai,error:MC,complete:ai};var Kr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function Ql(...t){return Yl(t)}function Yl(t){return t.length===0?_t:t.length===1?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}var ee=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=TC(e)?e:new Xr(e,r,o);return Yr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Vp(r),new r((o,i)=>{let s=new Xr({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Kr](){return this}pipe(...e){return Yl(e)(this)}toPromise(e){return e=Vp(e),new e((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Vp(t){var n;return(n=t??Ft.Promise)!==null&&n!==void 0?n:Promise}function DC(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function TC(t){return t&&t instanceof ur||DC(t)&&qs(t)}function Xl(t){return Z(t?.lift)}function ae(t){return n=>{if(Xl(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,n,e,r,o){return new Kl(t,n,e,r,o)}var Kl=class extends ur{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Jr(){return ae((t,n)=>{let e=null;t._refCount++;let r=re(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var eo=class extends ee{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Xl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new xe;let e=this.getSubject();n.add(this.source.subscribe(re(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=xe.EMPTY)}return n}refCount(){return Jr()(this)}};var jp=Zr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Qs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new jp}next(e){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Gl:(this.currentObservers=null,i.push(e),new xe(()=>{this.currentObservers=null,si(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new ee;return e.source=this,e}}return t.create=(n,e)=>new Qs(n,e),t})(),Qs=class extends te{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Gl}};var X=class extends te{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ft=new ee(t=>t.complete());function Bp(t){return t&&Z(t.schedule)}function Up(t){return t[t.length-1]}function Ys(t){return Z(Up(t))?t.pop():void 0}function Fn(t){return Bp(Up(t))?t.pop():void 0}function Hp(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})}function $p(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(t){return this instanceof dr?(this.v=t,this):new dr(t)}function Gp(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(I){return Promise.resolve(I).then(g,d)}}function a(g,I){r[g]&&(o[g]=function(V){return new Promise(function(P,k){i.push([g,V,P,k])>1||c(g,V)})},I&&(o[g]=I(o[g])))}function c(g,I){try{l(r[g](I))}catch(V){v(i[0][3],V)}}function l(g){g.value instanceof dr?Promise.resolve(g.value.v).then(u,d):v(i[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function v(g,I){g(I),i.shift(),i.length&&c(i[0][0],i[0][1])}}function zp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof $p=="function"?$p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Xs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ks(t){return Z(t?.then)}function Js(t){return Z(t[Kr])}function ea(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function ta(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var na=NC();function ra(t){return Z(t?.[na])}function oa(t){return Gp(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:o}=yield dr(e.read());if(o)return yield dr(void 0);yield yield dr(r)}}finally{e.releaseLock()}})}function ia(t){return Z(t?.getReader)}function Oe(t){if(t instanceof ee)return t;if(t!=null){if(Js(t))return xC(t);if(Xs(t))return OC(t);if(Ks(t))return RC(t);if(ea(t))return qp(t);if(ra(t))return AC(t);if(ia(t))return kC(t)}throw ta(t)}function xC(t){return new ee(n=>{let e=t[Kr]();if(Z(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OC(t){return new ee(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function RC(t){return new ee(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Ws)})}function AC(t){return new ee(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function qp(t){return new ee(n=>{PC(t,n).catch(e=>n.error(e))})}function kC(t){return qp(oa(t))}function PC(t,n){var e,r,o,i;return Hp(this,void 0,void 0,function*(){try{for(e=zp(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})}function pt(t,n,e,r=0,o=!1){let i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function sa(t,n=0){return ae((e,r)=>{e.subscribe(re(r,o=>pt(r,t,()=>r.next(o),n),()=>pt(r,t,()=>r.complete(),n),o=>pt(r,t,()=>r.error(o),n)))})}function aa(t,n=0){return ae((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Wp(t,n){return Oe(t).pipe(aa(n),sa(n))}function Zp(t,n){return Oe(t).pipe(aa(n),sa(n))}function Qp(t,n){return new ee(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Yp(t,n){return new ee(e=>{let r;return pt(e,n,()=>{r=t[na](),pt(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>Z(r?.return)&&r.return()})}function ca(t,n){if(!t)throw new Error("Iterable cannot be null");return new ee(e=>{pt(e,n,()=>{let r=t[Symbol.asyncIterator]();pt(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Xp(t,n){return ca(oa(t),n)}function Kp(t,n){if(t!=null){if(Js(t))return Wp(t,n);if(Xs(t))return Qp(t,n);if(Ks(t))return Zp(t,n);if(ea(t))return ca(t,n);if(ra(t))return Yp(t,n);if(ia(t))return Xp(t,n)}throw ta(t)}function be(t,n){return n?Kp(t,n):Oe(t)}function U(...t){let n=Fn(t);return be(t,n)}function to(t,n){let e=Z(t)?t:()=>t,r=o=>o.error(e());return new ee(n?o=>n.schedule(r,0,o):r)}function Jl(t){return!!t&&(t instanceof ee||Z(t.lift)&&Z(t.subscribe))}var mn=Zr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function K(t,n){return ae((e,r)=>{let o=0;e.subscribe(re(r,i=>{r.next(t.call(n,i,o++))}))})}var{isArray:FC}=Array;function LC(t,n){return FC(n)?t(...n):t(n)}function la(t){return K(n=>LC(t,n))}var{isArray:VC}=Array,{getPrototypeOf:jC,prototype:BC,keys:UC}=Object;function ua(t){if(t.length===1){let n=t[0];if(VC(n))return{args:n,keys:null};if($C(n)){let e=UC(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function $C(t){return t&&typeof t=="object"&&jC(t)===BC}function da(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}function fa(...t){let n=Fn(t),e=Ys(t),{args:r,keys:o}=ua(t);if(r.length===0)return be([],n);let i=new ee(HC(r,n,o?s=>da(o,s):_t));return e?i.pipe(la(e)):i}function HC(t,n,e=_t){return r=>{Jp(n,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Jp(n,()=>{let l=be(t[c],n),u=!1;l.subscribe(re(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Jp(t,n,e){t?pt(e,t,n):n()}function eg(t,n,e,r,o,i,s,a){let c=[],l=0,u=0,d=!1,v=()=>{d&&!c.length&&!l&&n.complete()},g=V=>l<r?I(V):c.push(V),I=V=>{i&&n.next(V),l++;let P=!1;Oe(e(V,u++)).subscribe(re(n,k=>{o?.(k),i?g(k):n.next(k)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let k=c.shift();s?pt(n,s,()=>I(k)):I(k)}v()}catch(k){n.error(k)}}))};return t.subscribe(re(n,g,()=>{d=!0,v()})),()=>{a?.()}}function Re(t,n,e=1/0){return Z(n)?Re((r,o)=>K((i,s)=>n(r,i,o,s))(Oe(t(r,o))),e):(typeof n=="number"&&(e=n),ae((r,o)=>eg(r,o,t,e)))}function no(t=1/0){return Re(_t,t)}function tg(){return no(1)}function ro(...t){return tg()(be(t,Fn(t)))}function ci(t){return new ee(n=>{Oe(t()).subscribe(n)})}function eu(...t){let n=Ys(t),{args:e,keys:r}=ua(t),o=new ee(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Oe(e[u]).subscribe(re(i,v=>{d||(d=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?da(r,a):a),i.complete())}))}});return n?o.pipe(la(n)):o}function it(t,n){return ae((e,r)=>{let o=0;e.subscribe(re(r,i=>t.call(n,i,o++)&&r.next(i)))})}function vn(t){return ae((n,e)=>{let r=null,o=!1,i;r=n.subscribe(re(e,void 0,void 0,s=>{i=Oe(t(s,vn(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function ng(t,n,e,r,o){return(i,s)=>{let a=e,c=n,l=0;i.subscribe(re(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function yn(t,n){return Z(n)?Re(t,n,1):Re(t,1)}function Ln(t){return ae((n,e)=>{let r=!1;n.subscribe(re(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function _n(t){return t<=0?()=>ft:ae((n,e)=>{let r=0;n.subscribe(re(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function pa(t=GC){return ae((n,e)=>{let r=!1;n.subscribe(re(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function GC(){return new mn}function fr(t){return ae((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function et(t,n){let e=arguments.length>=2;return r=>r.pipe(t?it((o,i)=>t(o,i,r)):_t,_n(1),e?Ln(n):pa(()=>new mn))}function oo(t){return t<=0?()=>ft:ae((n,e)=>{let r=[];n.subscribe(re(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function tu(t,n){let e=arguments.length>=2;return r=>r.pipe(t?it((o,i)=>t(o,i,r)):_t,oo(1),e?Ln(n):pa(()=>new mn))}function nu(t,n){return ae(ng(t,n,arguments.length>=2,!0))}function ru(...t){let n=Fn(t);return ae((e,r)=>{(n?ro(t,e,n):ro(t,e)).subscribe(r)})}function tt(t,n){return ae((e,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();e.subscribe(re(r,c=>{o?.unsubscribe();let l=0,u=i++;Oe(t(c,u)).subscribe(o=re(r,d=>r.next(n?n(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ga(t){return ae((n,e)=>{Oe(t).subscribe(re(e,()=>e.complete(),ai)),!e.closed&&n.subscribe(e)})}function He(t,n,e){let r=Z(t)||n||e?{next:t,error:n,complete:e}:t;return r?ae((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(re(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}function rg(t){let n=H(null);try{return t()}finally{H(n)}}var og=Q(S({},sr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function ig(t){if(t.dirty=!1,t.version>0&&!zr(t))return;t.version++;let n=ar(t);try{t.cleanup(),t.fn()}finally{Gr(t,n)}}var ya="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(n,e){super(so(n,e)),this.code=n}};function zC(t){return`NG0${Math.abs(t)}`}function so(t,n){return`${zC(t)}${n?": "+n:""}`}var pi=globalThis;function de(t){for(let n in t)if(t[n]===de)return n;throw Error("")}function cg(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function bn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(bn).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function _a(t,n){return t?n?`${t} ${n}`:t:n||""}var qC=de({__forward_ref__:de});function Wt(t){return t.__forward_ref__=Wt,t.toString=function(){return bn(this())},t}function We(t){return gu(t)?t():t}function gu(t){return typeof t=="function"&&t.hasOwnProperty(qC)&&t.__forward_ref__===Wt}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gi(t){return WC(t,Ca)}function hu(t){return gi(t)!==null}function WC(t,n){return t.hasOwnProperty(n)&&t[n]||null}function ZC(t){let n=t?.[Ca]??null;return n||null}function iu(t){return t&&t.hasOwnProperty(ma)?t[ma]:null}var Ca=de({\u0275prov:de}),ma=de({\u0275inj:de}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=M({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mu(t){return t&&!!t.\u0275providers}var vu=de({\u0275cmp:de}),yu=de({\u0275dir:de}),_u=de({\u0275pipe:de}),Cu=de({\u0275mod:de}),ui=de({\u0275fac:de}),yr=de({__NG_ELEMENT_ID__:de}),sg=de({__NG_ENV_ID__:de});function hi(t){return typeof t=="string"?t:t==null?"":String(t)}function lg(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hi(t)}var ug=de({ngErrorCode:de}),QC=de({ngErrorMessage:de}),YC=de({ngTokenPath:de});function bu(t,n){return dg("",-200,n)}function ba(t,n){throw new O(-201,!1)}function dg(t,n,e){let r=new O(n,t);return r[ug]=n,r[QC]=t,e&&(r[YC]=e),r}function XC(t){return t[ug]}var su;function fg(){return su}function Ct(t){let n=su;return su=t,n}function wu(t,n,e){let r=gi(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(n!==void 0)return n;ba(t,"Injector")}var KC={},pr=KC,JC="__NG_DI_FLAG__",au=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=gr(e)||0;try{return this.injector.get(n,r&8?null:pr,r)}catch(o){if($r(o))return o;throw o}}};function eb(t,n=0){let e=ks();if(e===void 0)throw new O(-203,!1);if(e===null)return wu(t,void 0,n);{let r=tb(n),o=e.retrieve(t,r);if($r(o)){if(r.optional)return null;throw o}return o}}function D(t,n=0){return(fg()||eb)(We(t),n)}function y(t,n){return D(t,gr(n))}function gr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tb(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function cu(t){let n=[];for(let e=0;e<t.length;e++){let r=We(t[e]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=nb(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}n.push(D(o,i))}else n.push(D(r))}return n}function nb(t){return t[JC]}function hr(t,n){let e=t.hasOwnProperty(ui);return e?t[ui]:null}function pg(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function gg(t){return t.flat(Number.POSITIVE_INFINITY)}function wa(t,n){t.forEach(e=>Array.isArray(e)?wa(e,n):n(e))}function Eu(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function mi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function hg(t,n){let e=[];for(let r=0;r<t;r++)e.push(n);return e}function mg(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(o===1)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;){let i=o-2;t[o]=t[i],o--}t[n]=e,t[n+1]=r}}function vi(t,n,e){let r=ao(t,n);return r>=0?t[r|1]=e:(r=~r,mg(t,r,n,e)),r}function Ea(t,n){let e=ao(t,n);if(e>=0)return t[e|1]}function ao(t,n){return rb(t,n,1)}function rb(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}var jn={},st=[],En=new F(""),Iu=new F("",-1),Mu=new F(""),di=class{get(n,e=pr){if(e===pr){let o=dg("",-201);throw o.name="\u0275NotFound",o}return e}};function Su(t){return t[Cu]||null}function Bn(t){return t[vu]||null}function Du(t){return t[yu]||null}function vg(t){return t[_u]||null}function In(t){return{\u0275providers:t}}function yg(t){return In([{provide:En,multi:!0,useValue:t}])}function _g(...t){return{\u0275providers:Tu(!0,t),\u0275fromNgModule:!0}}function Tu(t,...n){let e=[],r=new Set,o,i=s=>{e.push(s)};return wa(n,s=>{let a=s;va(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Cg(o,i),e}function Cg(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:o}=t[e];Nu(o,i=>{n(i,r)})}}function va(t,n,e,r){if(t=We(t),!t)return!1;let o=null,i=iu(t),s=!i&&Bn(t);if(!i&&!s){let c=t.ngModule;if(i=iu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)va(l,n,e,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{wa(i.imports,u=>{va(u,n,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Cg(l,n)}if(!a){let l=hr(o)||(()=>new o);n({provide:o,useFactory:l,deps:st},o),n({provide:Mu,useValue:o,multi:!0},o),n({provide:En,useValue:()=>D(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;Nu(c,u=>{n(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Nu(t,n){for(let e of t)mu(e)&&(e=e.\u0275providers),Array.isArray(e)?Nu(e,n):n(e)}var ob=de({provide:String,useValue:de});function bg(t){return t!==null&&typeof t=="object"&&ob in t}function ib(t){return!!(t&&t.useExisting)}function sb(t){return!!(t&&t.useFactory)}function mr(t){return typeof t=="function"}function wg(t){return!!t.useClass}var yi=new F(""),ha={},ag={},ou;function _i(){return ou===void 0&&(ou=new di),ou}var Ae=class{},vr=class extends Ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,uu(n,s=>this.processProvider(s)),this.records.set(Iu,io(void 0,this)),o.has("environment")&&this.records.set(Ae,io(void 0,this));let i=this.records.get(yi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Mu,st,{self:!0}))}retrieve(n,e){let r=gr(e)||0;try{return this.get(n,pr,r)}catch(o){if($r(o))return o;throw o}}destroy(){li(this),this._destroyed=!0;let n=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(n)}}onDestroy(n){return li(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){li(this);let e=qt(this),r=Ct(void 0),o;try{return n()}finally{qt(e),Ct(r)}}get(n,e=pr,r){if(li(this),n.hasOwnProperty(sg))return n[sg](this);let o=gr(r),i,s=qt(this),a=Ct(void 0);try{if(!(o&4)){let l=this.records.get(n);if(l===void 0){let u=db(n)&&gi(n);u&&this.injectableDefInScope(u)?l=io(lu(n),ha):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,o)}let c=o&2?_i():this.parent;return e=o&8&&e===pr?null:e,c.get(n,e)}catch(c){let l=XC(c);throw l===-200||l===-201?new O(l,null):c}finally{Ct(a),qt(s)}}resolveInjectorInitializers(){let n=H(null),e=qt(this),r=Ct(void 0),o;try{let i=this.get(En,st,{self:!0});for(let s of i)s()}finally{qt(e),Ct(r),H(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(bn(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=We(n);let e=mr(n)?n:We(n&&n.provide),r=cb(n);if(!mr(n)&&n.multi===!0){let o=this.records.get(e);o||(o=io(void 0,ha,!0),o.factory=()=>cu(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let o=H(null);try{if(e.value===ag)throw bu(bn(n));return e.value===ha&&(e.value=ag,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&ub(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{H(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=We(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function lu(t){let n=gi(t),e=n!==null?n.factory:hr(t);if(e!==null)return e;if(t instanceof F)throw new O(204,!1);if(t instanceof Function)return ab(t);throw new O(204,!1)}function ab(t){if(t.length>0)throw new O(204,!1);let e=ZC(t);return e!==null?()=>e.factory(t):()=>new t}function cb(t){if(bg(t))return io(void 0,t.useValue);{let n=xu(t);return io(n,ha)}}function xu(t,n,e){let r;if(mr(t)){let o=We(t);return hr(o)||lu(o)}else if(bg(t))r=()=>We(t.useValue);else if(sb(t))r=()=>t.useFactory(...cu(t.deps||[]));else if(ib(t))r=(o,i)=>D(We(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=We(t&&(t.useClass||t.provide));if(lb(t))r=()=>new o(...cu(t.deps));else return hr(o)||lu(o)}return r}function li(t){if(t.destroyed)throw new O(205,!1)}function io(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function lb(t){return!!t.deps}function ub(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function db(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function uu(t,n){for(let e of t)Array.isArray(e)?uu(e,n):e&&mu(e)?uu(e.\u0275providers,n):n(e)}function Ze(t,n){let e;t instanceof vr?(li(t),e=t):e=new au(t);let r,o=qt(e),i=Ct(void 0);try{return n()}finally{qt(o),Ct(i)}}function Eg(){return fg()!==void 0||ks()!=null}var Lt=0,$=1,z=2,je=3,Tt=4,ct=5,_r=6,co=7,Se=8,lo=9,Zt=10,ye=11,uo=12,Ou=13,Cr=14,lt=15,Un=16,br=17,Qt=18,Ci=19,Ru=20,Cn=21,Ia=22,Mn=23,wt=24,wr=25,Qe=26,ke=27,Ig=1,Au=6,$n=7,bi=8,Er=9,Pe=10;function Yt(t){return Array.isArray(t)&&typeof t[Ig]=="object"}function Vt(t){return Array.isArray(t)&&t[Ig]===!0}function ku(t){return(t.flags&4)!==0}function Hn(t){return t.componentOffset>-1}function Ma(t){return(t.flags&1)===1}function Xt(t){return!!t.template}function fo(t){return(t[z]&512)!==0}function Ir(t){return(t[z]&256)===256}var Mg="svg",Sg="math";function Nt(t){for(;Array.isArray(t);)t=t[Lt];return t}function Pu(t,n){return Nt(n[t])}function jt(t,n){return Nt(n[t.index])}function wi(t,n){return t.data[n]}function Dg(t,n){return t[n]}function xt(t,n){let e=n[t];return Yt(e)?e:e[Lt]}function Tg(t){return(t[z]&4)===4}function Sa(t){return(t[z]&128)===128}function Ng(t){return Vt(t[je])}function Kt(t,n){return n==null?null:t[n]}function Fu(t){t[br]=0}function Lu(t){t[z]&1024||(t[z]|=1024,Sa(t)&&Gn(t))}function xg(t,n){for(;t>0;)n=n[Cr],t--;return n}function Ei(t){return!!(t[z]&9216||t[wt]?.dirty)}function Da(t){t[Zt].changeDetectionScheduler?.notify(8),t[z]&64&&(t[z]|=1024),Ei(t)&&Gn(t)}function Gn(t){t[Zt].changeDetectionScheduler?.notify(0);let n=Vn(t);for(;n!==null&&!(n[z]&8192||(n[z]|=8192,!Sa(n)));)n=Vn(n)}function Vu(t,n){if(Ir(t))throw new O(911,!1);t[Cn]===null&&(t[Cn]=[]),t[Cn].push(n)}function Og(t,n){if(t[Cn]===null)return;let e=t[Cn].indexOf(n);e!==-1&&t[Cn].splice(e,1)}function Vn(t){let n=t[je];return Vt(n)?n[je]:n}function ju(t){return t[co]??=[]}function Bu(t){return t.cleanup??=[]}function Rg(t,n,e,r){let o=ju(n);o.push(e),t.firstCreatePass&&Bu(t).push(r,o.length-1)}var ne={lFrame:Gg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var du=!1;function Ag(){return ne.lFrame.elementDepthCount}function kg(){ne.lFrame.elementDepthCount++}function Uu(){ne.lFrame.elementDepthCount--}function Pg(){return ne.bindingsEnabled}function $u(){return ne.skipHydrationRootTNode!==null}function Hu(t){return ne.skipHydrationRootTNode===t}function Gu(){ne.skipHydrationRootTNode=null}function J(){return ne.lFrame.lView}function Fe(){return ne.lFrame.tView}function _(t){return ne.lFrame.contextLView=t,t[Se]}function C(t){return ne.lFrame.contextLView=null,t}function Ge(){let t=zu();for(;t!==null&&t.type===64;)t=t.parent;return t}function zu(){return ne.lFrame.currentTNode}function Fg(){let t=ne.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function po(t,n){let e=ne.lFrame;e.currentTNode=t,e.isParent=n}function qu(){return ne.lFrame.isParent}function Wu(){ne.lFrame.isParent=!1}function Lg(){return ne.lFrame.contextLView}function Zu(){return du}function go(t){let n=du;return du=t,n}function Vg(t){return ne.lFrame.bindingIndex=t}function Mr(){return ne.lFrame.bindingIndex++}function Qu(t){let n=ne.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function jg(){return ne.lFrame.inI18n}function Bg(t,n){let e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ta(n)}function Ug(){return ne.lFrame.currentDirectiveIndex}function Ta(t){ne.lFrame.currentDirectiveIndex=t}function $g(t){let n=ne.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Yu(){return ne.lFrame.currentQueryIndex}function Na(t){ne.lFrame.currentQueryIndex=t}function fb(t){let n=t[$];return n.type===2?n.declTNode:n.type===1?t[ct]:null}function Xu(t,n,e){if(e&4){let o=n,i=t;for(;o=o.parent,o===null&&!(e&1);)if(o=fb(i),o===null||(i=i[Cr],o.type&10))break;if(o===null)return!1;n=o,t=i}let r=ne.lFrame=Hg();return r.currentTNode=n,r.lView=t,!0}function xa(t){let n=Hg(),e=t[$];ne.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Hg(){let t=ne.lFrame,n=t===null?null:t.child;return n===null?Gg(t):n}function Gg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function zg(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ku=zg;function Oa(){let t=zg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qg(t){return(ne.lFrame.contextLView=xg(t,ne.lFrame.contextLView))[Se]}function Sn(){return ne.lFrame.selectedIndex}function zn(t){ne.lFrame.selectedIndex=t}function Ra(){let t=ne.lFrame;return wi(t.tView,t.selectedIndex)}function Wg(){return ne.lFrame.currentNamespace}var Zg=!0;function Aa(){return Zg}function ka(t){Zg=t}function fu(t,n=null,e=null,r){let o=Ju(t,n,e,r);return o.resolveInjectorInitializers(),o}function Ju(t,n=null,e=null,r,o=new Set){let i=[e||st,_g(t)];return r=r||(typeof t=="object"?void 0:bn(t)),new vr(i,n||_i(),r||null,o)}var at=class t{static THROW_IF_NOT_FOUND=pr;static NULL=new di;static create(n,e){if(Array.isArray(n))return fu({name:""},e,n,"");{let r=n.name??"";return fu({name:r},n.parent,n.providers,r)}}static \u0275prov=M({token:t,providedIn:"any",factory:()=>D(Iu)});static __NG_ELEMENT_ID__=-1},Le=new F(""),Ye=(()=>{class t{static __NG_ELEMENT_ID__=pb;static __NG_ENV_ID__=e=>e}return t})(),fi=class extends Ye{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Ir(this._lView)}onDestroy(n){let e=this._lView;return Vu(e,n),()=>Og(e,n)}};function pb(){return new fi(J())}var bt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},gt=new F("",{providedIn:"root",factory:()=>{let t=y(Ae),n;return e=>{t.destroyed&&!n?setTimeout(()=>{throw e}):(n??=t.get(bt),n.handleError(e))}}}),Qg={provide:En,useValue:()=>void y(bt),multi:!0},gb=new F("",{providedIn:"root",factory:()=>{let t=y(Le).defaultView;if(!t)return;let n=y(gt),e=i=>{n(i.reason),i.preventDefault()},r=i=>{i.error?n(i.error):n(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",e),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),y(Ye).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",e)})}});function ed(){return In([yg(()=>void y(gb))])}function B(t,n){let[e,r,o]=$l(t,n?.equal),i=e,s=i[ot];return i.set=r,i.update=o,i.asReadonly=td.bind(i),i}function td(){let t=this[ot];if(t.readonlyFn===void 0){let n=()=>this();n[ot]=t,t.readonlyFn=n}return t.readonlyFn}var Dt=class{},Ii=new F("",{providedIn:"root",factory:()=>!1});var nd=new F(""),Pa=new F("");var ho=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=hb}return t})();function hb(){return new ho(J(),Ge())}var Jt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new X(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})(),mo=(()=>{class t{internalPendingTasks=y(Jt);scheduler=y(Dt);errorHandler=y(gt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sr(...t){}var Mi=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>new pu})}return t})(),pu=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,r]of this.queues)e===null?n||=this.flushQueue(r):n||=e.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Fi(t){return{toString:t}.toString()}function Mb(t){return typeof t=="function"}var Ha=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Dh(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Xe=(()=>{let t=()=>Th;return t.ngInherit=!0,t})();function Th(t){return t.type.prototype.ngOnChanges&&(t.setInput=Db),Sb}function Sb(){let t=xh(this),n=t?.current;if(n){let e=t.previous;if(e===jn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Db(t,n,e,r,o){let i=this.declaredInputs[r],s=xh(t)||Tb(t,{previous:jn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Ha(l&&l.currentValue,e,c===jn),Dh(t,n,o,e)}var Nh="__ngSimpleChanges__";function xh(t){return t[Nh]||null}function Tb(t,n){return t[Nh]=n}var Yg=[];var fe=function(t,n=null,e){for(let r=0;r<Yg.length;r++){let o=Yg[r];o(t,n,e)}};function Nb(t,n,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=Th(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}function xb(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Va(t,n,e){Oh(t,n,3,e)}function ja(t,n,e,r){(t[z]&3)===e&&Oh(t,n,e,r)}function rd(t,n){let e=t[z];(e&3)===n&&(e&=16383,e+=1,t[z]=e)}function Oh(t,n,e,r){let o=r!==void 0?t[br]&65535:0,i=r??-1,s=n.length-1,a=0;for(let c=o;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(t[br]+=65536),(a<i||i==-1)&&(Ob(t,e,n,c),t[br]=(t[br]&4294901760)+c+2),c++}function Xg(t,n){fe(4,t,n);let e=H(null);try{n.call(t)}finally{H(e),fe(5,t,n)}}function Ob(t,n,e,r){let o=e[r]<0,i=e[r+1],s=o?-e[r]:e[r],a=t[s];o?t[z]>>14<t[br]>>16&&(t[z]&3)===n&&(t[z]+=16384,Xg(a,i)):Xg(a,i)}var yo=-1,Tr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r,o){this.factory=n,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}};function Rb(t){return(t.flags&8)!==0}function Ab(t){return(t.flags&16)!==0}function kb(t,n,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{let i=o,s=e[++r];Pb(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function Rh(t){return t===3||t===4||t===6}function Pb(t){return t.charCodeAt(0)===64}function _o(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?Kg(t,e,o,null,n[++r]):Kg(t,e,o,null,null))}}return t}function Kg(t,n,e,r,o){let i=0,s=t.length;if(n===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===e){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),o!==null&&t.splice(i++,0,o)}function Ah(t){return t!==yo}function Ga(t){return t&32767}function Fb(t){return t>>16}function za(t,n){let e=Fb(t),r=n;for(;e>0;)r=r[Cr],e--;return r}var pd=!0;function Jg(t){let n=pd;return pd=t,n}var Lb=256,kh=Lb-1,Ph=5,Vb=0,en={};function jb(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(yr)&&(r=e[yr]),r==null&&(r=e[yr]=Vb++);let o=r&kh,i=1<<o;n.data[t+(o>>Ph)]|=i}function qa(t,n){let e=Fh(t,n);if(e!==-1)return e;let r=n[$];r.firstCreatePass&&(t.injectorIndex=n.length,od(r.data,t),od(n,null),od(r.blueprint,null));let o=Hd(t,n),i=t.injectorIndex;if(Ah(o)){let s=Ga(o),a=za(o,n),c=a[$].data;for(let l=0;l<8;l++)n[i+l]=a[s+l]|c[s+l]}return n[i+8]=o,i}function od(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fh(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hd(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;o!==null;){if(r=Uh(o),r===null)return yo;if(e++,o=o[Cr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return yo}function gd(t,n,e){jb(t,n,e)}function Bb(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(Rh(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===n)return e[o+1];o=o+2}}}return null}function Lh(t,n,e){if(e&8||t!==void 0)return t;ba(n,"NodeInjector")}function Vh(t,n,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let o=t[lo],i=Ct(void 0);try{return o?o.get(n,r,e&8):wu(n,r,e&8)}finally{Ct(i)}}return Lh(r,n,e)}function jh(t,n,e,r=0,o){if(t!==null){if(n[z]&2048&&!(r&2)){let s=Gb(t,n,e,r,en);if(s!==en)return s}let i=Bh(t,n,e,r,en);if(i!==en)return i}return Vh(n,e,r,o)}function Bh(t,n,e,r,o){let i=$b(e);if(typeof i=="function"){if(!Xu(n,t,r))return r&1?Lh(o,e,r):Vh(n,e,r,o);try{let s;if(s=i(r),s==null&&!(r&8))ba(e);else return s}finally{Ku()}}else if(typeof i=="number"){let s=null,a=Fh(t,n),c=yo,l=r&1?n[lt][ct]:null;for((a===-1||r&4)&&(c=a===-1?Hd(t,n):n[a+8],c===yo||!th(r,!1)?a=-1:(s=n[$],a=Ga(c),n=za(c,n)));a!==-1;){let u=n[$];if(eh(i,a,u.data)){let d=Ub(a,n,e,s,r,l);if(d!==en)return d}c=n[a+8],c!==yo&&th(r,n[$].data[a+8]===l)&&eh(i,a,n)?(s=u,a=Ga(c),n=za(c,n)):a=-1}}return o}function Ub(t,n,e,r,o,i){let s=n[$],a=s.data[t+8],c=r==null?Hn(a)&&pd:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=Ba(a,s,e,c,l);return u!==null?Ti(n,s,u,a,o):en}function Ba(t,n,e,r,o){let i=t.providerIndexes,s=n.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?a:a+u,v=o?a+u:l;for(let g=d;g<v;g++){let I=s[g];if(g<c&&e===I||g>=c&&I.type===e)return g}if(o){let g=s[c];if(g&&Xt(g)&&g.type===e)return c}return null}function Ti(t,n,e,r,o){let i=t[e],s=n.data;if(i instanceof Tr){let a=i;if(a.resolving){let g=lg(s[e]);throw bu(g)}let c=Jg(a.canSeeViewProviders);a.resolving=!0;let l=s[e].type||s[e],u,d=a.injectImpl?Ct(a.injectImpl):null,v=Xu(t,r,0);try{i=t[e]=a.factory(void 0,o,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&Nb(e,s[e],n)}finally{d!==null&&Ct(d),Jg(c),a.resolving=!1,Ku()}}return i}function $b(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(yr)?t[yr]:void 0;return typeof n=="number"?n>=0?n&kh:Hb:n}function eh(t,n,e){let r=1<<t;return!!(e[n+(t>>Ph)]&r)}function th(t,n){return!(t&2)&&!(t&1&&n)}var Dr=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return jh(this._tNode,this._lView,n,gr(r),e)}};function Hb(){return new Dr(Ge(),J())}function me(t){return Fi(()=>{let n=t.prototype.constructor,e=n[ui]||hd(n),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[ui]||hd(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function hd(t){return gu(t)?()=>{let n=hd(We(t));return n&&n()}:hr(t)}function Gb(t,n,e,r,o){let i=t,s=n;for(;i!==null&&s!==null&&s[z]&2048&&!fo(s);){let a=Bh(i,s,e,r|2,en);if(a!==en)return a;let c=i.parent;if(!c){let l=s[Ru];if(l){let u=l.get(e,en,r);if(u!==en)return u}c=Uh(s),s=s[Cr]}i=c}return o}function Uh(t){let n=t[$],e=n.type;return e===2?n.declTNode:e===1?t[ct]:null}function lc(t){return Bb(Ge(),t)}function zb(){return So(Ge(),J())}function So(t,n){return new Et(jt(t,n))}var Et=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=zb}return t})();function qb(t){return t instanceof Et?t.nativeElement:t}function Wb(){return this._results[Symbol.iterator]()}var Wa=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new te}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=gg(n);(this._changesDetected=!pg(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Wb};function $h(t){return(t.flags&128)===128}var Gd=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Gd||{}),Hh=new Map,Zb=0;function Qb(){return Zb++}function Yb(t){Hh.set(t[Ci],t)}function md(t){Hh.delete(t[Ci])}var nh="__ngContext__";function Co(t,n){Yt(n)?(t[nh]=n[Ci],Yb(n)):t[nh]=n}function Gh(t){return qh(t[uo])}function zh(t){return qh(t[Tt])}function qh(t){for(;t!==null&&!Vt(t);)t=t[Tt];return t}var vd;function zd(t){vd=t}function Wh(){if(vd!==void 0)return vd;if(typeof document<"u")return document;throw new O(210,!1)}var uc=new F("",{providedIn:"root",factory:()=>Xb}),Xb="ng",dc=new F(""),Do=new F("",{providedIn:"platform",factory:()=>"unknown"});var fc=new F("",{providedIn:"root",factory:()=>Wh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kb="h",Jb="b";var Zh="r";var Qh="di";var Yh=!1,Xh=new F("",{providedIn:"root",factory:()=>Yh});var ew=(t,n,e,r)=>{};function tw(t,n,e,r){ew(t,n,e,r)}function pc(t){return(t.flags&32)===32}var nw=()=>null;function Kh(t,n,e=!1){return nw(t,n,e)}function Jh(t,n){let e=t.contentQueries;if(e!==null){let r=H(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=t.data[s];Na(i),a.contentQueries(2,n[s],s)}}}finally{H(r)}}}function yd(t,n,e){Na(0);let r=H(null);try{n(t,e)}finally{H(r)}}function em(t,n,e){if(ku(n)){let r=H(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{H(r)}}}var Dn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Dn||{});var Fa;function rw(){if(Fa===void 0&&(Fa=null,pi.trustedTypes))try{Fa=pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fa}function rh(t){return rw()?.createScriptURL(t)||t}var Za=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ya})`}};function To(t){return t instanceof Za?t.changingThisBreaksApplicationSecurity:t}function qd(t,n){let e=tm(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ya})`)}return e===n}function tm(t){return t instanceof Za&&t.getTypeName()||null}var ow=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nm(t){return t=String(t),t.match(ow)?t:"unsafe:"+t}var gc=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(gc||{});function nt(t){let n=om();return n?n.sanitize(gc.URL,t)||"":qd(t,"URL")?To(t):nm(hi(t))}function rm(t){let n=om();if(n)return rh(n.sanitize(gc.RESOURCE_URL,t)||"");if(qd(t,"ResourceURL"))return rh(To(t));throw new O(904,!1)}function iw(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?rm:nt}function Wd(t,n,e){return iw(n,e)(t)}function om(){let t=J();return t&&t[Zt].sanitizer}function Zd(t){return t.ownerDocument.defaultView}function Li(t){return t.ownerDocument}function im(t){return t instanceof Function?t():t}function sw(t,n,e){let r=t.length;for(;;){let o=t.indexOf(n,e);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}var sm="ng-template";function aw(t,n,e,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&sw(n[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Qd(t))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function Qd(t){return t.type===4&&t.value!==sm}function cw(t,n,e){let r=t.type===4&&!e?sm:t.value;return n===r}function lw(t,n,e){let r=4,o=t.attrs,i=o!==null?fw(o):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Bt(r)&&!Bt(c))return!1;if(s&&Bt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!cw(t,c,e)||c===""&&n.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(o===null||!aw(t,o,c,e)){if(Bt(r))return!1;s=!0}}else{let l=n[++a],u=uw(c,o,Qd(t),e);if(u===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(t){return(t&1)===0}function uw(t,n,e,r){if(n===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){let s=n[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return pw(n,t)}function am(t,n,e=!1){for(let r=0;r<n.length;r++)if(lw(t,n[r],e))return!0;return!1}function dw(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function fw(t){for(let n=0;n<t.length;n++){let e=t[n];if(Rh(e))return n}return t.length}function pw(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function gw(t,n){e:for(let e=0;e<n.length;e++){let r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function oh(t,n){return t?":not("+n.trim()+")":n}function hw(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Bt(s)&&(n+=oh(i,o),o=""),r=s,i=i||!Bt(r);e++}return o!==""&&(n+=oh(i,o)),n}function mw(t){return t.map(hw).join(",")}function vw(t){let n=[],e=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&n.push(i,t[++r]):o===8&&e.push(i);else{if(!Bt(o))break;o=i}r++}return e.length&&n.push(1,...e),n}var Ut={};function yw(t,n){return t.createText(n)}function _w(t,n,e){t.setValue(n,e)}function cm(t,n,e){return t.createElement(n,e)}function Qa(t,n,e,r,o){t.insertBefore(n,e,r,o)}function lm(t,n,e){t.appendChild(n,e)}function ih(t,n,e,r,o){r!==null?Qa(t,n,e,r,o):lm(t,n,e)}function um(t,n,e,r){t.removeChild(null,n,e,r)}function Cw(t,n,e){t.setAttribute(n,"style",e)}function bw(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function dm(t,n,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&kb(t,n,r),o!==null&&bw(t,n,o),i!==null&&Cw(t,n,i)}function Yd(t,n,e,r,o,i,s,a,c,l,u){let d=ke+r,v=d+o,g=ww(d,v),I=typeof l=="function"?l():l;return g[$]={type:t,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:u}}function ww(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Ut);return e}function Ew(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Yd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Xd(t,n,e,r,o,i,s,a,c,l,u){let d=n.blueprint.slice();return d[Lt]=o,d[z]=r|4|128|8|64|1024,(l!==null||t&&t[z]&2048)&&(d[z]|=2048),Fu(d),d[je]=d[Cr]=t,d[Se]=e,d[Zt]=s||t&&t[Zt],d[ye]=a||t&&t[ye],d[lo]=c||t&&t[lo]||null,d[ct]=i,d[Ci]=Qb(),d[_r]=u,d[Ru]=l,d[lt]=n.type==2?t[lt]:d,d}function Iw(t,n,e){let r=jt(n,t),o=Ew(e),i=t[Zt].rendererFactory,s=Kd(t,Xd(t,o,null,fm(e),r,n,null,i.createRenderer(r,e),null,null,null));return t[n.index]=s}function fm(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function pm(t,n,e,r){if(e===0)return-1;let o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Kd(t,n){return t[uo]?t[Ou][Tt]=n:t[uo]=n,t[Ou]=n,n}function f(t=1){gm(Fe(),J(),Sn()+t,!1)}function gm(t,n,e,r){if(!r)if((n[z]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Va(n,i,e)}else{let i=t.preOrderHooks;i!==null&&ja(n,i,0,e)}zn(e)}var hc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(hc||{});function _d(t,n,e,r){let o=H(null);try{let[i,s,a]=t.inputs[e],c=null;(s&hc.SignalBased)!==0&&(c=n[i][ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,c,r,e,i):Dh(n,c,i,r)}finally{H(o)}}var Tn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Tn||{}),Mw;function Jd(t,n){return Mw(t,n)}var mc=new Set;function vo(t,n,e,r,o,i){if(r!=null){let s,a=!1;Vt(r)?s=r:Yt(r)&&(a=!0,r=r[Lt]);let c=Nt(r);t===0&&e!==null?o==null?lm(n,e,c):Qa(n,e,c,o||null,!0):t===1&&e!==null?Qa(n,e,c,o||null,!0):t===2?sh(i,l=>{um(n,c,a,l)}):t===3&&sh(i,()=>{n.destroyNode(c)}),s!=null&&Fw(n,t,s,e,o)}}function Sw(t,n){hm(t,n),n[Lt]=null,n[ct]=null}function Dw(t,n,e,r,o,i){r[Lt]=o,r[ct]=n,yc(t,r,e,1,o,i)}function hm(t,n){n[Zt].changeDetectionScheduler?.notify(9),yc(t,n,n[ye],2,null,null)}function Tw(t){let n=t[uo];if(!n)return id(t[$],t);for(;n;){let e=null;if(Yt(n))e=n[uo];else{let r=n[Pe];r&&(e=r)}if(!e){for(;n&&!n[Tt]&&n!==t;)Yt(n)&&id(n[$],n),n=n[je];n===null&&(n=t),Yt(n)&&id(n[$],n),e=n&&n[Tt]}n=e}}function ef(t,n){let e=t[Er],r=e.indexOf(n);e.splice(r,1)}function vc(t,n){if(Ir(n))return;let e=n[ye];e.destroyNode&&yc(t,n,e,3,null,null),Tw(n)}function id(t,n){if(Ir(n))return;let e=H(null);try{n[z]&=-129,n[z]|=256,n[wt]&&cr(n[wt]),Ow(t,n),xw(t,n),n[$].type===1&&n[ye].destroy();let r=n[Un];if(r!==null&&Vt(n[je])){r!==n[je]&&ef(r,n);let o=n[Qt];o!==null&&o.detachView(t)}md(n)}finally{H(e)}}function sh(t,n){if(t&&t[Qe]&&t[Qe].leave)if(t[Qe].skipLeaveAnimations)t[Qe].skipLeaveAnimations=!1;else{let e=t[Qe].leave,r=[];for(let o=0;o<e.length;o++){let i=e[o];r.push(i())}t[Qe].running=Promise.allSettled(r),t[Qe].leave=void 0}Nw(t,n)}function Nw(t,n){if(t&&t[Qe]&&t[Qe].running){t[Qe].running.then(()=>{t[Qe]&&t[Qe].running&&(t[Qe].running=void 0),mc.delete(t),n(!0)});return}n(!1)}function xw(t,n){let e=t.cleanup,r=n[co];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[co]=null);let o=n[Cn];if(o!==null){n[Cn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[Mn];if(i!==null){n[Mn]=null;for(let s of i)s.destroy()}}function Ow(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=n[e[r]];if(!(o instanceof Tr)){let i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];fe(4,a,c);try{c.call(a)}finally{fe(5,a,c)}}else{fe(4,o,i);try{i.call(o)}finally{fe(5,o,i)}}}}}function mm(t,n,e){return Rw(t,n.parent,e)}function Rw(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Lt];if(Hn(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Dn.None||o===Dn.Emulated)return null}return jt(r,e)}function vm(t,n,e){return kw(t,n,e)}function Aw(t,n,e){return t.type&40?jt(t,e):null}var kw=Aw,ah;function tf(t,n,e,r){let o=mm(t,r,n),i=n[ye],s=r.parent||n[ct],a=vm(s,r,n);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)ih(i,o,e[c],a,!1);else ih(i,o,e,a,!1);ah!==void 0&&ah(i,r,n,e,o)}function Si(t,n){if(n!==null){let e=n.type;if(e&3)return jt(n,t);if(e&4)return Cd(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Si(t,r);{let o=t[n.index];return Vt(o)?Cd(-1,o):Nt(o)}}else{if(e&128)return Si(t,n.next);if(e&32)return Jd(n,t)()||Nt(t[n.index]);{let r=ym(t,n);if(r!==null){if(Array.isArray(r))return r[0];let o=Vn(t[lt]);return Si(o,r)}else return Si(t,n.next)}}}return null}function ym(t,n){if(n!==null){let r=t[lt][ct],o=n.projection;return r.projection[o]}return null}function Cd(t,n){let e=Pe+t+1;if(e<n.length){let r=n[e],o=r[$].firstChild;if(o!==null)return Si(r,o)}return n[$n]}function nf(t,n,e,r,o,i,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],c=e.type;if(s&&n===0&&(a&&Co(Nt(a),r),e.flags|=2),!pc(e))if(c&8)nf(t,n,e.child,r,o,i,!1),vo(n,t,o,a,i,r);else if(c&32){let l=Jd(e,r),u;for(;u=l();)vo(n,t,o,u,i,r);vo(n,t,o,a,i,r)}else c&16?_m(t,n,r,e,o,i):vo(n,t,o,a,i,r);e=s?e.projectionNext:e.next}}function yc(t,n,e,r,o,i){nf(e,r,t.firstChild,n,o,i,!1)}function Pw(t,n,e){let r=n[ye],o=mm(t,e,n),i=e.parent||n[ct],s=vm(i,e,n);_m(r,0,n,e,o,s)}function _m(t,n,e,r,o,i){let s=e[lt],c=s[ct].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vo(n,t,o,u,i,e)}else{let l=c,u=s[je];$h(r)&&(l.flags|=128),nf(t,n,l,u,o,i,!0)}}function Fw(t,n,e,r,o){let i=e[$n],s=Nt(e);i!==s&&vo(n,t,r,i,o);for(let a=Pe;a<e.length;a++){let c=e[a];yc(c[$],c,t,n,r,i)}}function Lw(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:Tn.DashCase;o==null?t.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Tn.Important),t.setStyle(e,r,o,i))}}function Cm(t,n,e,r,o){let i=Sn(),s=r&2;try{zn(-1),s&&n.length>ke&&gm(t,n,ke,!1),fe(s?2:0,o,e),e(r,o)}finally{zn(i),fe(s?3:1,o,e)}}function bm(t,n,e){Gw(t,n,e),(e.flags&64)===64&&zw(t,n,e)}function rf(t,n,e=jt){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?e(n,t):t[s];t[o++]=a}}}function Vw(t,n,e,r){let i=r.get(Xh,Yh)||e===Dn.ShadowDom,s=t.selectRootElement(n,i);return jw(s),s}function jw(t){Bw(t)}var Bw=()=>null;function Uw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $w(t,n,e,r,o,i){let s=n[$];if(of(t,s,n,e,r)){Hn(t)&&Hw(n,t.index);return}t.type&3&&(e=Uw(e)),wm(t,n,e,r,o,i)}function wm(t,n,e,r,o,i){if(t.type&3){let s=jt(t,n);r=i!=null?i(r,t.value||"",e):r,o.setProperty(s,e,r)}else t.type&12}function Hw(t,n){let e=xt(n,t);e[z]&16||(e[z]|=64)}function Gw(t,n,e){let r=e.directiveStart,o=e.directiveEnd;Hn(e)&&Iw(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||qa(e,n);let i=e.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=Ti(n,t,s,e);if(Co(c,n),i!==null&&Yw(n,s-r,c,a,e,i),Xt(a)){let l=xt(e.index,n);l[Se]=Ti(n,t,s,e)}}}function zw(t,n,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,s=Ug();try{zn(i);for(let a=r;a<o;a++){let c=t.data[a],l=n[a];Ta(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qw(c,l)}}finally{zn(-1),Ta(s)}}function qw(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Ww(t,n){let e=t.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];am(n,i.selectors,!1)&&(r??=[],Xt(i)?r.unshift(i):r.push(i))}return r}function Zw(t,n,e,r,o,i){let s=jt(t,n);Qw(n[ye],s,i,t.value,e,r,o)}function Qw(t,n,e,r,o,i,s){if(i==null)t.removeAttribute(n,o,e);else{let a=s==null?hi(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}function Yw(t,n,e,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];_d(r,e,c,l)}}function Em(t,n,e,r,o){let i=ke+e,s=n[$],a=o(s,n,t,r,e);n[i]=a,po(t,!0);let c=t.type===2;return c?(dm(n[ye],a,t),(Ag()===0||Ma(t))&&Co(a,n),kg()):Co(a,n),Aa()&&(!c||!pc(t))&&tf(s,n,a,t),t}function Im(t){let n=t;return qu()?Wu():(n=n.parent,po(n,!1)),n}function Xw(t,n){let e=t[lo];if(!e)return;let r;try{r=e.get(gt,null)}catch{r=null}r?.(n)}function of(t,n,e,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];_d(d,e[l],u,o),a=!0}if(i)for(let c of i){let l=e[c],u=n.data[c];_d(u,l,r,o),a=!0}return a}function Kw(t,n){let e=xt(n,t),r=e[$];Jw(r,e);let o=e[Lt];o!==null&&e[_r]===null&&(e[_r]=Kh(o,e[lo])),fe(18),sf(r,e,e[Se]),fe(19,e[Se])}function Jw(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function sf(t,n,e){xa(n);try{let r=t.viewQuery;r!==null&&yd(1,r,e);let o=t.template;o!==null&&Cm(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Qt]?.finishViewCreation(t),t.staticContentQueries&&Jh(t,n),t.staticViewQueries&&yd(2,t.viewQuery,e);let i=t.components;i!==null&&e0(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[z]&=-5,Oa()}}function e0(t,n){for(let e=0;e<n.length;e++)Kw(t,n[e])}function Vi(t,n,e,r){let o=H(null);try{let i=n.tView,a=t[z]&4096?4096:16,c=Xd(t,i,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[n.index];c[Un]=l;let u=t[Qt];return u!==null&&(c[Qt]=u.createEmbeddedView(i)),sf(i,c,e),c}finally{H(o)}}function bo(t,n){return!n||n.firstChild===null||$h(t)}function Ni(t,n,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=n[e.index];i!==null&&r.push(Nt(i)),Vt(i)&&Mm(i,r);let s=e.type;if(s&8)Ni(t,n,e.child,r);else if(s&32){let a=Jd(e,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=ym(n,e);if(Array.isArray(a))r.push(...a);else{let c=Vn(n[lt]);Ni(c[$],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function Mm(t,n){for(let e=Pe;e<t.length;e++){let r=t[e],o=r[$].firstChild;o!==null&&Ni(r[$],r,o,n)}t[$n]!==t[Lt]&&n.push(t[$n])}function Sm(t){if(t[wr]!==null){for(let n of t[wr])n.impl.addSequence(n);t[wr].length=0}}var Dm=[];function t0(t){return t[wt]??n0(t)}function n0(t){let n=Dm.pop()??Object.create(o0);return n.lView=t,n}function r0(t){t.lView[wt]!==t&&(t.lView=null,Dm.push(t))}var o0=Q(S({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Gn(t.lView)},consumerOnSignalRead(){this.lView[wt]=this}});function i0(t){let n=t[wt]??Object.create(s0);return n.lView=t,n}var s0=Q(S({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Vn(t.lView);for(;n&&!Tm(n[$]);)n=Vn(n);n&&Lu(n)},consumerOnSignalRead(){this.lView[wt]=this}});function Tm(t){return t.type!==2}function Nm(t){if(t[Mn]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Mn])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[z]&8192)}}var a0=100;function xm(t,n=0){let r=t[Zt].rendererFactory,o=!1;o||r.begin?.();try{c0(t,n)}finally{o||r.end?.()}}function c0(t,n){let e=Zu();try{go(!0),bd(t,n);let r=0;for(;Ei(t);){if(r===a0)throw new O(103,!1);r++,bd(t,1)}}finally{go(e)}}function l0(t,n,e,r){if(Ir(n))return;let o=n[z],i=!1,s=!1;xa(n);let a=!0,c=null,l=null;i||(Tm(t)?(l=t0(n),c=ar(l)):js()===null?(a=!1,l=i0(n),c=ar(l)):n[wt]&&(cr(n[wt]),n[wt]=null));try{Fu(n),Vg(t.bindingStartIndex),e!==null&&Cm(t,n,e,2,r),u0(n);let u=(o&3)===3;if(!i)if(u){let g=t.preOrderCheckHooks;g!==null&&Va(n,g,null)}else{let g=t.preOrderHooks;g!==null&&ja(n,g,0,null),rd(n,0)}if(s||d0(n),Nm(n),Om(n,0),t.contentQueries!==null&&Jh(t,n),!i)if(u){let g=t.contentCheckHooks;g!==null&&Va(n,g)}else{let g=t.contentHooks;g!==null&&ja(n,g,1),rd(n,1)}p0(t,n);let d=t.components;d!==null&&Am(n,d,0);let v=t.viewQuery;if(v!==null&&yd(2,v,r),!i)if(u){let g=t.viewCheckHooks;g!==null&&Va(n,g)}else{let g=t.viewHooks;g!==null&&ja(n,g,2),rd(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Ia]){for(let g of n[Ia])g();n[Ia]=null}i||(Sm(n),n[z]&=-73)}catch(u){throw i||Gn(n),u}finally{l!==null&&(Gr(l,c),a&&r0(l)),Oa()}}function u0(t){let n=t[Qe];if(n?.enter){for(let e of n.enter)e();n.enter=void 0}}function Om(t,n){for(let e=Gh(t);e!==null;e=zh(e))for(let r=Pe;r<e.length;r++){let o=e[r];Rm(o,n)}}function d0(t){for(let n=Gh(t);n!==null;n=zh(n)){if(!(n[z]&2))continue;let e=n[Er];for(let r=0;r<e.length;r++){let o=e[r];Lu(o)}}}function f0(t,n,e){fe(18);let r=xt(n,t);Rm(r,e),fe(19,r[Se])}function Rm(t,n){Sa(t)&&bd(t,n)}function bd(t,n){let r=t[$],o=t[z],i=t[wt],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&zr(i)),s||=!1,i&&(i.dirty=!1),t[z]&=-9217,s)l0(r,t,r.template,t[Se]);else if(o&8192){let a=H(null);try{Nm(t),Om(t,1);let c=r.components;c!==null&&Am(t,c,1),Sm(t)}finally{H(a)}}}function Am(t,n,e){for(let r=0;r<n.length;r++)f0(t,n[r],e)}function p0(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)zn(~o);else{let i=o,s=e[++r],a=e[++r];Bg(s,i);let c=n[i];fe(24,c),a(2,c),fe(25,c)}}}finally{zn(-1)}}function af(t,n){let e=Zu()?64:1088;for(t[Zt].changeDetectionScheduler?.notify(n);t;){t[z]|=e;let r=Vn(t);if(fo(t)&&!r)return t;t=r}return null}function km(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Pm(t,n){let e=Pe+n;if(e<t.length)return t[e]}function ji(t,n,e,r=!0){let o=n[$];if(g0(o,n,t,e),r){let s=Cd(e,t),a=n[ye],c=a.parentNode(t[$n]);c!==null&&Dw(o,t[ct],a,n,c,s)}let i=n[_r];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Fm(t,n){let e=xi(t,n);return e!==void 0&&vc(e[$],e),e}function xi(t,n){if(t.length<=Pe)return;let e=Pe+n,r=t[e];if(r){let o=r[Un];o!==null&&o!==t&&ef(o,r),n>0&&(t[e-1][Tt]=r[Tt]);let i=mi(t,Pe+n);Sw(r[$],r);let s=i[Qt];s!==null&&s.detachView(i[$]),r[je]=null,r[Tt]=null,r[z]&=-129}return r}function g0(t,n,e,r){let o=Pe+r,i=e.length;r>0&&(e[o-1][Tt]=n),r<i-Pe?(n[Tt]=e[o],Eu(e,Pe+r,n)):(e.push(n),n[Tt]=null),n[je]=e;let s=n[Un];s!==null&&e!==s&&Lm(s,n);let a=n[Qt];a!==null&&a.insertView(t),Da(n),n[z]|=128}function Lm(t,n){let e=t[Er],r=n[je];if(Yt(r))t[z]|=2;else{let o=r[je][lt];n[lt]!==o&&(t[z]|=2)}e===null?t[Er]=[n]:e.push(n)}var qn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[$];return Ni(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[Se]}set context(n){this._lView[Se]=n}get destroyed(){return Ir(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[je];if(Vt(n)){let e=n[bi],r=e?e.indexOf(this):-1;r>-1&&(xi(n,r),mi(e,r))}this._attachedToViewContainer=!1}vc(this._lView[$],this._lView)}onDestroy(n){Vu(this._lView,n)}markForCheck(){af(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){Da(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,xm(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=fo(this._lView),e=this._lView[Un];e!==null&&!n&&ef(e,this._lView),hm(this._lView[$],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=n;let e=fo(this._lView),r=this._lView[Un];r!==null&&!e&&Lm(r,this._lView),Da(this._lView)}};var Oi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=h0;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){let i=Vi(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new qn(i)}}return t})();function h0(){return cf(Ge(),J())}function cf(t,n){return t.type&4?new Oi(n,t,So(t,n)):null}function Bi(t,n,e,r,o){let i=t.data[n];if(i===null)i=m0(t,n,e,r,o),jg()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let s=Fg();i.injectorIndex=s===null?-1:s.injectorIndex}return po(i,!0),i}function m0(t,n,e,r,o){let i=zu(),s=qu(),a=s?i:i&&i.parent,c=t.data[n]=y0(t,a,e,n,r,o);return v0(t,c,i,s),c}function v0(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function y0(t,n,e,r,o,i){let s=n?n.injectorIndex:-1,a=0;return $u()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var pF=new RegExp(`^(\\d+)*(${Jb}|${Kb})*(.*)`);function _0(t){let n=t[Au]??[],r=t[je][ye],o=[];for(let i of n)i.data[Qh]!==void 0?o.push(i):C0(i,r);t[Au]=o}function C0(t,n){let e=0,r=t.firstChild;if(r){let o=t.data[Zh];for(;e<o;){let i=r.nextSibling;um(n,r,!1),r=i,e++}}}var b0=()=>null,w0=()=>null;function Ya(t,n){return b0(t,n)}function Vm(t,n,e){return w0(t,n,e)}var jm=class{},_c=class{},wd=class{resolveComponentFactory(n){throw new O(917,!1)}},Ui=class{static NULL=new wd},Nr=class{},Nn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>E0()}return t})();function E0(){let t=J(),n=Ge(),e=xt(n.index,t);return(Yt(e)?e:t)[ye]}var Bm=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>null})}return t})();var Ua={},Ed=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){let o=this.injector.get(n,Ua,r);return o!==Ua||e===Ua?o:this.parentInjector.get(n,e,r)}};function Xa(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=_a(o,a);else if(i==2){let c=a,l=n[++s];r=_a(r,c+": "+l+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function w(t,n=0){let e=J();if(e===null)return D(t,n);let r=Ge();return jh(r,e,We(t),n)}function I0(t,n,e,r,o){let i=r===null?null:{"":-1},s=o(t,e);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}D0(t,n,e,a,i,c,l)}i!==null&&r!==null&&M0(e,r,i)}function M0(t,n,e){let r=t.localNames=[];for(let o=0;o<n.length;o+=2){let i=e[n[o+1]];if(i==null)throw new O(-301,!1);r.push(n[o],i)}}function S0(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function D0(t,n,e,r,o,i,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let g=r[v];!c&&Xt(g)&&(c=!0,S0(t,e,v)),gd(qa(e,n),t,g.type)}A0(e,t.data.length,a);for(let v=0;v<a;v++){let g=r[v];g.providersResolver&&g.providersResolver(g)}let l=!1,u=!1,d=pm(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let v=0;v<a;v++){let g=r[v];if(e.mergedAttrs=_o(e.mergedAttrs,g.hostAttrs),N0(t,e,n,d,g),R0(d,g,o),s!==null&&s.has(g)){let[V,P]=s.get(g);e.directiveToIndex.set(g.type,[d,V+e.directiveStart,P+e.directiveStart])}else(i===null||!i.has(g))&&e.directiveToIndex.set(g.type,d);g.contentQueries!==null&&(e.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(e.flags|=64);let I=g.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!u&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}T0(t,e,i)}function T0(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=t.data[r];if(e===null||!e.has(o))ch(0,n,o,r),ch(1,n,o,r),uh(n,r,!1);else{let i=e.get(o);lh(0,n,i,r),lh(1,n,i,r),uh(n,r,!0)}}}function ch(t,n,e,r){let o=t===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),Um(n,i)}}function lh(t,n,e,r){let o=t===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Um(n,s)}}function Um(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function uh(t,n,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!e&&o===null||e&&i===null||Qd(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(e&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function N0(t,n,e,r,o){t.data[r]=o;let i=o.factory||(o.factory=hr(o.type,!0)),s=new Tr(i,Xt(o),w,null);t.blueprint[r]=s,e[r]=s,x0(t,n,r,pm(t,e,o.hostVars,Ut),o)}function x0(t,n,e,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;O0(s)!=a&&s.push(a),s.push(e,r,i)}}function O0(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function R0(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Xt(n)&&(e[""]=t)}}function A0(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function $m(t,n,e,r,o,i,s,a){let c=n[$],l=c.consts,u=Kt(l,s),d=Bi(c,t,e,r,u);return i&&I0(c,n,d,Kt(l,a),o),d.mergedAttrs=_o(d.mergedAttrs,d.attrs),d.attrs!==null&&Xa(d,d.attrs,!1),d.mergedAttrs!==null&&Xa(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Hm(t,n){xb(t,n),ku(n)&&t.queries.elementEnd(n)}function k0(t,n,e,r,o,i){let s=n.consts,a=Kt(s,o),c=Bi(n,t,e,r,a);if(c.mergedAttrs=_o(c.mergedAttrs,c.attrs),i!=null){let l=Kt(s,i);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Xa(c,c.attrs,!1),c.mergedAttrs!==null&&Xa(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function Wn(t,n,e){if(e===Ut)return!1;let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function $a(t,n,e){return function r(o){let i=Hn(t)?xt(t.index,n):n;af(i,5);let s=n[Se],a=dh(n,s,e,o),c=r.__ngNextListenerFn__;for(;c;)a=dh(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function dh(t,n,e,r){let o=H(null);try{return fe(6,n,e),e(r)!==!1}catch(i){return Xw(t,i),!1}finally{fe(7,n,e),H(o)}}function Gm(t,n,e,r,o,i,s,a){let c=Ma(t),l=!1,u=null;if(!r&&c&&(u=F0(n,e,i,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=jt(t,e),v=r?r(d):d;tw(e,v,i,a);let g=o.listen(v,i,a);if(!P0(i)){let I=r?V=>r(Nt(V[t.index])):t.index;zm(I,n,e,i,a,g,!1)}}return l}function P0(t){return t.startsWith("animation")||t.startsWith("transition")}function F0(t,n,e,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===r){let a=n[co],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function zm(t,n,e,r,o,i,s){let a=n.firstCreatePass?Bu(n):null,c=ju(e),l=c.length;c.push(o,i),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function fh(t,n,e,r,o,i){let s=n[e],a=n[$],l=a.data[e].outputs[r],d=s[l].subscribe(i);zm(t.index,a,n,o,i,d,!0)}var Id=Symbol("BINDING");var Ka=class extends Ui{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Bn(n);return new wo(e,this.ngModule)}};function L0(t){return Object.keys(t).map(n=>{let[e,r,o]=t[n],i={propName:e,templateName:n,isSignal:(r&hc.SignalBased)!==0};return o&&(i.transform=o),i})}function V0(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function j0(t,n,e){let r=n instanceof Ae?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ed(e,r):e}function B0(t){let n=t.get(Nr,null);if(n===null)throw new O(407,!1);let e=t.get(Bm,null),r=t.get(Dt,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function U0(t,n){let e=qm(t);return cm(n,e,e==="svg"?Mg:e==="math"?Sg:null)}function qm(t){return(t.selectors[0][0]||"div").toLowerCase()}var wo=class extends _c{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=V0(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=mw(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,o,i,s){fe(22);let a=H(null);try{let c=this.componentDef,l=$0(r,c,s,i),u=j0(c,o||this.ngModule,n),d=B0(u),v=d.rendererFactory.createRenderer(null,c),g=r?Vw(v,r,c.encapsulation,u):U0(c,v),I=s?.some(ph)||i?.some(k=>typeof k!="function"&&k.bindings.some(ph)),V=Xd(null,l,null,512|fm(c),null,null,d,v,u,null,Kh(g,u,!0));V[ke]=g,xa(V);let P=null;try{let k=$m(ke,V,2,"#host",()=>l.directiveRegistry,!0,0);dm(v,g,k),Co(g,V),bm(l,V,k),em(l,k,V),Hm(l,k),e!==void 0&&G0(k,this.ngContentSelectors,e),P=xt(k.index,V),V[Se]=P[Se],sf(l,V,null)}catch(k){throw P!==null&&md(P),md(V),k}finally{fe(23),Oa()}return new Ja(this.componentType,V,!!I)}finally{H(a)}}};function $0(t,n,e,r){let o=t?["ng-version","20.3.3"]:vw(n.selectors[0]),i=null,s=null,a=0;if(e)for(let u of e)a+=u[Id].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let v of d.bindings){a+=v[Id].requiredVars;let g=u+1;v.create&&(v.targetIdx=g,(i??=[]).push(v)),v.update&&(v.targetIdx=g,(s??=[]).push(v))}}let c=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,v=Du(d);c.push(v)}return Yd(0,null,H0(i,s),1,a,c,null,null,null,[o],null)}function H0(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let r of t)r.create();if(e&2&&n)for(let r of n)r.update()}}function ph(t){let n=t[Id].kind;return n==="input"||n==="twoWay"}var Ja=class extends jm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=wi(e[$],ke),this.location=So(this._tNode,e),this.instance=xt(this._tNode.index,e)[Se],this.hostView=this.changeDetectorRef=new qn(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView,i=of(r,o[$],o,n,e);this.previousInputValues.set(n,e);let s=xt(r.index,o);af(s,1)}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function G0(t,n,e){let r=t.projection=[];for(let o=0;o<n.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var No=(()=>{class t{static __NG_ELEMENT_ID__=z0}return t})();function z0(){let t=Ge();return Zm(t,J())}var q0=No,Wm=class extends q0{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Hd(this._hostTNode,this._hostLView);if(Ah(n)){let e=za(n,this._hostLView),r=Ga(n),o=e[$].data[r+8];return new Dr(o,e)}else return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=gh(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(n,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ya(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,bo(this._hostTNode,s)),a}createComponent(n,e,r,o,i,s,a){let c=n&&!Mb(n),l;if(c)l=e;else{let P=e||{};l=P.index,r=P.injector,o=P.projectableNodes,i=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let u=c?n:new wo(Bn(n)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let k=(c?d:this.parentInjector).get(Ae,null);k&&(i=k)}let v=Bn(u.componentType??{}),g=Ya(this._lContainer,v?.id??null),I=g?.firstChild??null,V=u.create(d,o,I,i,s,a);return this.insertImpl(V.hostView,l,bo(this._hostTNode,g)),V}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let o=n._lView;if(Ng(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=o[je],l=new Wm(c,c[ct],c[je]);l.detach(l.indexOf(n))}}let i=this._adjustIndex(e),s=this._lContainer;return ji(s,o,i,r),n.attachToViewContainerRef(),Eu(sd(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=gh(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=xi(this._lContainer,e);r&&(mi(sd(this._lContainer),e),vc(r[$],r))}detach(n){let e=this._adjustIndex(n,-1),r=xi(this._lContainer,e);return r&&mi(sd(this._lContainer),e)!=null?new qn(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function gh(t){return t[bi]}function sd(t){return t[bi]||(t[bi]=[])}function Zm(t,n){let e,r=n[t.index];return Vt(r)?e=r:(e=km(r,n,null,t),n[t.index]=e,Kd(n,e)),Z0(e,n,t,r),new Wm(e,t,n)}function W0(t,n){let e=t[ye],r=e.createComment(""),o=jt(n,t),i=e.parentNode(o);return Qa(e,i,r,e.nextSibling(o),!1),r}var Z0=X0,Q0=()=>!1;function Y0(t,n,e){return Q0(t,n,e)}function X0(t,n,e,r){if(t[$n])return;let o;e.type&8?o=Nt(r):o=W0(n,e),t[$n]=o}var Md=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Sd=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let s=e.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)lf(n,e).matches!==null&&this.queries[e].setDirty()}},ec=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=iE(n):this.predicate=n}},Dd=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Td=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(n,e,K0(e,i)),this.matchTNodeWithReadOption(n,e,Ba(e,n,i,!1,!1))}else r===Oi?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Ba(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Et||o===No||o===Oi&&e.type&4)this.addMatch(e.index,-2);else{let i=Ba(e,n,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function K0(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function J0(t,n){return t.type&11?So(t,n):t.type&4?cf(t,n):null}function eE(t,n,e,r){return e===-1?J0(n,t):e===-2?tE(t,n,r):Ti(t,t[$],e,n)}function tE(t,n,e){if(e===Et)return So(n,t);if(e===Oi)return cf(n,t);if(e===No)return Zm(n,t)}function Qm(t,n,e,r){let o=n[Qt].queries[r];if(o.matches===null){let i=t.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(eE(n,u,s[c+1],e.metadata.read))}}o.matches=a}return o.matches}function Nd(t,n,e,r){let o=t.queries.getByIndex(e),i=o.matches;if(i!==null){let s=Qm(t,n,o,e);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=n[-c];for(let d=Pe;d<u.length;d++){let v=u[d];v[Un]===v[je]&&Nd(v[$],v,l,r)}if(u[Er]!==null){let d=u[Er];for(let v=0;v<d.length;v++){let g=d[v];Nd(g[$],g,l,r)}}}}}return r}function nE(t,n){return t[Qt].queries[n].queryList}function Ym(t,n,e){let r=new Wa((e&4)===4);return Rg(t,n,r,r.destroy),(n[Qt]??=new Sd).queries.push(new Md(r))-1}function rE(t,n,e){let r=Fe();return r.firstCreatePass&&(Xm(r,new ec(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),Ym(r,J(),n)}function oE(t,n,e,r){let o=Fe();if(o.firstCreatePass){let i=Ge();Xm(o,new ec(n,e,r),i.index),sE(o,t),(e&2)===2&&(o.staticContentQueries=!0)}return Ym(o,J(),e)}function iE(t){return t.split(",").map(n=>n.trim())}function Xm(t,n,e){t.queries===null&&(t.queries=new Dd),t.queries.track(new Td(n,e))}function sE(t,n){let e=t.contentQueries||(t.contentQueries=[]),r=e.length?e[e.length-1]:-1;n!==r&&e.push(t.queries.length-1,n)}function lf(t,n){return t.queries.getByIndex(n)}function aE(t,n){let e=t[$],r=lf(e,n);return r.crossesNgTemplate?Nd(e,t,n,[]):Qm(e,t,r,n)}var hh=new Set;function xn(t){hh.has(t)||(hh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Eo=class{},Cc=class{};var tc=class extends Eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ka(this);constructor(n,e,r,o=!0){super(),this.ngModuleType=n,this._parent=e;let i=Su(n);this._bootstrapComponents=im(i.bootstrap),this._r3Injector=Ju(n,e,[{provide:Eo,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver},...r],bn(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},nc=class extends Cc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new tc(this.moduleType,n,[])}};var Ri=class extends Eo{injector;componentFactoryResolver=new Ka(this);instance=null;constructor(n){super();let e=new vr([...n.providers,{provide:Eo,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver}],n.parent||_i(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function $i(t,n,e=null){return new Ri({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var cE=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Tu(!1,e.type),o=r.length>0?$i([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:t,providedIn:"environment",factory:()=>new t(D(Ae))})}return t})();function A(t){return Fi(()=>{let n=Km(t),e=Q(S({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(cE).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&xn("NgStandalone"),Jm(e);let r=t.dependencies;return e.directiveDefs=mh(r,lE),e.pipeDefs=mh(r,vg),e.id=fE(e),e})}function lE(t){return Bn(t)||Du(t)}function Zn(t){return Fi(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function uE(t,n){if(t==null)return jn;let e={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=hc.None,c=null),e[i]=[r,a,c],n[i]=s}return e}function dE(t){if(t==null)return jn;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function Ue(t){return Fi(()=>{let n=Km(t);return Jm(n),n})}function Km(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||jn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:uE(t.inputs,n),outputs:dE(t.outputs),debugInfo:null}}function Jm(t){t.features?.forEach(n=>n(t))}function mh(t,n){return t?()=>{let e=typeof t=="function"?t():t,r=[];for(let o of e){let i=n(o);i!==null&&r.push(i)}return r}:null}function fE(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function pE(t){return Object.getPrototypeOf(t.prototype).constructor}function se(t){let n=pE(t.type),e=!0,r=[t];for(;n;){let o;if(Xt(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new O(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);let s=t;s.inputs=ad(t.inputs),s.declaredInputs=ad(t.declaredInputs),s.outputs=ad(t.outputs);let a=o.hostBindings;a&&yE(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&mE(t,c),l&&vE(t,l),gE(t,o),cg(t.outputs,o.outputs),Xt(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===se&&(e=!1)}}n=Object.getPrototypeOf(n)}hE(r)}function gE(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function hE(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=_o(o.hostAttrs,e=_o(e,o.hostAttrs))}}function ad(t){return t===jn?{}:t===st?[]:t}function mE(t,n){let e=t.viewQuery;e?t.viewQuery=(r,o)=>{n(r,o),e(r,o)}:t.viewQuery=n}function vE(t,n){let e=t.contentQueries;e?t.contentQueries=(r,o,i)=>{n(r,o,i),e(r,o,i)}:t.contentQueries=n}function yE(t,n){let e=t.hostBindings;e?t.hostBindings=(r,o)=>{n(r,o),e(r,o)}:t.hostBindings=n}function _E(t,n,e,r,o,i,s,a){if(e.firstCreatePass){t.mergedAttrs=_o(t.mergedAttrs,t.attrs);let u=t.tView=Yd(2,t,o,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),u.queries=e.queries.embeddedTView(t))}a&&(t.flags|=a),po(t,!1);let c=CE(e,n,t,r);Aa()&&tf(e,n,c,t),Co(c,n);let l=km(c,n,c,t);n[r+ke]=l,Kd(n,l),Y0(l,t,n)}function Ai(t,n,e,r,o,i,s,a,c,l,u){let d=e+ke,v;if(n.firstCreatePass){if(v=Bi(n,d,4,s||null,a||null),l!=null){let g=Kt(n.consts,l);v.localNames=[];for(let I=0;I<g.length;I+=2)v.localNames.push(g[I],-1)}}else v=n.data[d];return _E(v,t,n,e,r,o,i,c),l!=null&&rf(t,v,u),v}var CE=bE;function bE(t,n,e,r){return ka(!0),n[ye].createComment("")}var bc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(bc||{}),Or=new F(""),ev=!1,xd=class extends te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Eg()&&(this.destroyRef=y(Ye,{optional:!0})??void 0,this.pendingTasks=y(Jt,{optional:!0})??void 0)}emit(n){let e=H(null);try{super.next(n)}finally{H(e)}}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof xe&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},De=xd;function tv(t){let n,e;function r(){t=Sr;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function vh(t){return queueMicrotask(()=>t()),()=>{t=Sr}}var uf="isAngularZone",rc=uf+"_ID",wE=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ev}=n;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ME(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,EE,Sr,Sr);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},EE={};function df(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IE(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){tv(()=>{t.callbackScheduled=!1,Od(t),t.isCheckStableRunning=!0,df(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Od(t)}function ME(t){let n=()=>{IE(t)},e=wE++;t._inner=t._inner.fork({name:"angular",properties:{[uf]:!0,[rc]:e,[rc+e]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(SE(c))return r.invokeTask(i,s,a,c);try{return yh(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),_h(t)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return yh(t),r.invoke(i,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!DE(c)&&n(),_h(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Od(t),df(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Od(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function yh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _h(t){t._nesting--,df(t)}var ki=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}};function SE(t){return nv(t,"__ignore_ng_zone__")}function DE(t){return nv(t,"__scheduler_tick__")}function nv(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var ff=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})(),rv=[0,1,2,3],ov=(()=>{class t{ngZone=y(Te);scheduler=y(Dt);errorHandler=y(bt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Or,{optional:!0})}execute(){let e=this.sequences.size>0;e&&fe(16),this.executing=!0;for(let r of rv)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&fe(17)}register(e){let{view:r}=e;r!==void 0?((r[wr]??=[]).push(e),Gn(r),r[z]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(bc.AFTER_NEXT_RENDER,e):e()}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})(),oc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,o,i,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[wr];n&&(this.view[wr]=n.filter(e=>e!==this))}};function wc(t,n){let e=n?.injector??y(at);return xn("NgAfterNextRender"),NE(t,e,n,!0)}function TE(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function NE(t,n,e,r){let o=n.get(ff);o.impl??=n.get(ov);let i=n.get(Or,null,{optional:!0}),s=e?.manualCleanup!==!0?n.get(Ye):null,a=n.get(ho,null,{optional:!0}),c=new oc(o.impl,TE(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var pf=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var gf=new F("");function Rr(t){return!!t&&typeof t.then=="function"}function iv(t){return!!t&&typeof t.subscribe=="function"}var sv=new F("");var hf=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=y(sv,{optional:!0})??[];injector=y(at);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=Ze(this.injector,o);if(Rr(i))e.push(i);else if(iv(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ec=new F("");function av(){Ul(()=>{let t="";throw new O(600,t)})}function cv(t){return t.isBoundToModule}var xE=10;var On=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(gt);afterRenderManager=y(ff);zonelessEnabled=y(Ii);rootEffectScheduler=y(Mi);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Jt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(K(e=>!e))}constructor(){y(Or,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=y(Ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=at.NULL){return this._injector.get(Te).run(()=>{fe(10);let s=e instanceof _c;if(!this._injector.get(hf).done){let I="";throw new O(405,I)}let c;s?c=e:c=this._injector.get(Ui).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=cv(c)?void 0:this._injector.get(Eo),u=r||c.selector,d=c.create(o,[],u,l),v=d.location.nativeElement,g=d.injector.get(gf,null);return g?.registerApplication(v),d.onDestroy(()=>{this.detachView(d.hostView),Di(this.components,d),g?.unregisterApplication(v)}),this._loadComponent(d),fe(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let e=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(e),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<xE;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ei(o))continue;let i=r&&!this.zonelessEnabled?0:1;xm(o,i),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ei(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Di(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(Ec,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Di(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new O(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Di(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Hi(t,n,e,r){let o=J(),i=Mr();if(Wn(o,i,n)){let s=Fe(),a=Ra();Zw(a,o,t,n,e,r)}return Hi}var CF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Rd=class{destroy(n){}updateValue(n,e){}swap(n,e){let r=Math.min(n,e),o=Math.max(n,e),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,e){this.attach(e,this.detach(n,!0))}};function cd(t,n,e,r,o){return t===e&&Object.is(n,r)?1:Object.is(o(t,n),o(e,r))?-1:0}function OE(t,n,e){let r,o,i=0,s=t.length-1,a=void 0;if(Array.isArray(n)){let c=n.length-1;for(;i<=s&&i<=c;){let l=t.at(i),u=n[i],d=cd(i,l,i,u,e);if(d!==0){d<0&&t.updateValue(i,u),i++;continue}let v=t.at(s),g=n[c],I=cd(s,v,c,g,e);if(I!==0){I<0&&t.updateValue(s,g),s--,c--;continue}let V=e(i,l),P=e(s,v),k=e(i,u);if(Object.is(k,P)){let Ee=e(c,g);Object.is(Ee,V)?(t.swap(i,s),t.updateValue(s,g),c--,s--):t.move(s,i),t.updateValue(i,u),i++;continue}if(r??=new ic,o??=bh(t,i,s,e),Ad(t,r,i,k))t.updateValue(i,u),i++,s++;else if(o.has(k))r.set(V,t.detach(i)),s--;else{let Ee=t.create(i,n[i]);t.attach(i,Ee),i++,s++}}for(;i<=c;)Ch(t,r,e,i,n[i]),i++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&i<=s;){let u=t.at(i),d=l.value,v=cd(i,u,i,d,e);if(v!==0)v<0&&t.updateValue(i,d),i++,l=c.next();else{r??=new ic,o??=bh(t,i,s,e);let g=e(i,d);if(Ad(t,r,i,g))t.updateValue(i,d),i++,s++,l=c.next();else if(!o.has(g))t.attach(i,t.create(i,d)),i++,s++,l=c.next();else{let I=e(i,u);r.set(I,t.detach(i)),s--}}}for(;!l.done;)Ch(t,r,e,t.length,l.value),l=c.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Ad(t,n,e,r){return n!==void 0&&n.has(r)?(t.attach(e,n.get(r)),n.delete(r),!0):!1}function Ch(t,n,e,r,o){if(Ad(t,n,r,e(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function bh(t,n,e,r){let o=new Set;for(let i=n;i<=e;i++)o.add(r(i,t.at(i)));return o}var ic=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,r]of this.kvMap)if(n(r,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,e)}}};function T(t,n,e,r,o,i,s,a){xn("NgControlFlow");let c=J(),l=Fe(),u=Kt(l.consts,i);return Ai(c,l,t,n,e,r,o,u,256,s,a),mf}function mf(t,n,e,r,o,i,s,a){xn("NgControlFlow");let c=J(),l=Fe(),u=Kt(l.consts,i);return Ai(c,l,t,n,e,r,o,u,512,s,a),mf}function N(t,n){xn("NgControlFlow");let e=J(),r=Mr(),o=e[r]!==Ut?e[r]:-1,i=o!==-1?sc(e,ke+o):void 0,s=0;if(Wn(e,r,t)){let a=H(null);try{if(i!==void 0&&Fm(i,s),t!==-1){let c=ke+t,l=sc(e,c),u=Ld(e[$],c),d=Vm(l,u,e),v=Vi(e,u,n,{dehydratedView:d});ji(l,v,s,bo(u,d))}}finally{H(a)}}else if(i!==void 0){let a=Pm(i,s);a!==void 0&&(a[Se]=n)}}var kd=class{lContainer;$implicit;$index;constructor(n,e,r){this.lContainer=n,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-Pe}};function pe(t,n){return n}var Pd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,r){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=r}};function ge(t,n,e,r,o,i,s,a,c,l,u,d,v){xn("NgControlFlow");let g=J(),I=Fe(),V=c!==void 0,P=J(),k=a?s.bind(P[lt][Se]):s,Ee=new Pd(V,k);P[ke+t]=Ee,Ai(g,I,t+1,n,e,r,o,Kt(I.consts,i),256),V&&Ai(g,I,t+2,c,l,u,d,Kt(I.consts,v),512)}var Fd=class extends Rd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,r){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-Pe}at(n){return this.getLView(n)[Se].$implicit}attach(n,e){let r=e[_r];this.needsIndexUpdate||=n!==this.length,ji(this.lContainer,e,n,bo(this.templateTNode,r))}detach(n,e){return this.needsIndexUpdate||=n!==this.length-1,e&&RE(this.lContainer,n),AE(this.lContainer,n)}create(n,e){let r=Ya(this.lContainer,this.templateTNode.tView.ssrId),o=Vi(this.hostLView,this.templateTNode,new kd(this.lContainer,e,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){vc(n[$],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[Se].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Se].$index=n}getLView(n){return kE(this.lContainer,n)}};function he(t){let n=H(null),e=Sn();try{let r=J(),o=r[$],i=r[e],s=e+1,a=sc(r,s);if(i.liveCollection===void 0){let l=Ld(o,s);i.liveCollection=new Fd(a,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(OE(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Mr(),u=c.length===0;if(Wn(r,l,u)){let d=e+2,v=sc(r,d);if(u){let g=Ld(o,d),I=Vm(v,g,r),V=Vi(r,g,void 0,{dehydratedView:I});ji(v,V,0,bo(g,I))}else o.firstUpdatePass&&_0(v),Fm(v,0)}}}finally{H(n)}}function sc(t,n){return t[n]}function RE(t,n){if(t.length<=Pe)return;let e=Pe+n,r=t[e];r&&r[Qe]&&(r[Qe].skipLeaveAnimations=!0)}function AE(t,n){return xi(t,n)}function kE(t,n){return Pm(t,n)}function Ld(t,n){return wi(t,n)}function E(t,n,e){let r=J(),o=Mr();if(Wn(r,o,n)){let i=Fe(),s=Ra();$w(s,r,t,n,r[ye],e)}return E}function Vd(t,n,e,r,o){of(n,t,e,o?"class":"style",r)}function h(t,n,e,r){let o=J(),i=o[$],s=t+ke,a=i.firstCreatePass?$m(s,o,2,n,Ww,Pg(),e,r):i.data[s];if(Em(a,o,t,n,lv),Ma(a)){let c=o[$];bm(c,o,a),em(c,a,o)}return r!=null&&rf(o,a),h}function m(){let t=Fe(),n=Ge(),e=Im(n);return t.firstCreatePass&&Hm(t,e),Hu(e)&&Gu(),Uu(),e.classesWithoutHost!=null&&Rb(e)&&Vd(t,e,J(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ab(e)&&Vd(t,e,J(),e.stylesWithoutHost,!1),m}function q(t,n,e,r){return h(t,n,e,r),m(),q}function G(t,n,e,r){let o=J(),i=o[$],s=t+ke,a=i.firstCreatePass?k0(s,i,2,n,e,r):i.data[s];return Em(a,o,t,n,lv),r!=null&&rf(o,a),G}function W(){let t=Ge(),n=Im(t);return Hu(n)&&Gu(),Uu(),W}function ht(t,n,e,r){return G(t,n,e,r),W(),ht}var lv=(t,n,e,r,o)=>(ka(!0),cm(n[ye],r,Wg()));function R(){return J()}function Ot(t,n,e){let r=J(),o=Mr();if(Wn(r,o,n)){let i=Fe(),s=Ra();wm(s,r,t,n,r[ye],e)}return Ot}var Gi="en-US";var PE=Gi;function uv(t){typeof t=="string"&&(PE=t.toLowerCase().replace(/_/g,"-"))}function b(t,n,e){let r=J(),o=Fe(),i=Ge();return FE(o,r,r[ye],i,t,n,e),b}function oe(t,n,e){let r=J(),o=Fe(),i=Ge();return(i.type&3||e)&&Gm(i,o,r,e,r[ye],t,n,$a(i,r,n)),oe}function FE(t,n,e,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=$a(r,n,i),Gm(r,t,n,s,e,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let v=u[d],g=u[d+1];c??=$a(r,n,i),fh(r,n,v,g,o,c)}if(l&&l.length)for(let d of l)c??=$a(r,n,i),fh(r,n,d,o,o,c)}}function p(t=1){return qg(t)}function LE(t,n){let e=null,r=dw(t);for(let o=0;o<n.length;o++){let i=n[o];if(i==="*"){e=o;continue}if(r===null?am(t,i,!0):gw(r,i))return o}return e}function zi(t){let n=J()[lt][ct];if(!n.projection){let e=t?t.length:1,r=n.projection=hg(e,null),o=r.slice(),i=n.child;for(;i!==null;){if(i.type!==128){let s=t?LE(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function qi(t,n=0,e,r,o,i){let s=J(),a=Fe(),c=r?t+1:null;c!==null&&Ai(s,a,c,r,o,i,null,e);let l=Bi(a,ke+t,16,null,e||null);l.projection===null&&(l.projection=n),Wu();let d=!s[_r]||$u();s[lt][ct].projection[l.projection]===null&&c!==null?VE(s,a,c):d&&!pc(l)&&Pw(a,s,l)}function VE(t,n,e){let r=ke+e,o=n.data[r],i=t[r],s=Ya(i,o.tView.ssrId),a=Vi(t,o,void 0,{dehydratedView:s});ji(i,a,0,bo(o,s))}function vf(t,n,e,r){oE(t,n,e,r)}function Qn(t,n,e){rE(t,n,e)}function tn(t){let n=J(),e=Fe(),r=Yu();Na(r+1);let o=lf(e,r);if(t.dirty&&Tg(n)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=aE(n,r);t.reset(i,qb),t.notifyOnChanges()}return!0}return!1}function nn(){return nE(J(),Yu())}function Yn(t){let n=Lg();return Dg(n,ke+t)}function La(t,n){return t<<17|n<<2}function xr(t){return t>>17&32767}function jE(t){return(t&2)==2}function BE(t,n){return t&131071|n<<17}function jd(t){return t|2}function Io(t){return(t&131068)>>2}function ld(t,n){return t&-131069|n<<2}function UE(t){return(t&1)===1}function Bd(t){return t|1}function $E(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=xr(s),c=Io(s);t[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||ao(d,u)>0)&&(l=!0)}else u=e;if(o)if(c!==0){let v=xr(t[a+1]);t[r+1]=La(v,a),v!==0&&(t[v+1]=ld(t[v+1],r)),t[a+1]=BE(t[a+1],r)}else t[r+1]=La(a,0),a!==0&&(t[a+1]=ld(t[a+1],r)),a=r;else t[r+1]=La(c,0),a===0?a=r:t[c+1]=ld(t[c+1],r),c=r;l&&(t[r+1]=jd(t[r+1])),wh(t,u,r,!0),wh(t,u,r,!1),HE(n,u,t,r,i),s=La(a,c),i?n.classBindings=s:n.styleBindings=s}function HE(t,n,e,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof n=="string"&&ao(i,n)>=0&&(e[r+1]=Bd(e[r+1]))}function wh(t,n,e,r){let o=t[e+1],i=n===null,s=r?xr(o):Io(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],l=t[s+1];GE(c,n)&&(a=!0,t[s+1]=r?Bd(l):jd(l)),s=r?xr(l):Io(l)}a&&(t[e+1]=r?jd(o):Bd(o))}function GE(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?ao(t,n)>=0:!1}var Be={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dv(t){return t.substring(Be.key,Be.keyEnd)}function zE(t){return t.substring(Be.value,Be.valueEnd)}function qE(t){return gv(t),fv(t,Mo(t,0,Be.textEnd))}function fv(t,n){let e=Be.textEnd;return e===n?-1:(n=Be.keyEnd=ZE(t,Be.key=n,e),Mo(t,n,e))}function WE(t){return gv(t),pv(t,Mo(t,0,Be.textEnd))}function pv(t,n){let e=Be.textEnd,r=Be.key=Mo(t,n,e);return e===r?-1:(r=Be.keyEnd=QE(t,r,e),r=Eh(t,r,e,58),r=Be.value=Mo(t,r,e),r=Be.valueEnd=YE(t,r,e),Eh(t,r,e,59))}function gv(t){Be.key=0,Be.keyEnd=0,Be.value=0,Be.valueEnd=0,Be.textEnd=t.length}function Mo(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function ZE(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function QE(t,n,e){let r;for(;n<e&&((r=t.charCodeAt(n))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)n++;return n}function Eh(t,n,e,r){return n=Mo(t,n,e),n<e&&n++,n}function YE(t,n,e){let r=-1,o=-1,i=-1,s=n,a=s;for(;s<e;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=Ih(t,c,s,e):n===s-4&&i===85&&o===82&&r===76&&c===40?a=s=Ih(t,41,s,e):c>32&&(a=s),i=o,o=r,r=c&-33}return a}function Ih(t,n,e,r){let o=-1,i=e;for(;i<r;){let s=t.charCodeAt(i++);if(s==n&&o!==92)return i;s==92&&o===92?o=0:o=s}throw new Error}function Wi(t,n){return JE(t,n,null,!0),Wi}function Rt(t){hv(yv,XE,t,!1)}function XE(t,n){for(let e=WE(n);e>=0;e=pv(n,e))yv(t,dv(n),zE(n))}function ie(t){hv(iI,KE,t,!0)}function KE(t,n){for(let e=qE(n);e>=0;e=fv(n,e))vi(t,dv(n),!0)}function JE(t,n,e,r){let o=J(),i=Fe(),s=Qu(2);if(i.firstUpdatePass&&vv(i,t,s,r),n!==Ut&&Wn(o,s,n)){let a=i.data[Sn()];_v(i,a,o,o[ye],t,o[s+1]=aI(n,e),r,s)}}function hv(t,n,e,r){let o=Fe(),i=Qu(2);o.firstUpdatePass&&vv(o,null,i,r);let s=J();if(e!==Ut&&Wn(s,i,e)){let a=o.data[Sn()];if(Cv(a,r)&&!mv(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=_a(c,e||"")),Vd(o,a,s,e,r)}else sI(o,a,s,s[ye],s[i+1],s[i+1]=oI(t,n,e),r,i)}}function mv(t,n){return n>=t.expandoStartIndex}function vv(t,n,e,r){let o=t.data;if(o[e+1]===null){let i=o[Sn()],s=mv(t,e);Cv(i,r)&&n===null&&!s&&(n=!1),n=eI(o,i,n,r),$E(o,i,n,e,s,r)}}function eI(t,n,e,r){let o=$g(t),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(e=ud(null,t,n,e,r),e=Pi(e,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==o)if(e=ud(o,t,n,e,r),i===null){let c=tI(t,n,r);c!==void 0&&Array.isArray(c)&&(c=ud(null,t,n,c[1],r),c=Pi(c,n.attrs,r),nI(t,n,r,c))}else i=rI(t,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),e}function tI(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Io(r)!==0)return t[xr(r)]}function nI(t,n,e,r){let o=e?n.classBindings:n.styleBindings;t[xr(o)]=r}function rI(t,n,e){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Pi(r,s,e)}return Pi(r,n.attrs,e)}function ud(t,n,e,r,o){let i=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(i=n[a],r=Pi(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Pi(t,n,e){let r=e?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vi(t,s,e?!0:n[++i]))}return t===void 0?null:t}function oI(t,n,e){if(e==null||e==="")return st;let r=[],o=To(e);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&n(r,o);return r}function yv(t,n,e){vi(t,n,To(e))}function iI(t,n,e){let r=String(n);r!==""&&!r.includes(" ")&&vi(t,r,e)}function sI(t,n,e,r,o,i,s,a){o===Ut&&(o=st);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;u!==null||d!==null;){let v=c<o.length?o[c+1]:void 0,g=l<i.length?i[l+1]:void 0,I=null,V;u===d?(c+=2,l+=2,v!==g&&(I=d,V=g)):d===null||u!==null&&u<d?(c+=2,I=u):(l+=2,I=d,V=g),I!==null&&_v(t,n,e,r,I,V,s,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null}}function _v(t,n,e,r,o,i,s,a){if(!(n.type&3))return;let c=t.data,l=c[a+1],u=UE(l)?Mh(c,n,e,o,Io(l),s):void 0;if(!ac(u)){ac(i)||jE(l)&&(i=Mh(c,null,e,o,a,s));let d=Pu(Sn(),e);Lw(r,s,d,o,i)}}function Mh(t,n,e,r,o,i){let s=n===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,v=e[o+1];v===Ut&&(v=d?st:void 0);let g=d?Ea(v,r):u===r?v:void 0;if(l&&!ac(g)&&(g=Ea(c,r)),ac(g)&&(a=g,s))return a;let I=t[o+1];o=s?xr(I):Io(I)}if(n!==null){let c=i?n.residualClasses:n.residualStyles;c!=null&&(a=Ea(c,r))}return a}function ac(t){return t!==void 0}function aI(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=bn(To(t)))),t}function Cv(t,n){return(t.flags&(n?8:16))!==0}function x(t,n=""){let e=J(),r=Fe(),o=t+ke,i=r.firstCreatePass?Bi(r,o,1,n,null):r.data[o],s=cI(r,e,i,n,t);e[o]=s,Aa()&&tf(r,e,s,i),po(i,!1)}var cI=(t,n,e,r,o)=>(ka(!0),yw(n[ye],r));function lI(t,n,e,r=""){return Wn(t,Mr(),e)?n+hi(e)+r:Ut}function It(t){return ce("",t),It}function ce(t,n,e){let r=J(),o=lI(r,t,n,e);return o!==Ut&&uI(r,Sn(),o),ce}function uI(t,n,e){let r=Pu(n,t);_w(t[ye],r,e)}function dI(t,n,e){let r=Fe();if(r.firstCreatePass){let o=Xt(t);Ud(e,r.data,r.blueprint,o,!0),Ud(n,r.data,r.blueprint,o,!1)}}function Ud(t,n,e,r,o){if(t=We(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ud(t[i],n,e,r,o);else{let i=Fe(),s=J(),a=Ge(),c=mr(t)?t:We(t.provide),l=xu(t),u=a.providerIndexes&1048575,d=a.directiveStart,v=a.providerIndexes>>20;if(mr(t)||!t.multi){let g=new Tr(l,o,w,null),I=fd(c,n,o?u:u+v,d);I===-1?(gd(qa(a,s),i,c),dd(i,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[I]=g,s[I]=g)}else{let g=fd(c,n,u+v,d),I=fd(c,n,u,u+v),V=g>=0&&e[g],P=I>=0&&e[I];if(o&&!P||!o&&!V){gd(qa(a,s),i,c);let k=gI(o?pI:fI,e.length,o,r,l,t);!o&&P&&(e[I].providerFactory=k),dd(i,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(k),s.push(k)}else{let k=bv(e[o?I:g],l,!o&&r);dd(i,t,g>-1?g:I,k)}!o&&r&&P&&e[I].componentProviders++}}}function dd(t,n,e,r){let o=mr(n),i=wg(n);if(o||i){let c=(i?We(n.useClass):n).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function bv(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function fd(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function fI(t,n,e,r,o){return $d(this.multi,[])}function pI(t,n,e,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ti(r,r[$],this.providerFactory.index,o);s=c.slice(0,a),$d(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],$d(i,s);return s}function $d(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function gI(t,n,e,r,o,i){let s=new Tr(t,e,w,null);return s.multi=[],s.index=n,s.componentProviders=0,bv(s,o,r&&!e),s}function Ar(t,n=[]){return e=>{e.providersResolver=(r,o)=>dI(r,o?o(t):t,n)}}var cc=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},yf=(()=>{class t{compileModuleSync(e){return new nc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=Su(e),i=im(o.declarations).reduce((s,a)=>{let c=Bn(a);return c&&s.push(new wo(c)),s},[]);return new cc(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hI=(()=>{class t{zone=y(Te);changeDetectionScheduler=y(Dt);applicationRef=y(On);applicationErrorHandler=y(gt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wv({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Te(Q(S({},Ev()),{scheduleInRootZone:e})),[{provide:Te,useFactory:t},{provide:En,multi:!0,useFactory:()=>{let r=y(hI,{optional:!0});return()=>r.initialize()}},{provide:En,multi:!0,useFactory:()=>{let r=y(mI);return()=>{r.initialize()}}},n===!0?{provide:nd,useValue:!0}:[],{provide:Pa,useValue:e??ev},{provide:gt,useFactory:()=>{let r=y(Te),o=y(Ae),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(bt),i.handleError(s))})}}}]}function Ev(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mI=(()=>{class t{subscription=new xe;initialized=!1;zone=y(Te);pendingTasks=y(Jt);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _f=(()=>{class t{applicationErrorHandler=y(gt);appRef=y(On);taskService=y(Jt);ngZone=y(Te);zonelessEnabled=y(Ii);tracing=y(Or,{optional:!0});disableScheduling=y(nd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Pa,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ki||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?vh:tv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,vh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cf(){return xn("NgZoneless"),In([{provide:Dt,useExisting:_f},{provide:Te,useClass:ki},{provide:Ii,useValue:!0},{provide:Pa,useValue:!1},[]])}function vI(){return typeof $localize<"u"&&$localize.locale||Gi}var bf=new F("",{providedIn:"root",factory:()=>y(bf,{optional:!0,skipSelf:!0})||vI()});var Ic=class{destroyed=!1;listeners=null;errorHandler=y(bt,{optional:!0});destroyRef=y(Ye);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new O(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{let e=this.listeners?.indexOf(n);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(n){if(this.destroyed){console.warn(so(953,!1));return}if(this.listeners===null)return;let e=H(null);try{for(let r of this.listeners)try{r(n)}catch(o){this.errorHandler?.handleError(o)}}finally{H(e)}}};function ze(t){return rg(t)}function Xn(t,n){return Hs(t,n?.equal)}var wf=class{[ot];constructor(n){this[ot]=n}destroy(){this[ot].destroy()}};function Mc(t,n){let e=n?.injector??y(at),r=n?.manualCleanup!==!0?e.get(Ye):null,o,i=e.get(ho,null,{optional:!0}),s=e.get(Dt);return i!==null?(o=CI(i.view,s,t),r instanceof fi&&r._lView===i.view&&(r=null)):o=bI(t,e.get(Mi),s),o.injector=e,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new wf(o)}var Iv=Q(S({},og),{cleanupFns:void 0,zone:null,onDestroyFn:Sr,run(){let t=go(!1);try{ig(this)}finally{go(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=H(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],H(t)}}}),yI=Q(S({},Iv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){cr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),_I=Q(S({},Iv),{consumerMarkedDirty(){this.view[z]|=8192,Gn(this.view),this.notifier.notify(13)},destroy(){cr(this),this.onDestroyFn(),this.cleanup(),this.view[Mn]?.delete(this)}});function CI(t,n,e){let r=Object.create(_I);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=Mv(r,e),t[Mn]??=new Set,t[Mn].add(r),r.consumerMarkedDirty(r),r}function bI(t,n,e){let r=Object.create(yI);return r.fn=Mv(r,t),r.scheduler=n,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Mv(t,n){return()=>{n(e=>(t.cleanupFns??=[]).push(e))}}var Dv=Symbol("InputSignalNode#UNSET"),PI=Q(S({},Gs),{transformFn:void 0,applyValueToInputSignal(t,n){Wr(t,n)}});function Tv(t,n){let e=Object.create(PI);e.value=t,e.transformFn=n?.transform;function r(){if(Hr(e),e.value===Dv){let o=null;throw new O(-950,o)}return e.value}return r[ot]=e,r}var Dc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>lc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},FI=new F("");FI.__NG_ELEMENT_ID__=t=>{let n=Ge();if(n===null)throw new O(204,!1);if(n.type&2)return n.value;if(t&8)return null;throw new O(204,!1)};function Ne(t){return new Ic}function Sv(t,n){return Tv(t,n)}function LI(t){return Tv(Dv,t)}var L=(Sv.required=LI,Sv);var Ef=new F(""),VI=new F("");function Zi(t){return!t.moduleRef}function jI(t){let n=Zi(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Te);return e.run(()=>{Zi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(gt),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),Zi(t)){let i=()=>n.destroy(),s=t.platformInjector.get(Ef);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ef);s.add(i),t.moduleRef.onDestroy(()=>{Di(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return UI(r,e,()=>{let i=n.get(Jt),s=i.add(),a=n.get(hf);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(bf,Gi);if(uv(c||Gi),!n.get(VI,!0))return Zi(t)?n.get(On):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Zi(t)){let u=n.get(On);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return BI?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var BI;function UI(t,n,e){try{let r=e();return Rr(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t(r)),r}}var Sc=null;function $I(t=[],n){return at.create({name:n,providers:[{provide:yi,useValue:"platform"},{provide:Ef,useValue:new Set([()=>Sc=null])},...t]})}function HI(t=[]){if(Sc)return Sc;let n=$I(t);return Sc=n,av(),GI(n),n}function GI(t){let n=t.get(dc,null);Ze(t,()=>{n?.forEach(e=>e())})}var xo=(()=>{class t{static __NG_ELEMENT_ID__=zI}return t})();function zI(t){return qI(Ge(),J(),(t&16)===16)}function qI(t,n,e){if(Hn(t)&&!e){let r=xt(t.index,n);return new qn(r,r)}else if(t.type&175){let r=n[lt];return new qn(r,n)}return null}function Nv(t){let{rootComponent:n,appProviders:e,platformProviders:r,platformRef:o}=t;fe(8);try{let i=o?.injector??HI(r),s=[wv({}),{provide:Dt,useExisting:_f},Qg,...e||[]],a=new Ri({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return jI({r3Injector:a.injector,platformInjector:i,rootComponent:n})}catch(i){return Promise.reject(i)}finally{fe(9)}}function Qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Rv=null;function At(){return Rv}function If(t){Rv??=t}var Yi=class{},Mf=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(Av),providedIn:"platform"})}return t})();var Av=(()=>{class t extends Mf{_location;_history;_doc=y(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return At().getBaseHref(this._doc)}onPopState(e){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function kv(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function xv(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function Kn(t){return t&&t[0]!=="?"?`?${t}`:t}var Oo=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(Fv),providedIn:"root"})}return t})(),Pv=new F(""),Fv=(()=>{class t extends Oo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kv(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Kn(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Kn(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(D(Mf),D(Pv,8))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ro=(()=>{class t{_subject=new te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=QI(xv(Ov(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Kn(r))}normalize(e){return t.stripTrailingSlash(ZI(this._basePath,Ov(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kn(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Kn;static joinWithSlash=kv;static stripTrailingSlash=xv;static \u0275fac=function(r){return new(r||t)(D(Oo))};static \u0275prov=M({token:t,factory:()=>WI(),providedIn:"root"})}return t})();function WI(){return new Ro(D(Oo))}function ZI(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Ov(t){return t.replace(/\/index.html$/,"")}function QI(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function Xi(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var kr=class{};var Lv="browser";var Nc=new F(""),xf=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(D(Nc),D(Te))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Ki=class{_doc;constructor(n){this._doc=n}manager},Sf="ng-app-id";function Vv(t){for(let n of t)n.remove()}function jv(t,n){let e=n.createElement("style");return e.textContent=t,e}function XI(t,n,e,r){let o=t.head?.querySelectorAll(`style[${Sf}="${n}"],link[${Sf}="${n}"]`);if(o)for(let i of o)i.removeAttribute(Sf),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Tf(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Of=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,XI(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,jv);r?.forEach(o=>this.addUsage(o,this.external,Tf))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(Vv(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Vv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,jv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,Tf(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(D(Le),D(uc),D(fc,8),D(Do))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rf=/%COMP%/g;var Uv="%COMP%",KI=`_nghost-${Uv}`,JI=`_ngcontent-${Uv}`,eM=!0,tM=new F("",{providedIn:"root",factory:()=>eM});function nM(t){return JI.replace(Rf,t)}function rM(t){return KI.replace(Rf,t)}function $v(t,n){return n.map(e=>e.replace(Rf,t))}var Af=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,s,a,c,l=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Ji(e,s,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,r);return o instanceof Tc?o.applyToHost(e):o instanceof es&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Dn.Emulated:i=new Tc(c,l,r,this.appId,u,s,a,d,v);break;case Dn.ShadowDom:return new Nf(c,l,e,r,s,a,this.nonce,d,v);default:i=new es(c,l,r,u,s,a,d,v);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(D(xf),D(Of),D(uc),D(tM),D(Le),D(Do),D(Te),D(fc),D(Or,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Ji=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,o,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Df[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Bv(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Bv(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new O(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;let i=Df[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let o=Df[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Tn.DashCase|Tn.Important)?n.style.setProperty(e,r,o&Tn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Tn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,o){if(typeof n=="string"&&(n=At().getGlobalEventTarget(this.doc,n),!n))throw new O(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,e,i)),this.eventManager.addEventListener(n,e,i,o)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function Bv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nf=class extends Ji{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,o,i,s,a,c,l){super(n,i,s,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=$v(o.id,u);for(let v of u){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let d=o.getExternalStyles?.();if(d)for(let v of d){let g=Tf(v,i);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},es=class extends Ji{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,o,i,s,a,c,l){super(n,i,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?$v(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&mc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Tc=class extends es{contentAttr;hostAttr;constructor(n,e,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(n,e,r,i,s,a,c,l,u),this.contentAttr=nM(u),this.hostAttr=rM(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var xc=class t extends Yi{supportsDOMEvents=!0;static makeCurrent(){If(new t)}onAndCancel(n,e,r,o){return n.addEventListener(e,r,o),()=>{n.removeEventListener(e,r,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=oM();return e==null?null:iM(e)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Xi(document.cookie,n)}},ts=null;function oM(){return ts=ts||document.head.querySelector("base"),ts?ts.getAttribute("href"):null}function iM(t){return new URL(t,document.baseURI).pathname}var sM=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Gv=(()=>{class t extends Ki{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(D(Le))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Hv=["alt","control","meta","shift"],aM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zv=(()=>{class t extends Ki{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>At().onAndCancel(e,s.domEventName,a,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Hv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=aM[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Hv.forEach(s=>{if(s!==o){let a=cM[s];a(e)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(D(Le))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function kf(t,n,e){let r=S({rootComponent:t,platformRef:e?.platformRef},lM(n));return Nv(r)}function lM(t){return{appProviders:[...gM,...t?.providers??[]],platformProviders:pM}}function uM(){xc.makeCurrent()}function dM(){return new bt}function fM(){return zd(document),document}var pM=[{provide:Do,useValue:Lv},{provide:dc,useValue:uM,multi:!0},{provide:Le,useFactory:fM}];var gM=[{provide:yi,useValue:"root"},{provide:bt,useFactory:dM},{provide:Nc,useClass:Gv,multi:!0,deps:[Le]},{provide:Nc,useClass:zv,multi:!0,deps:[Le]},Af,Of,xf,{provide:Nr,useExisting:Af},{provide:kr,useClass:sM},[]];var Po=class{},ns=class{},Jn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let o=e.slice(0,r),i=e.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let o=(n.op==="a"?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":let i=n.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Rc=class{encodeKey(n){return qv(n)}encodeValue(n){return qv(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function hM(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var mM=/%(\d[a-f0-9])/gi,vM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qv(t){return encodeURIComponent(t).replace(mM,(n,e)=>vM[e]??n)}function Oc(t){return`${t}`}var Rn=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Rc,n.fromString){if(n.fromObject)throw new O(2805,!1);this.map=hM(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],o=Array.isArray(r)?r.map(Oc):[Oc(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Oc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],o=r.indexOf(Oc(n.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Ac=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function yM(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Wv(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Zv(t){return typeof Blob<"u"&&t instanceof Blob}function Qv(t){return typeof FormData<"u"&&t instanceof FormData}function _M(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Yv="Content-Type",Xv="Accept",Kv="X-Request-URL",Jv="text/plain",ey="application/json",CM=`${ey}, ${Jv}, */*`,Ao=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,r,o){this.url=e,this.method=n.toUpperCase();let i;if(yM(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new O(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Jn,this.context??=new Ac,!this.params)this.params=new Rn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Wv(this.body)||Zv(this.body)||Qv(this.body)||_M(this.body)?this.body:this.body instanceof Rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Qv(this.body)?null:Zv(this.body)?this.body.type||null:Wv(this.body)?null:typeof this.body=="string"?Jv:this.body instanceof Rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ey:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,l=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,v=n.integrity||this.integrity,g=n.transferCache??this.transferCache,I=n.timeout??this.timeout,V=n.body!==void 0?n.body:this.body,P=n.withCredentials??this.withCredentials,k=n.reportProgress??this.reportProgress,Ee=n.headers||this.headers,yt=n.params||this.params,$e=n.context??this.context;return n.setHeaders!==void 0&&(Ee=Object.keys(n.setHeaders).reduce((gn,hn)=>gn.set(hn,n.setHeaders[hn]),Ee)),n.setParams&&(yt=Object.keys(n.setParams).reduce((gn,hn)=>gn.set(hn,n.setParams[hn]),yt)),new t(e,r,V,{params:yt,headers:Ee,context:$e,reportProgress:k,responseType:o,withCredentials:P,transferCache:g,keepalive:i,cache:a,priority:s,timeout:I,mode:c,redirect:l,credentials:u,referrer:d,integrity:v})}},Pr=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Pr||{}),Fo=class{headers;status;statusText;url;ok;type;redirected;constructor(n,e=200,r="OK"){this.headers=n.headers||new Jn,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},kc=class t extends Fo{constructor(n={}){super(n)}type=Pr.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},rs=class t extends Fo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Pr.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},ko=class extends Fo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},bM=200,wM=204;function Pf(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var rn=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Ao)i=e;else{let c;o.headers instanceof Jn?c=o.headers:c=new Jn(o.headers);let l;o.params&&(o.params instanceof Rn?l=o.params:l=new Rn({fromObject:o.params})),i=new Ao(e,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=U(i).pipe(yn(c=>this.handler.handle(c)));if(e instanceof Ao||o.observe==="events")return s;let a=s.pipe(it(c=>c instanceof rs));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new O(2806,!1);return c.body}));case"blob":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new O(2807,!1);return c.body}));case"text":return a.pipe(K(c=>{if(c.body!==null&&typeof c.body!="string")throw new O(2808,!1);return c.body}));case"json":default:return a.pipe(K(c=>c.body))}case"response":return a;default:throw new O(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Rn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Pf(o,r))}post(e,r,o={}){return this.request("POST",e,Pf(o,r))}put(e,r,o={}){return this.request("PUT",e,Pf(o,r))}static \u0275fac=function(r){return new(r||t)(D(Po))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var EM=new F("");function IM(t,n){return n(t)}function MM(t,n,e){return(r,o)=>Ze(e,()=>n(r,i=>t(i,o)))}var ty=new F(""),ny=new F(""),ry=new F("",{providedIn:"root",factory:()=>!0});var Pc=(()=>{class t extends Po{backend;injector;chain=null;pendingTasks=y(mo);contributeToStability=y(ry);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ty),...this.injector.get(ny,[])]));this.chain=r.reduceRight((o,i)=>MM(o,i,this.injector),IM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(fr(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(D(ns),D(Ae))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var SM=/^\)\]\}',?\n/,DM=RegExp(`^${Kv}:`,"m");function TM(t){return"responseURL"in t&&t.responseURL?t.responseURL:DM.test(t.getAllResponseHeaders())?t.getResponseHeader(Kv):null}var Ff=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return U(null).pipe(tt(()=>new ee(i=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((P,k)=>s.setRequestHeader(P,k.join(","))),e.headers.has(Xv)||s.setRequestHeader(Xv,CM),!e.headers.has(Yv)){let P=e.detectContentTypeHeader();P!==null&&s.setRequestHeader(Yv,P)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let P=e.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let P=s.statusText||"OK",k=new Jn(s.getAllResponseHeaders()),Ee=TM(s)||e.url;return c=new kc({headers:k,status:s.status,statusText:P,url:Ee}),c},u=()=>{let{headers:P,status:k,statusText:Ee,url:yt}=l(),$e=null;k!==wM&&($e=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=$e?bM:0);let gn=k>=200&&k<300;if(e.responseType==="json"&&typeof $e=="string"){let hn=$e;$e=$e.replace(SM,"");try{$e=$e!==""?JSON.parse($e):null}catch(Pl){$e=hn,gn&&(gn=!1,$e={error:Pl,text:$e})}}gn?(i.next(new rs({body:$e,headers:P,status:k,statusText:Ee,url:yt||void 0})),i.complete()):i.error(new ko({error:$e,headers:P,status:k,statusText:Ee,url:yt||void 0}))},d=P=>{let{url:k}=l(),Ee=new ko({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});i.error(Ee)},v=d;e.timeout&&(v=P=>{let{url:k}=l(),Ee=new ko({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:k||void 0});i.error(Ee)});let g=!1,I=P=>{g||(i.next(l()),g=!0);let k={type:Pr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(k.total=P.total),e.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),i.next(k)},V=P=>{let k={type:Pr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(k.total=P.total),i.next(k)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",v),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",V)),s.send(a),i.next({type:Pr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",v),e.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",V)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(D(kr))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),oy=new F(""),NM="XSRF-TOKEN",xM=new F("",{providedIn:"root",factory:()=>NM}),OM="X-XSRF-TOKEN",RM=new F("",{providedIn:"root",factory:()=>OM}),os=class{},AM=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xi(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(D(Le),D(xM))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function kM(t,n){let e=t.url.toLowerCase();if(!y(oy)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=y(os).getToken(),o=y(RM);return r!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),n(t)}function Lf(...t){let n=[rn,Ff,Pc,{provide:Po,useExisting:Pc},{provide:ns,useFactory:()=>y(EM,{optional:!0})??y(Ff)},{provide:ty,useValue:kM,multi:!0},{provide:oy,useValue:!0},{provide:os,useClass:AM}];for(let e of t)n.push(...e.\u0275providers);return In(n)}var iy=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(D(Le))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y="primary",_s=Symbol("RouteTitle"),$f=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Vr(t){return new $f(t)}function py(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function FM(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!on(t[e],n[e]))return!1;return!0}function on(t,n){let e=t?Hf(t):void 0,r=n?Hf(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!gy(t[o],n[o]))return!1;return!0}function Hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}else return t===n}function hy(t){return t.length>0?t[t.length-1]:null}function Pn(t){return Jl(t)?t:Rr(t)?be(Promise.resolve(t)):U(t)}var LM={exact:vy,subset:yy},my={exact:VM,subset:jM,ignored:()=>!0};function sy(t,n,e){return LM[e.paths](t.root,n.root,e.matrixParams)&&my[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function VM(t,n){return on(t,n)}function vy(t,n,e){if(!Fr(t.segments,n.segments)||!jc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!vy(t.children[r],n.children[r],e))return!1;return!0}function jM(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>gy(t[e],n[e]))}function yy(t,n,e){return _y(t,n,n.segments,e)}function _y(t,n,e,r){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!Fr(o,e)||n.hasChildren()||!jc(o,e,r))}else if(t.segments.length===e.length){if(!Fr(t.segments,e)||!jc(t.segments,e,r))return!1;for(let o in n.children)if(!t.children[o]||!yy(t.children[o],n.children[o],r))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!Fr(t.segments,o)||!jc(t.segments,o,r)||!t.children[Y]?!1:_y(t.children[Y],n,i,r)}}function jc(t,n,e){return n.every((r,o)=>my[e](t[o].parameters,r.parameters))}var kt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ue([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){return $M.serialize(this)}},ue=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bc(this)}},er=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Vr(this.parameters),this._parameterMap}toString(){return by(this)}};function BM(t,n){return Fr(t,n)&&t.every((e,r)=>on(e.parameters,n[r].parameters))}function Fr(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function UM(t,n){let e=[];return Object.entries(t.children).forEach(([r,o])=>{r===Y&&(e=e.concat(n(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Y&&(e=e.concat(n(o,r)))}),e}var Cs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>new jr,providedIn:"root"})}return t})(),jr=class{parse(n){let e=new zf(n);return new kt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${is(n.root,!0)}`,r=zM(n.queryParams),o=typeof n.fragment=="string"?`#${HM(n.fragment)}`:"";return`${e}${r}${o}`}},$M=new jr;function Bc(t){return t.segments.map(n=>by(n)).join("/")}function is(t,n){if(!t.hasChildren())return Bc(t);if(n){let e=t.children[Y]?is(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==Y&&r.push(`${o}:${is(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=UM(t,(r,o)=>o===Y?[is(t.children[Y],!1)]:[`${o}:${is(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${Bc(t)}/${e[0]}`:`${Bc(t)}/(${e.join("//")})`}}function Cy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(t){return Cy(t).replace(/%3B/gi,";")}function HM(t){return encodeURI(t)}function Gf(t){return Cy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(t){return decodeURIComponent(t)}function ay(t){return Uc(t.replace(/\+/g,"%20"))}function by(t){return`${Gf(t.path)}${GM(t.parameters)}`}function GM(t){return Object.entries(t).map(([n,e])=>`;${Gf(n)}=${Gf(e)}`).join("")}function zM(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Lc(e)}=${Lc(o)}`).join("&"):`${Lc(e)}=${Lc(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var qM=/^[^\/()?;#]+/;function Vf(t){let n=t.match(qM);return n?n[0]:""}var WM=/^[^\/()?;=#]+/;function ZM(t){let n=t.match(WM);return n?n[0]:""}var QM=/^[^=?&#]+/;function YM(t){let n=t.match(QM);return n?n[0]:""}var XM=/^[^&#]+/;function KM(t){let n=t.match(XM);return n?n[0]:""}var zf=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Y]=new ue(n,e)),r}parseSegment(){let n=Vf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(n),new er(Uc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=ZM(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=Vf(this.remaining);o&&(r=o,this.capture(r))}n[Uc(e)]=Uc(r)}parseQueryParam(n){let e=YM(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=KM(this.remaining);s&&(r=s,this.capture(r))}let o=ay(e),i=ay(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new O(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Y);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[Y]:new ue([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new O(4011,!1)}};function wy(t){return t.segments.length>0?new ue([],{[Y]:t}):t}function Ey(t){let n={};for(let[r,o]of Object.entries(t.children)){let i=Ey(o);if(r===Y&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let e=new ue(t.segments,n);return JM(e)}function JM(t){if(t.numberOfChildren===1&&t.children[Y]){let n=t.children[Y];return new ue(t.segments.concat(n.segments),n.children)}return t}function tr(t){return t instanceof kt}function Iy(t,n,e=null,r=null){let o=My(t);return Sy(o,n,e,r)}function My(t){let n;function e(i){let s={};for(let c of i.children){let l=e(c);s[c.outlet]=l}let a=new ue(i.url,s);return i===t&&(n=a),a}let r=e(t.root),o=wy(r);return n??o}function Sy(t,n,e,r){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return jf(o,o,o,e,r);let i=eS(n);if(i.toRoot())return jf(o,o,new ue([],{}),e,r);let s=tS(i,o,t),a=s.processChildren?as(s.segmentGroup,s.index,i.commands):Ty(s.segmentGroup,s.index,i.commands);return jf(o,s.segmentGroup,a,e,r)}function $c(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function us(t){return typeof t=="object"&&t!=null&&t.outlets}function jf(t,n,e,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===n?s=e:s=Dy(t,n,e);let a=wy(Ey(s));return new kt(a,i,o)}function Dy(t,n,e){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===n?r[o]=e:r[o]=Dy(i,n,e)}),new ue(t.segments,r)}var Hc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&$c(r[0]))throw new O(4003,!1);let o=r.find(us);if(o&&o!==hy(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eS(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Hc(!0,0,t);let n=0,e=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Hc(e,n,r)}var jo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function tS(t,n,e){if(t.isAbsolute)return new jo(n,!0,0);if(!e)return new jo(n,!1,NaN);if(e.parent===null)return new jo(e,!0,0);let r=$c(t.commands[0])?0:1,o=e.segments.length-1+r;return nS(e,o,t.numberOfDoubleDots)}function nS(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new O(4005,!1);o=r.segments.length}return new jo(r,!1,o-i)}function rS(t){return us(t[0])?t[0].outlets:{[Y]:t}}function Ty(t,n,e){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return as(t,n,e);let r=oS(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new ue(t.segments.slice(0,r.pathIndex),{});return i.children[Y]=new ue(t.segments.slice(r.pathIndex),t.children),as(i,0,o)}else return r.match&&o.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?qf(t,n,e):r.match?as(t,0,o):qf(t,n,e)}function as(t,n,e){if(e.length===0)return new ue(t.segments,{});{let r=rS(e),o={};if(Object.keys(r).some(i=>i!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let i=as(t.children[Y],n,e);return new ue(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Ty(t.children[i],n,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new ue(t.segments,o)}}function oS(t,n,e){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;let s=t.segments[o],a=e[r];if(us(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!ly(c,l,s))return i;r+=2}else{if(!ly(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function qf(t,n,e){let r=t.segments.slice(0,n),o=0;for(;o<e.length;){let i=e[o];if(us(i)){let c=iS(i.outlets);return new ue(r,c)}if(o===0&&$c(e[0])){let c=t.segments[n];r.push(new er(c.path,cy(e[0]))),o++;continue}let s=us(i)?i.outlets[Y]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&$c(a)?(r.push(new er(s,cy(a))),o+=2):(r.push(new er(s,{})),o++)}return new ue(r,{})}function iS(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=qf(new ue([],{}),0,r))}),n}function cy(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function ly(t,n,e){return t==e.path&&on(n,e.parameters)}var cs="imperative",qe=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(qe||{}),St=class{id;url;constructor(n,e){this.id=n,this.url=e}},Br=class extends St{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",o=null){super(n,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ht=class extends St{urlAfterRedirects;type=qe.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(ut||{}),ds=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ds||{}),sn=class extends St{reason;code;type=qe.NavigationCancel;constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},An=class extends St{reason;code;type=qe.NavigationSkipped;constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o}},Uo=class extends St{error;target;type=qe.NavigationError;constructor(n,e,r,o){super(n,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fs=class extends St{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gc=class extends St{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zc=class extends St{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qc=class extends St{urlAfterRedirects;state;type=qe.ResolveStart;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class extends St{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class{route;type=qe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qc=class{route;type=qe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yc=class{snapshot;type=qe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xc=class{snapshot;type=qe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kc=class{snapshot;type=qe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jc=class{snapshot;type=qe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ps=class{},$o=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function sS(t){return!(t instanceof ps)&&!(t instanceof $o)}function aS(t,n){return t.providers&&!t._injector&&(t._injector=$i(t.providers,n,`Route: ${t.path}`)),t._injector??n}function $t(t){return t.outlet||Y}function cS(t,n){let e=t.filter(r=>$t(r)===n);return e.push(...t.filter(r=>$t(r)!==n)),e}function zo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var el=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new qo(this.rootInjector)}},qo=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new el(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(D(Ae))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Wf(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Wf(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Zf(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Zf(n,this._root).map(e=>e.value)}};function Wf(t,n){if(t===n.value)return n;for(let e of n.children){let r=Wf(t,e);if(r)return r}return null}function Zf(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Zf(t,e);if(r.length)return r.unshift(n),r}return[]}var Mt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Vo(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var gs=class extends tl{snapshot;constructor(n,e){super(n),this.snapshot=e,np(this,n)}toString(){return this.snapshot.toString()}};function Ny(t){let n=lS(t),e=new X([new er("",{})]),r=new X({}),o=new X({}),i=new X({}),s=new X(""),a=new kn(e,r,i,s,o,Y,t,n.root);return a.snapshot=n.root,new gs(new Mt(a,[]),n)}function lS(t){let n={},e={},r={},i=new Lr([],n,r,"",e,Y,t,null,{});return new hs("",new Mt(i,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[_s]))??U(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(n=>Vr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(n=>Vr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nl(t,n,e="emptyOnly"){let r,{routeConfig:o}=t;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),t.params),data:S(S({},n.data),t.data),resolve:S(S(S(S({},t.data),n.data),o?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},o&&Oy(o)&&(r.resolve[_s]=o.title),r}var Lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_s]}constructor(n,e,r,o,i,s,a,c,l){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},hs=class extends tl{url;constructor(n,e){super(e),this.url=n,np(this,e)}toString(){return xy(this._root)}};function np(t,n){n.value._routerState=t,n.children.forEach(e=>np(t,e))}function xy(t){let n=t.children.length>0?` { ${t.children.map(xy).join(", ")} } `:"";return`${t.value}${n}`}function Bf(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,on(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),on(n.params,e.params)||t.paramsSubject.next(e.params),FM(n.url,e.url)||t.urlSubject.next(e.url),on(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qf(t,n){let e=on(t.params,n.params)&&BM(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Qf(t.parent,n.parent))}function Oy(t){return typeof t.title=="string"||t.title===null}var Ry=new F(""),bs=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Y;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=L(void 0);parentContexts=y(qo);location=y(No);changeDetector=y(xo);inputBinder=y(sl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Yf(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ue({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xe]})}return t})(),Yf=class{route;childContexts;parent;outletData;constructor(n,e,r,o){this.route=n,this.childContexts=e,this.parent=r,this.outletData=o}get(n,e){return n===kn?this.route:n===qo?this.childContexts:n===Ry?this.outletData:this.parent.get(n,e)}},sl=new F("");var rp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&q(0,"router-outlet")},dependencies:[bs],encapsulation:2})}return t})();function op(t){let n=t.children&&t.children.map(op),e=n?Q(S({},t),{children:n}):S({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Y&&(e.component=rp),e}function uS(t,n,e){let r=ms(t,n._root,e?e._root:void 0);return new gs(r,n)}function ms(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let o=dS(t,n,e);return new Mt(r,o)}else{if(t.shouldAttach(n.value)){let i=t.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ms(t,a)),s}}let r=fS(n.value),o=n.children.map(i=>ms(t,i));return new Mt(r,o)}}function dS(t,n,e){return n.children.map(r=>{for(let o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return ms(t,r,o);return ms(t,r)})}function fS(t){return new kn(new X(t.url),new X(t.params),new X(t.queryParams),new X(t.fragment),new X(t.data),t.outlet,t.component,t)}var Ho=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Ay="ngNavigationCancelingError";function rl(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=tr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=ky(!1,ut.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function ky(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Ay]=!0,e.cancellationCode=n,e}function pS(t){return Py(t)&&tr(t.url)}function Py(t){return!!t&&t[Ay]}var gS=(t,n,e,r)=>K(o=>(new Xf(n,o.targetRouterState,o.currentRouterState,e,r).activate(t),o)),Xf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,o,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Bf(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let o=Vo(e);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){let o=n.value,i=e?e.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Vo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Vo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let o=Vo(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Jc(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Xc(n.value.snapshot))}activateRoutes(n,e,r){let o=n.value,i=e?e.value:null;if(Bf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},ol=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Bo=class{component;route;constructor(n,e){this.component=n,this.route=e}};function hS(t,n,e){let r=t._root,o=n?n._root:null;return ss(r,o,e,[r.value])}function mS(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Wo(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!hu(t)?t:n.get(t):r}function ss(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Vo(n);return t.children.forEach(s=>{vS(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ls(a,e.getContext(s),o)),o}function vS(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=yS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ol(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ss(t,n,a?a.children:null,r,o):ss(t,n,e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Bo(a.outlet.component,s))}else s&&ls(n,a,o),o.canActivateChecks.push(new ol(r)),i.component?ss(t,null,a?a.children:null,r,o):ss(t,null,e,r,o);return o}function yS(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Fr(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Fr(t.url,n.url)||!on(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qf(t,n)||!on(t.queryParams,n.queryParams);case"paramsChange":default:return!Qf(t,n)}}function ls(t,n,e){let r=Vo(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?n?ls(s,n.children.getContext(i),e):ls(s,null,e):ls(s,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Bo(n.outlet.component,o)):e.canDeactivateChecks.push(new Bo(null,o)):e.canDeactivateChecks.push(new Bo(null,o))}function ws(t){return typeof t=="function"}function _S(t){return typeof t=="boolean"}function CS(t){return t&&ws(t.canLoad)}function bS(t){return t&&ws(t.canActivate)}function wS(t){return t&&ws(t.canActivateChild)}function ES(t){return t&&ws(t.canDeactivate)}function IS(t){return t&&ws(t.canMatch)}function Fy(t){return t instanceof mn||t?.name==="EmptyError"}var Vc=Symbol("INITIAL_VALUE");function Go(){return tt(t=>fa(t.map(n=>n.pipe(_n(1),ru(Vc)))).pipe(K(n=>{for(let e of n)if(e!==!0){if(e===Vc)return Vc;if(e===!1||MS(e))return e}return!0}),it(n=>n!==Vc),_n(1)))}function MS(t){return tr(t)||t instanceof Ho}function SS(t,n){return Re(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?U(Q(S({},e),{guardsResult:!0})):DS(s,r,o,t).pipe(Re(a=>a&&_S(a)?TS(r,i,t,n):U(a)),K(a=>Q(S({},e),{guardsResult:a})))})}function DS(t,n,e,r){return be(t).pipe(Re(o=>AS(o.component,o.route,e,n,r)),et(o=>o!==!0,!0))}function TS(t,n,e,r){return be(n).pipe(yn(o=>ro(xS(o.route.parent,r),NS(o.route,r),RS(t,o.path,e),OS(t,o.route,e))),et(o=>o!==!0,!0))}function NS(t,n){return t!==null&&n&&n(new Kc(t)),U(!0)}function xS(t,n){return t!==null&&n&&n(new Yc(t)),U(!0)}function OS(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let o=r.map(i=>ci(()=>{let s=zo(n)??e,a=Wo(i,s),c=bS(a)?a.canActivate(n,t):Ze(s,()=>a(n,t));return Pn(c).pipe(et())}));return U(o).pipe(Go())}function RS(t,n,e){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>mS(s)).filter(s=>s!==null).map(s=>ci(()=>{let a=s.guards.map(c=>{let l=zo(s.node)??e,u=Wo(c,l),d=wS(u)?u.canActivateChild(r,t):Ze(l,()=>u(r,t));return Pn(d).pipe(et())});return U(a).pipe(Go())}));return U(i).pipe(Go())}function AS(t,n,e,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return U(!0);let s=i.map(a=>{let c=zo(n)??o,l=Wo(a,c),u=ES(l)?l.canDeactivate(t,n,e,r):Ze(c,()=>l(t,n,e,r));return Pn(u).pipe(et())});return U(s).pipe(Go())}function kS(t,n,e,r){let o=n.canLoad;if(o===void 0||o.length===0)return U(!0);let i=o.map(s=>{let a=Wo(s,t),c=CS(a)?a.canLoad(n,e):Ze(t,()=>a(n,e));return Pn(c)});return U(i).pipe(Go(),Ly(r))}function Ly(t){return Ql(He(n=>{if(typeof n!="boolean")throw rl(t,n)}),K(n=>n===!0))}function PS(t,n,e,r){let o=n.canMatch;if(!o||o.length===0)return U(!0);let i=o.map(s=>{let a=Wo(s,t),c=IS(a)?a.canMatch(n,e):Ze(t,()=>a(n,e));return Pn(c)});return U(i).pipe(Go(),Ly(r))}var vs=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ys=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Lo(t){return to(new vs(t))}function FS(t){return to(new O(4e3,!1))}function LS(t){return to(ky(!1,ut.GuardRejected))}var Kf=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return U(r);if(o.numberOfChildren>1||!o.children[Y])return FS(`${n.redirectTo}`);o=o.children[Y]}}applyRedirectCommands(n,e,r,o,i){return VS(e,o,i).pipe(K(s=>{if(s instanceof kt)throw new ys(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new ys(a);return a}))}applyRedirectCreateUrlTree(n,e,r,o){let i=this.createSegmentGroup(n,e.root,r,o);return new kt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(n,e,r,o){let i=this.createSegments(n,e.segments,r,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new ue(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){let o=r[e.path.substring(1)];if(!o)throw new O(4001,!1);return o}findOrReturn(n,e){let r=0;for(let o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}};function VS(t,n,e){if(typeof t=="string")return U(t);let r=t,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=n;return Pn(Ze(e,()=>r({params:l,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var Jf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jS(t,n,e,r,o){let i=Vy(t,n,e);return i.matched?(r=aS(n,r),PS(r,n,e,o).pipe(K(s=>s===!0?i:S({},Jf)))):U(i)}function Vy(t,n,e){if(n.path==="**")return BS(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?S({},Jf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||py)(e,t,n);if(!o)return S({},Jf);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?S(S({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function BS(t){return{matched:!0,parameters:t.length>0?hy(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uy(t,n,e,r){return e.length>0&&HS(t,e,r)?{segmentGroup:new ue(n,$S(r,new ue(e,t.children))),slicedSegments:[]}:e.length===0&&GS(t,e,r)?{segmentGroup:new ue(t.segments,US(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:e}}function US(t,n,e,r){let o={};for(let i of e)if(al(t,n,i)&&!r[$t(i)]){let s=new ue([],{});o[$t(i)]=s}return S(S({},r),o)}function $S(t,n){let e={};e[Y]=n;for(let r of t)if(r.path===""&&$t(r)!==Y){let o=new ue([],{});e[$t(r)]=o}return e}function HS(t,n,e){return e.some(r=>al(t,n,r)&&$t(r)!==Y)}function GS(t,n,e){return e.some(r=>al(t,n,r))}function al(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function zS(t,n,e){return n.length===0&&!t.children[e]}var ep=class{};function qS(t,n,e,r,o,i,s="emptyOnly"){return new tp(t,n,e,r,o,s,i).recognize()}var WS=31,tp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,o,i,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kf(this.urlSerializer,this.urlTree)}noMatchError(n){return new O(4002,`'${n.segmentGroup}'`)}recognize(){let n=uy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(K(({children:e,rootSnapshot:r})=>{let o=new Mt(r,e),i=new hs("",o),s=Iy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let e=new Lr([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Y,e).pipe(K(r=>({children:r,rootSnapshot:e})),vn(r=>{if(r instanceof ys)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vs?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,i):this.processSegment(n,e,r,r.segments,o,!0,i).pipe(K(s=>s instanceof Mt?[s]:[]))}processChildren(n,e,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return be(i).pipe(yn(s=>{let a=r.children[s],c=cS(e,s);return this.processSegmentGroup(n,c,a,s,o)}),nu((s,a)=>(s.push(...a),s)),Ln(null),tu(),Re(s=>{if(s===null)return Lo(r);let a=jy(s);return ZS(a),U(a)}))}processSegment(n,e,r,o,i,s,a){return be(e).pipe(yn(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,o,i,s,a).pipe(vn(l=>{if(l instanceof vs)return U(null);throw l}))),et(c=>!!c),vn(c=>{if(Fy(c))return zS(r,o,i)?U(new ep):Lo(r);throw c}))}processSegmentAgainstRoute(n,e,r,o,i,s,a,c){return $t(r)!==s&&(s===Y||!al(o,i,r))?Lo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,i,s,c):Lo(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:v}=Vy(e,o,i);if(!c)return Lo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WS&&(this.allowRedirects=!1));let g=new Lr(i,l,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,dy(o),$t(o),o.component??o._loadedComponent??null,o,fy(o)),I=nl(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(I.params),g.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,g,n).pipe(tt(P=>this.applyRedirects.lineralizeSegments(o,P)),Re(P=>this.processSegment(n,r,e,P.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,o,i,s){let a=jS(e,r,o,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(tt(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(tt(({routes:l})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:v,remainingSegments:g}=c,I=new Lr(v,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,dy(r),$t(r),r.component??r._loadedComponent??null,r,fy(r)),V=nl(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(V.params),I.data=Object.freeze(V.data);let{segmentGroup:P,slicedSegments:k}=uy(e,v,g,l);if(k.length===0&&P.hasChildren())return this.processChildren(u,l,P,I).pipe(K(yt=>new Mt(I,yt)));if(l.length===0&&k.length===0)return U(new Mt(I,[]));let Ee=$t(r)===i;return this.processSegment(u,l,P,k,Ee?Y:i,!0,I).pipe(K(yt=>new Mt(I,yt instanceof Mt?[yt]:[])))}))):Lo(e)))}getChildConfig(n,e,r){return e.children?U({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?U({routes:e._loadedRoutes,injector:e._loadedInjector}):kS(n,e,r,this.urlSerializer).pipe(Re(o=>o?this.configLoader.loadChildren(n,e).pipe(He(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):LS(e))):U({routes:[],injector:n})}};function ZS(t){t.sort((n,e)=>n.value.outlet===Y?-1:e.value.outlet===Y?1:n.value.outlet.localeCompare(e.value.outlet))}function QS(t){let n=t.value.routeConfig;return n&&n.path===""}function jy(t){let n=[],e=new Set;for(let r of t){if(!QS(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):n.push(r)}for(let r of e){let o=jy(r.children);n.push(new Mt(r.value,o))}return n.filter(r=>!e.has(r))}function dy(t){return t.data||{}}function fy(t){return t.resolve||{}}function YS(t,n,e,r,o,i){return Re(s=>qS(t,n,e,r,s.extractedUrl,o,i).pipe(K(({state:a,tree:c})=>Q(S({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function XS(t,n){return Re(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return U(e);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of By(c))s.add(l);let a=0;return be(s).pipe(yn(c=>i.has(c)?KS(c,r,t,n):(c.data=nl(c,c.parent,t).resolve,U(void 0))),He(()=>a++),oo(1),Re(c=>a===s.size?U(e):ft))})}function By(t){let n=t.children.map(e=>By(e)).flat();return[t,...n]}function KS(t,n,e,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!Oy(o)&&(i[_s]=o.title),ci(()=>(t.data=nl(t,t.parent,e).resolve,JS(i,t,n,r).pipe(K(s=>(t._resolvedData=s,t.data=S(S({},t.data),s),null)))))}function JS(t,n,e,r){let o=Hf(t);if(o.length===0)return U({});let i={};return be(o).pipe(Re(s=>eD(t[s],n,e,r).pipe(et(),He(a=>{if(a instanceof Ho)throw rl(new jr,a);i[s]=a}))),oo(1),K(()=>i),vn(s=>Fy(s)?ft:to(s)))}function eD(t,n,e,r){let o=zo(n)??r,i=Wo(t,o),s=i.resolve?i.resolve(n,e):Ze(o,()=>i(n,e));return Pn(s)}function Uf(t){return tt(n=>{let e=t(n);return e?be(e).pipe(K(()=>n)):U(n)})}var ip=(()=>{class t{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Y);return r}getResolvedTitleForRoute(e){return e.data[_s]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(Uy),providedIn:"root"})}return t})(),Uy=(()=>{class t extends ip{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(D(iy))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zo=new F("",{providedIn:"root",factory:()=>({})}),Es=new F(""),$y=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(yf);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return U(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Pn(Ze(e,()=>r.loadComponent())).pipe(K(Gy),tt(zy),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fr(()=>{this.componentLoaders.delete(r)})),i=new eo(o,()=>new te).pipe(Jr());return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hy(r,this.compiler,e,this.onLoadEndListener).pipe(fr(()=>{this.childrenLoaders.delete(r)})),s=new eo(i,()=>new te).pipe(Jr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hy(t,n,e,r){return Pn(Ze(e,()=>t.loadChildren())).pipe(K(Gy),tt(zy),Re(o=>o instanceof Cc||Array.isArray(o)?U(o):be(n.compileModuleAsync(o))),K(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(Es,[],{optional:!0,self:!0}).flat()),{routes:s.map(op),injector:i}}))}function tD(t){return t&&typeof t=="object"&&"default"in t}function Gy(t){return tD(t)?t.default:t}function zy(t){return U(t)}var cl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(nD),providedIn:"root"})}return t})(),nD=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qy=new F("");var Wy=new F(""),Zy=(()=>{class t{currentNavigation=B(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new te;transitionAbortWithErrorSubject=new te;configLoader=y($y);environmentInjector=y(Ae);destroyRef=y(Ye);urlSerializer=y(Cs);rootContexts=y(qo);location=y(Ro);inputBindingEnabled=y(sl,{optional:!0})!==null;titleStrategy=y(ip);options=y(Zo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(cl);createViewTransition=y(qy,{optional:!0});navigationErrorHandler=y(Wy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Zc(o)),r=o=>this.events.next(new Qc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;ze(()=>{this.transitions?.next(Q(S({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new X(null),this.transitions.pipe(it(r=>r!==null),tt(r=>{let o=!1;return U(r).pipe(tt(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ut.SupersededByNewNavigation),ft;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?Q(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new An(i.id,this.urlSerializer.serialize(i.rawUrl),"",ds.IgnoredSameUrlNavigation)),i.resolve(!1),ft;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return U(i).pipe(tt(c=>(this.events.next(new Br(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ft:Promise.resolve(c))),YS(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),He(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new fs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:v}=i,g=new Br(c,this.urlSerializer.serialize(l),u,d);this.events.next(g);let I=Ny(this.rootComponentType).snapshot;return this.currentTransition=r=Q(S({},i),{targetSnapshot:I,urlAfterRedirects:l,extras:Q(S({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(V=>(V.finalUrl=l,V)),U(r)}else return this.events.next(new An(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ds.IgnoredByUrlHandlingStrategy)),i.resolve(!1),ft}),He(i=>{let s=new Gc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),K(i=>(this.currentTransition=r=Q(S({},i),{guards:hS(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),SS(this.environmentInjector,i=>this.events.next(i)),He(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw rl(this.urlSerializer,i.guardsResult);let s=new zc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),it(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",ut.GuardRejected),!1)),Uf(i=>{if(i.guards.canActivateChecks.length!==0)return U(i).pipe(He(s=>{let a=new qc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),tt(s=>{let a=!1;return U(s).pipe(XS(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ut.NoDataFromResolver)}}))}),He(s=>{let a=new Wc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Uf(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=zo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(He(u=>{a.component=u}),K(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return fa(s(i.targetSnapshot.root)).pipe(Ln(null),_n(1))}),Uf(()=>this.afterPreactivation()),tt(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?be(a).pipe(K(()=>r)):U(r)}),K(i=>{let s=uS(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=Q(S({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),He(()=>{this.events.next(new ps)}),gS(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),_n(1),ga(new ee(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(it(()=>!o&&!r.targetRouterState),He(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ut.Aborted)}))),He({next:i=>{o=!0,this.lastSuccessfulNavigation=ze(this.currentNavigation),this.events.next(new Ht(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),ga(this.transitionAbortWithErrorSubject.pipe(He(i=>{throw i}))),fr(()=>{o||this.cancelNavigationTransition(r,"",ut.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),vn(i=>{if(this.destroyed)return r.resolve(!1),ft;if(o=!0,Py(i))this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),pS(i)?this.events.next(new $o(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Uo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ho){let{message:c,cancellationCode:l}=rl(this.urlSerializer,a);this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new $o(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ft}))}))}cancelNavigationTransition(e,r,o){let i=new sn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ze(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rD(t){return t!==cs}var Qy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(oD),providedIn:"root"})}return t})(),il=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},oD=(()=>{class t extends il{static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yy=(()=>{class t{urlSerializer=y(Cs);options=y(Zo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Ro);urlHandlingStrategy=y(cl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=o??i;return s instanceof kt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=Ny(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>y(iD),providedIn:"root"})}return t})(),iD=(()=>{class t extends Yy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Br?this.updateStateMemento():e instanceof An?this.commitTransition(r):e instanceof fs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ps?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof sn&&e.code!==ut.SupersededByNewNavigation&&e.code!==ut.Redirect?this.restoreHistory(r):e instanceof Uo?this.restoreHistory(r,!0):e instanceof Ht&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||i){let a=this.browserPageId,c=S(S({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",c)}else{let a=S(S({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sp(t,n){t.events.pipe(it(e=>e instanceof Ht||e instanceof sn||e instanceof Uo||e instanceof An),K(e=>e instanceof Ht||e instanceof An?0:(e instanceof sn?e.code===ut.Redirect||e.code===ut.SupersededByNewNavigation:!1)?2:1),it(e=>e!==2),_n(1)).subscribe(()=>{n()})}var sD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ve=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(pf);stateManager=y(Yy);options=y(Zo,{optional:!0})||{};pendingTasks=y(Jt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Zy);urlSerializer=y(Cs);location=y(Ro);urlHandlingStrategy=y(cl);injector=y(Ae);_events=new te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(Qy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Es,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(sl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=ze(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof sn&&r.code!==ut.Redirect&&r.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ht)this.navigated=!0;else if(r instanceof $o){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=S({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rD(o.source)},s);this.scheduleNavigation(a,cs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}sS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=S({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(gt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ze(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(op),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let v=o?o.snapshot:this.routerState.snapshot.root;d=My(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Sy(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=tr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,cs,null,r)}navigate(e,r={skipLocationChange:!1}){return cD(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=S({},sD):r===!1?o=S({},aD):o=r,tr(e))return sy(this.currentUrlTree,e,o);let i=this.parseUrl(e);return sy(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,v)=>{a=d,c=v});let u=this.pendingTasks.add();return sp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cD(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new O(4008,!1)}var Qo=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=B(null);get href(){return ze(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new te;applicationErrorHandler=y(gt);options=y(Zo,{optional:!0});constructor(e,r,o,i,s,a){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new Dc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=o=>o==="merge"||o==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ht&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(tr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:tr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(w(ve),w(kn),lc("tabindex"),w(Nn),w(Et),w(Oo))};static \u0275dir=Ue({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&b("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Hi("href",o.reactiveHref(),Wd)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qi],replaceUrl:[2,"replaceUrl","replaceUrl",Qi],routerLink:"routerLink"},features:[Xe]})}return t})(),ap=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new De;constructor(e,r,o,i,s){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Ht&&this.update()})}ngAfterContentInit(){U(this.links.changes,U(null)).pipe(no()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=be(e).pipe(no()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=uD(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||t)(w(ve),w(Et),w(Nn),w(xo),w(Qo,8))};static \u0275dir=Ue({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&vf(i,Qo,5),r&2){let s;tn(s=nn())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xe]})}return t})();function uD(t){return!!t.paths}var dD=new F("");function cp(t,...n){return In([{provide:Es,multi:!0,useValue:t},[],{provide:kn,useFactory:fD,deps:[ve]},{provide:Ec,multi:!0,useFactory:pD},n.map(e=>e.\u0275providers)])}function fD(t){return t.routerState.root}function pD(){let t=y(at);return n=>{let e=t.get(On);if(n!==e.components[0])return;let r=t.get(ve),o=t.get(gD);t.get(hD)===1&&r.initialNavigation(),t.get(mD,null,{optional:!0})?.setUpPreloading(),t.get(dD,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var gD=new F("",{factory:()=>new te}),hD=new F("",{providedIn:"root",factory:()=>1});var mD=new F("");function Ke(t,n){let r=!n?.manualCleanup?n?.injector?.get(Ye)??y(Ye):null,o=vD(n?.equal),i;n?.requireSync?i=B({kind:0},{equal:o}):i=B({kind:1,value:n?.initialValue},{equal:o});let s,a=t.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{i.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(n?.requireSync&&i().kind===0)throw new O(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Xn(()=>{let c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new O(601,!1)}},{equal:n?.equal})}function vD(t=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&t(n.value,e.value)}var Yo=class{id;name;description;mapIconPath;portraitPath;mapIconSize;creatureInfo;locationInfo;secrets;links;tags;constructor(n,e,r="",o="alien-bug.png",i="",s="64",a=null,c=null,l=[],u=[],d=""){this.id=n,this.name=e,this.description=r,this.mapIconPath=o,this.portraitPath=i,this.mapIconSize=s,this.creatureInfo=a,this.locationInfo=c,this.secrets=l,this.links=u,this.tags=d}},ll=class{id;node;locationX;locationY;constructor(n,e,r,o){this.id=n,this.node=e,this.locationX=r,this.locationY=o}},Xo=class{id;creatureType;size;ac;hp;speed;speedFlying;speedSwimming;alignment;languages;senses;damageResistances;damageImmunities;conditionImmunities;damageVulnerabilities;skills;savingThrows;actions;cha;con;dex;int;str;wis;cr;constructor(n=0,e="Humanoid",r="Medium",o="14",i="10",s="30",a="0",c="0",l="Neutral Good",u="Common",d="Passive perception: 12",v=[],g=[],I=[],V=[],P=[],k=[],Ee=[],yt="10",$e="10",gn="10",hn="10",Pl="10",uC="10",dC="1"){this.id=n,this.creatureType=e,this.size=r,this.ac=o,this.hp=i,this.speed=s,this.speedFlying=a,this.speedSwimming=c,this.alignment=l,this.languages=u,this.senses=d,this.damageResistances=v,this.damageImmunities=g,this.conditionImmunities=I,this.damageVulnerabilities=V,this.skills=P,this.savingThrows=k,this.actions=Ee,this.cha=yt,this.con=$e,this.dex=gn,this.int=hn,this.str=Pl,this.wis=uC,this.cr=dC}},ul=class{id;population;constructor(n=0,e="No one lives here."){this.id=n,this.population=e}};var dl=class{id;skillName;bonus;constructor(n,e,r){this.id=n,this.skillName=e,this.bonus=r}},fl=class{id;savingThrowName;bonus;constructor(n,e,r){this.id=n,this.savingThrowName=e,this.bonus=r}},pl=class{id;name;description;constructor(n,e,r=""){this.id=n,this.name=e,this.description=r}};var Ur=class extends Error{};Ur.prototype.name="InvalidTokenError";function yD(t){return decodeURIComponent(atob(t).replace(/(.)/g,(n,e)=>{let r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function _D(t){let n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return yD(n)}catch{return atob(n)}}function gl(t,n){if(typeof t!="string")throw new Ur("Invalid token specified: must be a string");n||(n={});let e=n.header===!0?0:1,r=t.split(".")[e];if(typeof r!="string")throw new Ur(`Invalid token specified: missing part #${e+1}`);let o;try{o=_D(r)}catch(i){throw new Ur(`Invalid token specified: invalid base64 for part #${e+1} (${i.message})`)}try{return JSON.parse(o)}catch(i){throw new Ur(`Invalid token specified: invalid json for part #${e+1} (${i.message})`)}}var nr=(()=>{class t{localUrl="http://localhost:5140/";remoteUrl="https://gmprep-server.fly.dev/";buildUrl(e){return this.getUrlBase()+e.join("/")}getUrlBase(){return console.log("ORIGIN: "+document.location.origin),document.location.origin.includes("localhost")?this.localUrl:this.remoteUrl}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var le=(()=>{class t{http;urlBuilder;authState=new X(!1);authState$=this.authState.asObservable();authToken=new X("");authToken$=this.authToken.asObservable();user=new X(null);user$=this.user.asObservable();constructor(e,r){this.http=e,this.urlBuilder=r}setAuthenticated(e,r){this.user.next(r),this.authToken.next(e),this.authState.next(!0),console.log("set authenticated"),this.storeUserToken(),this.storeUser()}logout(){console.log("Logging out. Deleting session token."),document.cookie="userToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.authState.next(!1),this.authToken.next(""),this.user.next(null)}storeUserToken(){console.log("store user token"),console.log(this.authToken.value),document.cookie=`userToken=${this.authToken.value}; Expires=DateTime.UtcNow.AddDays(7)`}retrieveUserToken(){console.log(document.cookie);var e=document.cookie.split(";"),r="";return e.forEach(o=>{var i=o.split("=");console.log("checking cookie "+i[0]),i[0].includes("userToken")&&(r=i[1])}),r!=""?(console.log("found token"),r):""}storeUser(){console.log("store user"),console.log(this.user.getValue()),window.localStorage.setItem("User",JSON.stringify(this.user.getValue()))}retrieveUser(){console.log("retrieving user from local storage");var e=JSON.parse(window.localStorage.getItem("User")??"");return e===void 0?null:e}getUserToken(){return this.authToken.value}login(e){this.http.post(this.urlBuilder.buildUrl(["users","login",e]),{}).subscribe({next:r=>{console.log("Login Success!"),this.setAuthenticated(e,r)},error:r=>{console.error("Login ERROR: "+r)}})}isAuthenticated(){if(this.authState.value)return!0;console.log("checking for stored login token");var e=this.retrieveUserToken();if(e=="")return!1;var r=gl(e),o=Math.round(new Date().getTime()/1e3),i=r.exp;console.log(`login token expires in ${i-o} seconds`);var s=o>i;if(s=!1,s)return!1;var a=this.retrieveUser();return a==null?!1:(this.setAuthenticated(e,a),!0)}getUser(){return this.user.value}static \u0275fac=function(r){return new(r||t)(D(rn),D(nr))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ve=(()=>{class t{http;urlBuilder;auth;campaignIdStorage="SelectedCampaignId";constructor(e,r,o){this.http=e,this.urlBuilder=r,this.auth=o,o.authState$.subscribe({next:i=>{i&&o.retrieveUser()?.email!=o.getUser()?.email&&(console.log("User changed. Resetting selected campaign"),this.setSelectedCampaign(null),this.requestCampaigns(o.getUserToken()))}})}campaigns=new X([]);campaigns$=this.campaigns.asObservable();campaignsLoaded=new X(!1);campaignsLoaded$=this.campaignsLoaded.asObservable();selectedCampaign=new X(null);selectedCampaign$=this.selectedCampaign.asObservable();editedCampaign=null;cachedUrl="";setSelectedCampaign(e){console.log("set selected campaign "+JSON.stringify(e)),this.selectedCampaign.next(e),this.storeSelectedCampaign()}getCampaignsLoaded(){return this.campaignsLoaded$}areCampaignsLoaded(){return this.campaignsLoaded.getValue()}getSelectedCampaign(){if(this.selectedCampaign.value!=null)return this.selectedCampaign.value;var e=this.requestSelectedCampaign();return e}getCampaigns(e){return this.campaignsLoaded.getValue()||this.requestCampaigns(e),this.campaigns$}getCampaign(e){var r=this.campaigns.getValue();for(let o of r)if(o.id==e)return o;return null}updateCampaign(e,r){if(console.log(`updating campaign: ${r}`),e=="")throw new Error("Cannot update Campaign, usertoken not valid");var o=this.http.post(this.urlBuilder.buildUrl(["campaigns","create",e]),r);o.subscribe({next:()=>{this.invalidateCampaigns()},error:i=>{throw new Error("could not update campaign: "+i)}})}deleteCampaign(e,r){if(console.log(`deleting campaign: ${r}`),e=="")throw new Error("Cannot delete campaign, usertoken not valid");var o=this.http.post(this.urlBuilder.buildUrl(["campaigns","delete",r.toString(),e]),{});o.subscribe({next:()=>{this.invalidateCampaigns()},error:i=>{throw new Error("Could not delete campaign: "+i)}})}invalidateCampaigns(e=!1){this.setSelectedCampaign(null),this.campaignsLoaded.next(!1),e&&(this.cachedUrl=""),this.cachedUrl!=""&&this.requestCampaignsWithUrl(this.cachedUrl)}requestCampaigns(e){if(console.log("Requesting campaigns"),this.campaignsLoaded.next(!1),e=="")throw new Error("Cannot request campaigns, usertoken not valid");this.cachedUrl=this.urlBuilder.buildUrl(["campaigns",e]),this.requestCampaignsWithUrl(this.cachedUrl)}requestCampaignsWithUrl(e){this.http.get(e).subscribe({next:r=>{this.campaignsLoaded.next(!0),this.campaigns.next(r)},error:r=>{throw new Error(r)}})}storeSelectedCampaign(){var e=this.selectedCampaign.getValue();if(console.log("store selected campaign: "+JSON.stringify(e)),e==null){window.localStorage.setItem(this.campaignIdStorage,"");return}window.localStorage.setItem(this.campaignIdStorage,e.id.toString())}requestSelectedCampaign(){console.log("requesting selected campaign data from local storage");var e=window.localStorage.getItem(this.campaignIdStorage)??"",r=this.getCampaign(parseInt(e));return r}static \u0275fac=function(r){return new(r||t)(D(rn),D(nr),D(le))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ln=(()=>{class t{http;urlBuilder;constructor(e,r){this.http=e,this.urlBuilder=r}nodes=new X([]);nodes$=this.nodes.asObservable();nodesLoaded=new X(!1);nodesLoaded$=this.nodesLoaded.asObservable();nodeUpdated=new te;nodeUpdated$=this.nodeUpdated.asObservable();nodeCreated=new te;nodeCreated$=this.nodeCreated.asObservable();nodeDeleted=new te;nodeDeleted$=this.nodeDeleted.asObservable();requestNodes(e,r){if(console.log("Requesting nodes"),e=="")throw new Error("User not authenticated");return this.http.get(this.urlBuilder.buildUrl(["nodes","all",r.toString(),e])).subscribe({next:o=>{console.log("received nodes:"),console.log(o),this.nodes.next(o),this.nodesLoaded.next(!0)},error:o=>{console.error(o)}}),this.nodes$}getLocalNode(e){for(var r=0;r<this.nodes.getValue().length;r++)if(this.nodes.getValue()[r].id==e)return this.nodes.getValue()[r];return null}getNode(e,r){if(e=="")throw new Error("User not authenticated");var o=new te,i=o.asObservable();return this.http.get(this.urlBuilder.buildUrl(["nodes",r,e])).subscribe({next:s=>{console.log(`received node ${r}.`),console.log(s),o.next(s)},error:s=>{console.error("Error receiving node: "+s),o.next(null)}}),i}copyNodeValues(e,r){r.name=e.name,r.description=e.description,r.mapIconPath=e.mapIconPath,r.portraitPath=e.portraitPath,r.mapIconSize=e.mapIconSize,r.creatureInfo=e.creatureInfo,r.locationInfo=e.locationInfo,r.secrets=e.secrets,r.links=e.links}updateNode(e,r,o){e!=""&&(this.nodeUpdated.next(o),this.http.post(this.urlBuilder.buildUrl(["nodes","update",r.toString(),e]),o).subscribe({next:()=>{console.log("node successfully updated");for(var i=0;i<this.nodes.value.length;i++)if(this.nodes.value[i].id==o.id){var s=Object.assign([],this.nodes.value);s[i]=o,this.nodes.next(s),this.nodesLoaded.next(!0);break}console.log(o)},error:i=>{console.error("Error updating node "+i)}}))}createNode(e,r,o){e!=""&&this.http.post(this.urlBuilder.buildUrl(["nodes","update",r.toString(),e]),o).subscribe({next:i=>{var s=Object.assign([],this.nodes.value);s.push(i),this.nodes.next(s),this.nodesLoaded.next(!0),this.nodeCreated.next(i)},error:i=>{console.error("Error creating node "+i)}})}deleteNode(e,r,o){this.http.post(this.urlBuilder.buildUrl(["nodes","delete",e]),o).subscribe({next:i=>{console.log("Node successfully deleted"),this.nodeDeleted.next(o.id),this.requestNodes(e,r)},error:i=>{console.error("Error deleting node"),console.log(i)}})}static \u0275fac=function(r){return new(r||t)(D(rn),D(nr))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _e=(()=>{class t{http;campaignService;nodeService;auth;urlBuilder;constructor(e,r,o,i,s){this.http=e,this.campaignService=r,this.nodeService=o,this.auth=i,this.urlBuilder=s,r.selectedCampaign$.subscribe({next:a=>{a!=null&&this.invalidateMaps(!0)}}),i.authState$.subscribe({next:a=>{a||this.invalidateMaps(!0)}}),this.selectedMap$.subscribe({next:()=>{this.invalidateMapNodes()}}),this.nodeService.nodesLoaded$.subscribe({next:()=>{this.requestMapNodes(i.getUserToken(),this.selectedMap.getValue())}}),this.nodeService.nodeDeleted$.subscribe({next:a=>{this.getSelectedNode()?.id==a&&this.setSelectedNode(null)}}),this.nodeService.nodeCreated$.subscribe({next:a=>{this.setSelectedNode(a)}})}maps=new X([]);maps$=this.maps.asObservable();mapsLoaded=new X(!1);mapsLoaded$=this.mapsLoaded.asObservable();mapNodes=new X([]);mapNodes$=this.mapNodes.asObservable();mapNodesLoaded=new X(!1);mapNodesLoaded$=this.mapNodesLoaded.asObservable();selectedNode=new X(null);selectedNode$=this.selectedNode.asObservable();selectedMap=new X(null);selectedMap$=this.selectedMap.asObservable();mapNodeDropped=new te;mapNodeDropped$=this.mapNodeDropped.asObservable();mapNodeDragged=new te;mapNodeDragged$=this.mapNodeDragged.asObservable();editedMap=null;cachedUrl="";setSelectedNode(e){console.log("Set selected node"),console.log(e),this.selectedNode.next(e),this.storeSelectedNode()}getSelectedNodeObservable(){return this.selectedNode.getValue()==null&&(console.log("no selected node set in memory, checking local storage"),this.requestSelectedNode()),this.selectedNode$}getSelectedNode(){return this.selectedNode.getValue()}requestSelectedNode(){if(this.selectedNode.getValue()==null){var e=window.localStorage.getItem("selectedNodeID");if(e!=null){console.log("retreiving selected node data from storage");var r=this.nodeService.getLocalNode(parseInt(e));console.log(r),this.selectedNode.next(r)}}}storeSelectedNode(){this.selectedNode.getValue()!=null&&window.localStorage.setItem("selectedNodeID",this.selectedNode.getValue().id.toString())}getMapNodesLoaded(){return this.mapNodesLoaded$}areMapNodesLoaded(){return this.mapNodesLoaded.getValue()}getMapNodes(){return this.mapNodes.getValue()}invalidateMapNodes(){this.mapNodesLoaded.next(!1),this.mapNodes.next([]),this.selectedMap.getValue()!=null&&this.requestMapNodes(this.auth.getUserToken(),this.selectedMap.getValue())}dropMapNode(e,r){this.mapNodeDropped.next(new lp(e,r))}startDragMapNode(e,r){this.deleteMapNode(e,this.getSelectedMap(),r),this.mapNodeDragged.next(r.node)}startDragNode(e){this.mapNodeDragged.next(e)}requestMapNodes(e,r){var o=this.urlBuilder.buildUrl(["nodes","mapnodes",r.id.toString(),e]);console.log("Requestion map node reload"),this.http.get(o).subscribe({next:i=>{console.log("received map nodes: "),console.log(i),this.mapNodes.next(i),this.mapNodesLoaded.next(!0)},error:i=>{throw new Error(i)}})}createMapNode(e,r,o){if(e=="")throw new Error("Cannot find usertoken");var i=this.urlBuilder.buildUrl(["nodes","createmapnode",r.id.toString(),e]);this.http.post(i,o).subscribe({next:()=>{console.log("Map Node added"),this.invalidateMapNodes()},error:s=>{throw new Error("Could not add map node: "+s)}})}deleteMapNode(e,r,o){if(e=="")throw new Error("Cannot find usertoken");var i=this.urlBuilder.buildUrl(["nodes","deletemapnode",o.id.toString(),e]);this.http.post(i,{}).subscribe({next:()=>{console.log("MapNode deleted"),this.invalidateMapNodes()},error:s=>{throw new Error("Could not delete map node: "+s)}})}getMapsLoaded(){return this.mapsLoaded$}areMapsLoaded(){return this.mapsLoaded.getValue()}setSelectedMap(e){console.log("setting selected map: "+e),this.selectedMap.next(e),this.storeSelectedMap()}getSelectedMap(){if(this.selectedMap.getValue()!=null)return this.selectedMap.getValue();console.log("retrieving selected map data from local storage");var e=this.getMap(parseInt(window.localStorage.getItem("selectedMapID")??""));return console.log("found map: "+e),e}getSelectedMapObserver(){return this.setSelectedMap(this.getSelectedMap()),this.selectedMap$}invalidateMaps(e=!1){this.mapsLoaded.next(!1),e&&(this.cachedUrl=""),this.cachedUrl!=""&&this.requestMapsByUrl(this.cachedUrl)}storeSelectedMap(){var e=this.selectedMap.getValue();if(console.log("storing selected map: "+e),e==null){window.localStorage.setItem("selectedMapID","");return}window.localStorage.setItem("selectedMapID",e.id.toString())}getMap(e){console.log("getting map with id "+e);for(var r of this.maps.getValue())if(r.id==e)return r;return null}getMaps(e,r){return this.areMapsLoaded()||this.requestMaps(e,r),this.maps$}deleteMap(e,r){if(e=="")throw new Error("Cannot find usertoken");var o=this.urlBuilder.buildUrl(["campaigns","maps","delete",r.toString(),e]),i=this.http.post(o,{});i.subscribe({next:()=>{console.log("Map Deleted"),this.invalidateMaps()},error:s=>{throw new Error("Could not delete map: "+s)}})}requestMaps(e,r){if(e==""||r==null)throw new Error(`Cannot request campaign info for campaign ${r}.
User ${e}`);this.cachedUrl=this.urlBuilder.buildUrl(["campaigns","maps",r.id.toString(),e]),this.requestMapsByUrl(this.cachedUrl)}updateMap(e,r,o){if(console.log("updating map:"),console.log(o),e==""||r==null)throw new Error(`Cannot update map for campaign ${r}
Usertoken: ${e}`);this.http.post(this.urlBuilder.buildUrl(["campaigns","maps","create",r.id.toString(),e]),o).subscribe({next:()=>{this.invalidateMaps()},error:i=>{throw new Error("Could not update map: "+i)}})}requestMapsByUrl(e){if(e=="")throw new Error("Url empty");this.http.get(e).subscribe({next:r=>{console.log(r),this.maps.next(r),this.mapsLoaded.next(!0)},error:r=>{throw alert("Error fetching maps. Logging out"),this.auth.logout(),new Error(r)}})}static \u0275fac=function(r){return new(r||t)(D(rn),D(Ve),D(ln),D(le),D(nr))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lp=class{e;node;constructor(n,e){this.e=n,this.node=e}};var Xy=(()=>{class t{auth;mapService;node=L.required();widthFactor=L(1);mousePressed=!1;constructor(e,r){this.auth=e,this.mapService=r}getSize(){return parseFloat(this.node().node.mapIconSize)*this.widthFactor()}onMouseDown(e){e.stopPropagation(),this.mousePressed=!0}onClicked(e){this.mapService.setSelectedNode(this.node().node)}onMouseLeave(e){this.mousePressed&&(this.mapService.startDragMapNode(this.auth.getUserToken(),this.node()),this.mousePressed=!1)}onMouseUp(e){this.mousePressed=!1}static \u0275fac=function(r){return new(r||t)(w(le),w(_e))};static \u0275cmp=A({type:t,selectors:[["app-map-icon"]],inputs:{node:[1,"node"],widthFactor:[1,"widthFactor"]},decls:2,vars:3,consts:[["draggable","false",1,"mapIcon",3,"mousedown","mouseleave","mouseup","click","src","width","height"]],template:function(r,o){r&1&&(G(0,"div")(1,"img",0),oe("mousedown",function(s){return o.onMouseDown(s)})("mouseleave",function(s){return o.onMouseLeave(s)})("mouseup",function(s){return o.onMouseUp(s)})("click",function(s){return o.onClicked(s)}),W()()),r&2&&(f(),Ot("src","node_icons/"+o.node().node.mapIconPath,nt)("width",o.getSize())("height",o.getSize()))},styles:[`.mapIcon[_ngcontent-%COMP%]{filter:drop-shadow(black .2em .2em 4px);-webkit-user-select:none;user-select:none}
/*# sourceMappingURL=map-icon-KB264HPZ.css.map */`]})}return t})();function CD(t,n){if(t&1&&q(0,"app-map-icon",5),t&2){let e=n.$implicit,r=p(2);Rt(r.getNodePositionStyle(e)),E("node",e)("widthFactor",r.widthFactor())}}function bD(t,n){if(t&1){let e=R();h(0,"div",1),b("mousemove",function(o){_(e);let i=p();return C(i.onMouseMove(o))})("mousedown",function(o){_(e);let i=p();return C(i.onMouseDown(o))})("mouseup",function(o){_(e);let i=p();return C(i.onMouseUp(o))})("mouseleave",function(o){_(e);let i=p();return C(i.onMouseUp(o))})("wheel",function(o){_(e);let i=p();return C(i.onMouseWheel(o))}),h(1,"div",2)(2,"img",3),b("load",function(o){_(e);let i=p();return C(i.onMapLoaded(o))})("mousemove",function(o){_(e);let i=p();return C(i.setLocalMapMousePos(o))}),m(),ge(3,CD,1,4,"app-map-icon",4,pe),m()()}if(t&2){let e=p();f(),Rt(e.mapTransformStyle()),f(),E("src",e.imgSrc,nt),f(),he(e.nodes())}}function wD(t,n){t&1&&(h(0,"p"),x(1,"map load error"),m())}var Ky=(()=>{class t{campaignService;mapService;nodeService;auth;router;selectedMap;nodes;mapTransformStyle=B("");offsetX=0;offsetY=0;zoom=1;widthFactor=B(1);mapMousePosX=0;mapMousePosY=0;mouseDown=!1;startX=0;startY=0;mapWidth=0;mapNodeDroppedSubscription;constructor(e,r,o,i,s){this.campaignService=e,this.mapService=r,this.nodeService=o,this.auth=i,this.router=s,this.selectedMap=Ke(r.getSelectedMapObserver()),this.nodes=Ke(r.mapNodes$),o.requestNodes(i.getUserToken(),e.getSelectedCampaign().id),this.mapNodeDroppedSubscription=this.mapService.mapNodeDropped$.subscribe({next:a=>{this.onMapNodeDropped(a)}})}ngOnDestroy(){this.mapNodeDroppedSubscription.unsubscribe()}onWindowResize(e){this.computeWidthFactor()}onMapLoaded(e){var r=e.currentTarget;this.mapWidth=r.naturalWidth,this.computeWidthFactor()}onMapNodeDropped(e){var r=e.e.target,o=this.mapMousePosX/this.widthFactor(),i=this.mapMousePosY/this.widthFactor();if(r.className=="mapIcon"||r.className=="mapBackground"){var s=new ll(0,e.node,o,i);this.mapService.createMapNode(this.auth.getUserToken(),this.mapService.getSelectedMap(),s)}}get imgSrc(){var e=this.selectedMap()?.externalImageUrl;return(e==null||e=="")&&(e="/empty_map.jpg"),e}getNodePositionStyle(e){var r=e.locationX*this.widthFactor(),o=e.locationY*this.widthFactor();return r-=parseFloat(e.node.mapIconSize)/2*this.widthFactor(),o-=parseFloat(e.node.mapIconSize)/2*this.widthFactor(),`left: ${r}px; top: ${o}px;`}onMouseDown(e){this.mouseDown=!0,this.startX=e.clientX-this.offsetX,this.startY=e.clientY-this.offsetY}setLocalMapMousePos(e){this.mapMousePosX=e.offsetX,this.mapMousePosY=e.offsetY}onMouseUp(e){this.mouseDown&&(this.mouseDown=!1)}onMouseMove(e){this.mouseDown&&(this.offsetX=e.clientX-this.startX,this.offsetY=e.clientY-this.startY,this.setTransformStyle())}onMouseWheel(e){var r=(e.clientX-this.offsetX)/this.zoom,o=(e.clientY-this.offsetY)/this.zoom;e.deltaY<0?this.zoom*=1.1:this.zoom/=1.1,this.zoom=Math.min(3,Math.max(this.zoom,.5)),this.offsetX=e.clientX-r*this.zoom,this.offsetY=e.clientY-o*this.zoom,this.setTransformStyle()}setTransformStyle(){this.mapTransformStyle.set(`transform: translate(${this.offsetX}px, ${this.offsetY}px) scale(${this.zoom});`)}computeWidthFactor(){this.widthFactor.set(window.innerWidth/this.mapWidth),console.log("Width factor set: "+this.widthFactor())}static \u0275fac=function(r){return new(r||t)(w(Ve),w(_e),w(ln),w(le),w(ve))};static \u0275cmp=A({type:t,selectors:[["app-map-background"]],hostBindings:function(r,o){r&1&&b("resize",function(s){return o.onWindowResize(s)},Zd)},decls:2,vars:1,consts:[[1,"mapBackgroundContainer"],[1,"mapBackgroundContainer",3,"mousemove","mousedown","mouseup","mouseleave","wheel"],[1,"mapScrollContainer"],["draggable","false",1,"mapBackground",3,"load","mousemove","src"],[1,"mapIcon",3,"node","style","widthFactor"],[1,"mapIcon",3,"node","widthFactor"]],template:function(r,o){r&1&&T(0,bD,5,3,"div",0)(1,wD,2,0,"p"),r&2&&N(o.selectedMap()!=null&&o.selectedMap!=null?0:1)},dependencies:[Xy],styles:[`.mapBackgroundContainer[_ngcontent-%COMP%]{position:fixed;inset:0%;background-color:#000;clip-path:fill-box}.mapScrollContainer[_ngcontent-%COMP%]{pointer-events:none;size:100% 100%;max-height:100%;max-width:100%;transform-origin:0px 0px}.mapBackground[_ngcontent-%COMP%]{pointer-events:all;-webkit-user-select:none;user-select:none;width:100%;position:relative}.mapIcon[_ngcontent-%COMP%]{z-index:10;pointer-events:all;position:absolute;left:0;top:0}
/*# sourceMappingURL=map-background-QYSPOUWY.css.map */`]})}return t})();var Jy=(()=>{class t{mapService;node=L.required();dragging=!1;constructor(e){this.mapService=e}mouseDown(){this.dragging=!0}mouseUp(){this.dragging=!1}mouseLeave(){this.dragging&&(console.log("drag started"),this.dragging=!1,this.mapService.startDragNode(this.node()))}clicked(){this.dragging=!1,this.mapService.setSelectedNode(this.node())}static \u0275fac=function(r){return new(r||t)(w(_e))};static \u0275cmp=A({type:t,selectors:[["app-node-icon"]],inputs:{node:[1,"node"]},decls:4,vars:2,consts:[[1,"nodeIconSidebar",3,"mousedown","mouseleave","mouseup","click"],["draggable","false",3,"src"],[1,"nodeIconName"]],template:function(r,o){r&1&&(G(0,"li",0),oe("mousedown",function(){return o.mouseDown()})("mouseleave",function(){return o.mouseLeave()})("mouseup",function(){return o.mouseUp()})("click",function(){return o.clicked()}),ht(1,"img",1),G(2,"p",2),x(3),W()()),r&2&&(f(),Ot("src","/node_icons/"+o.node().mapIconPath,nt),f(2),It(o.node().name))},styles:[`.nodeIconSidebar[_ngcontent-%COMP%]{background-color:#fcfcfc13;display:flex;flex-direction:row;align-items:center;margin:.3em;padding:.5em;list-style-type:none;-webkit-user-select:none;user-select:none}.nodeIconSidebar[_ngcontent-%COMP%]:hover{background-color:#211e2b}.nodeIconSidebar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:52px;filter:brightness(85%)}.nodeIconSidebar[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{filter:brightness(100%)}.nodeIconSidebar[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-left:2em}.nodeIconName[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}
/*# sourceMappingURL=node-icon-DJYXE5AX.css.map */`]})}return t})();var Ko=(()=>{class t{mouseUp=new te;mouseUp$=this.mouseUp.asObservable();mouseMove=new X(null);mouseMove$=this.mouseMove.asObservable();setMouseEvent(e){this.mouseMove.next(e)}callMouseUp(e){this.mouseUp.next(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ED(t,n){if(t&1&&ht(0,"img",1),t&2){let e,r=p();Rt(r.posStyle()),Ot("src","/node_icons/"+((e=r.node())==null?null:e.mapIconPath),nt)}}var e_=(()=>{class t{mouseTracker;mapService;posStyle=B("");node=L(null);mouseUpSubscription;constructor(e,r){this.mouseTracker=e,this.mapService=r,this.mouseUpSubscription=e.mouseUp$.subscribe({next:o=>{this.onMouseUp(o)}})}ngOnChanges(e){var r=this.mouseTracker.mouseMove.getValue();r!=null&&this.onMouseMove(r)}ngOnDestroy(){this.mouseUpSubscription?.unsubscribe()}onMouseMove(e){if(this.node()!=null){var r=parseFloat(this.node().mapIconSize),o=`min-width: ${r}px; min-height: ${r}px; `,i=`left: ${e.clientX-r/2}px; top: ${e.clientY-r/2}px;`;this.posStyle.set(o+i)}}onMouseUp(e){this.node()!=null&&(console.log("Dragged node mouse up"),this.mapService.dropMapNode(e,this.node()))}static \u0275fac=function(r){return new(r||t)(w(Ko),w(_e))};static \u0275cmp=A({type:t,selectors:[["app-dragged-node"]],hostBindings:function(r,o){r&1&&b("mousemove",function(s){return o.onMouseMove(s)},Li)},inputs:{node:[1,"node"]},features:[Xe],decls:1,vars:1,consts:[["draggable","false",1,"draggedNode",3,"src","style"],["draggable","false",1,"draggedNode",3,"src"]],template:function(r,o){r&1&&T(0,ED,1,3,"img",0),r&2&&N(o.node()!=null?0:-1)},styles:[`.draggedNode[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;position:absolute;z-index:100;max-width:64px;max-height:64px;filter:drop-shadow(black .5em .5em 4px)}
/*# sourceMappingURL=dragged-node-BKQBY55G.css.map */`]})}return t})();var ID=["*"],t_=(()=>{class t{isLeftSide=L.required();width=B(400);min_width=250;max_width=800;draggingHandle=!1;dragHandleStartPosX=0;constructor(e){e.mouseMove$.subscribe({next:r=>{this.onHandleMouseMove(r)}}),e.mouseUp$.subscribe({next:r=>{this.onHandleMouseUp(r)}})}getWidthStyle(){return`width: ${this.width()}px;`}getSidebarClass(){return this.isLeftSide()?"sidebar sidebarLeft":"sidebar sidebarRight"}getHandleClass(){return this.isLeftSide()?"sidebarHandle sidebarHandleRight":"sidebarHandle sidebarHandleLeft"}onHandleMouseDown(e){e.preventDefault(),e.stopPropagation(),this.dragHandleStartPosX=e.clientX,this.draggingHandle=!0}onHandleMouseMove(e){if(this.draggingHandle){e.stopPropagation(),e.preventDefault();var r=this.dragHandleStartPosX-e.clientX;this.dragHandleStartPosX=e.clientX;var o;this.isLeftSide()?o=this.width()-r:o=this.width()+r,o=Math.min(Math.max(o,this.min_width),this.max_width),this.width.set(o)}}onHandleMouseUp(e){this.draggingHandle=!1}static \u0275fac=function(r){return new(r||t)(w(Ko))};static \u0275cmp=A({type:t,selectors:[["app-sidebar"]],inputs:{isLeftSide:[1,"isLeftSide"]},ngContentSelectors:ID,decls:3,vars:7,consts:[["draggable","false"],["id","sidebarHandle",3,"mousedown","mouseup","draggable"]],template:function(r,o){r&1&&(zi(),G(0,"div",0),qi(1),G(2,"div",1),oe("mousedown",function(s){return o.onHandleMouseDown(s)})("mouseup",function(s){return o.onHandleMouseUp(s)}),W()()),r&2&&(Rt(o.getWidthStyle()),ie(o.getSidebarClass()),f(2),ie(o.getHandleClass()),Ot("draggable",!1))},styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}@keyframes _ngcontent-%COMP%_slideInRight{0%{right:-30rem}to{right:0rem}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{left:-30rem}to{left:0rem}}.sidebar[_ngcontent-%COMP%]{z-index:5;position:absolute;overflow-y:hidden;top:0;bottom:0;width:512px;background-color:#000000d2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:1rem;padding-top:5em}.sidebarLeft[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft;animation-duration:.5s;animation-timing-function:cubic-bezier(.075,.82,.165,1);left:0;padding-right:14px}.sidebarRight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight;animation-duration:.5s;animation-timing-function:cubic-bezier(.075,.82,.165,1);right:0;padding-left:14px}.sidebarHandle[_ngcontent-%COMP%]{position:absolute;overflow-y:hidden;top:0;bottom:0;width:4px;background-color:#f5f5dc23;cursor:ew-resize}.sidebarHandleLeft[_ngcontent-%COMP%]{left:0}.sidebarHandleRight[_ngcontent-%COMP%]{right:0}
/*# sourceMappingURL=sidebar-RHY6KWDG.css.map */`]})}return t})();var d_=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(w(Nn),w(Et))};static \u0275dir=Ue({type:t})}return t})(),hp=(()=>{class t extends d_{static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275dir=Ue({type:t,features:[se]})}return t})(),El=new F("");var MD={provide:El,useExisting:Wt(()=>mt),multi:!0};function SD(){let t=At()?At().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var DD=new F(""),mt=(()=>{class t extends d_{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!SD())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(w(Nn),w(Et),w(DD,8))};static \u0275dir=Ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&b("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Ar([MD]),se]})}return t})();function mp(t){return t==null||vp(t)===0}function vp(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var f_=new F(""),p_=new F(""),TD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,un=class{static min(n){return ND(n)}static max(n){return xD(n)}static required(n){return OD(n)}static requiredTrue(n){return RD(n)}static email(n){return AD(n)}static minLength(n){return kD(n)}static maxLength(n){return PD(n)}static pattern(n){return FD(n)}static nullValidator(n){return g_()}static compose(n){return C_(n)}static composeAsync(n){return w_(n)}};function ND(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function xD(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function OD(t){return mp(t.value)?{required:!0}:null}function RD(t){return t.value===!0?null:{required:!0}}function AD(t){return mp(t.value)||TD.test(t.value)?null:{email:!0}}function kD(t){return n=>{let e=n.value?.length??vp(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function PD(t){return n=>{let e=n.value?.length??vp(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function FD(t){if(!t)return g_;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(mp(r.value))return null;let o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function g_(t){return null}function h_(t){return t!=null}function m_(t){return Rr(t)?be(t):t}function v_(t){let n={};return t.forEach(e=>{n=e!=null?S(S({},n),e):n}),Object.keys(n).length===0?null:n}function y_(t,n){return n.map(e=>e(t))}function LD(t){return!t.validate}function __(t){return t.map(n=>LD(n)?n:e=>n.validate(e))}function C_(t){if(!t)return null;let n=t.filter(h_);return n.length==0?null:function(e){return v_(y_(e,n))}}function b_(t){return t!=null?C_(__(t)):null}function w_(t){if(!t)return null;let n=t.filter(h_);return n.length==0?null:function(e){let r=y_(e,n).map(m_);return eu(r).pipe(K(v_))}}function E_(t){return t!=null?w_(__(t)):null}function n_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function I_(t){return t._rawValidators}function M_(t){return t._rawAsyncValidators}function dp(t){return t?Array.isArray(t)?t:[t]:[]}function vl(t,n){return Array.isArray(t)?t.includes(n):t===n}function r_(t,n){let e=dp(n);return dp(t).forEach(o=>{vl(e,o)||e.push(o)}),e}function o_(t,n){return dp(n).filter(e=>!vl(t,e))}var yl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=b_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=E_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},ti=class extends yl{name;get formDirective(){return null}get path(){return null}},Ns=class extends yl{_parent=null;name=null;valueAccessor=null},_l=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},VD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cG=Q(S({},VD),{"[class.ng-submitted]":"isSubmitted"}),vt=(()=>{class t extends _l{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(w(Ns,2))};static \u0275dir=Ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Wi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[se]})}return t})(),Ie=(()=>{class t extends _l{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(w(ti,10))};static \u0275dir=Ue({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Wi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[se]})}return t})();var Ms="VALID",ml="INVALID",Jo="PENDING",Ss="DISABLED",rr=class{},Cl=class extends rr{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Ds=class extends rr{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Ts=class extends rr{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},ei=class extends rr{status;source;constructor(n,e){super(),this.status=n,this.source=e}},fp=class extends rr{source;constructor(n){super(),this.source=n}},xs=class extends rr{source;constructor(n){super(),this.source=n}};function yp(t){return(Il(t)?t.validators:t)||null}function jD(t){return Array.isArray(t)?b_(t):t||null}function _p(t,n){return(Il(n)?n.asyncValidators:t)||null}function BD(t){return Array.isArray(t)?E_(t):t||null}function Il(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function S_(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new O(1e3,"");if(!r[e])throw new O(1001,"")}function D_(t,n,e){t._forEachChild((r,o)=>{if(e[o]===void 0)throw new O(1002,"")})}var ni=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ze(this.statusReactive)}set status(n){ze(()=>this.statusReactive.set(n))}_status=Xn(()=>this.statusReactive());statusReactive=B(void 0);get valid(){return this.status===Ms}get invalid(){return this.status===ml}get pending(){return this.status==Jo}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}errors;get pristine(){return ze(this.pristineReactive)}set pristine(n){ze(()=>this.pristineReactive.set(n))}_pristine=Xn(()=>this.pristineReactive());pristineReactive=B(!0);get dirty(){return!this.pristine}get touched(){return ze(this.touchedReactive)}set touched(n){ze(()=>this.touchedReactive.set(n))}_touched=Xn(()=>this.touchedReactive());touchedReactive=B(!1);get untouched(){return!this.touched}_events=new te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(r_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(r_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(o_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(o_(n,this._rawAsyncValidators))}hasValidator(n){return vl(this._rawValidators,n)}hasAsyncValidator(n){return vl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Q(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Ts(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Ts(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Q(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Ds(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Ds(!0,r))}markAsPending(n={}){this.status=Jo;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ei(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Q(S({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(o=>{o.disable(Q(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Cl(this.value,r)),this._events.next(new ei(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ms,this._forEachChild(r=>{r.enable(Q(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Q(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ms||this.status===Jo)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Cl(this.value,e)),this._events.next(new ei(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Q(S({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:Ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let r=m_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ei(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?ml:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(ml)?ml:Ms}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new Ds(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ts(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Il(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=jD(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=BD(this._rawAsyncValidators)}},or=class extends ni{constructor(n,e,r){super(yp(e),_p(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){D_(this,!0,n),Object.keys(n).forEach(r=>{S_(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new xs(this))}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var pp=class extends or{};var T_=new F("",{providedIn:"root",factory:()=>Cp}),Cp="always";function UD(t,n){return[...n.path,t]}function i_(t,n,e=Cp){bp(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),HD(t,n),zD(t,n),GD(t,n),$D(t,n)}function s_(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),wl(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bl(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function $D(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function bp(t,n){let e=I_(t);n.validator!==null?t.setValidators(n_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=M_(t);n.asyncValidator!==null?t.setAsyncValidators(n_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();bl(n._rawValidators,o),bl(n._rawAsyncValidators,o)}function wl(t,n){let e=!1;if(t!==null){if(n.validator!==null){let o=I_(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(n.asyncValidator!==null){let o=M_(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}let r=()=>{};return bl(n._rawValidators,r),bl(n._rawAsyncValidators,r),e}function HD(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&N_(t,n)})}function GD(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&N_(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function N_(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zD(t,n){let e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function qD(t,n){t==null,bp(t,n)}function WD(t,n){return wl(t,n)}function ZD(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function QD(t){return Object.getPrototypeOf(t.constructor)===hp}function YD(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function XD(t,n){if(!n)return null;Array.isArray(n);let e,r,o;return n.forEach(i=>{i.constructor===mt?e=i:QD(i)?r=i:o=i}),o||r||e||null}function KD(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function a_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function c_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Pt=class extends ni{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(yp(e),_p(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Il(e)&&(e.nonNullable||e.initialValueIsDefault)&&(c_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new xs(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){a_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){a_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){c_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var JD=t=>t instanceof Pt;var dn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var x_=new F("");var eT={provide:ti,useExisting:Wt(()=>we)},we=(()=>{class t extends ti{callSetDisabledState;get submitted(){return ze(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Xn(()=>this._submittedReactive());_submittedReactive=B(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new De;constructor(e,r,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return i_(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){s_(e.control||null,e,!1),KD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),YD(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fp(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,r={}){this.form.reset(e,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,o=this.form.get(e.path);r!==o&&(s_(r||null,e),JD(o)&&(i_(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);qD(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&WD(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bp(this.form,this),this._oldForm&&wl(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(w(f_,10),w(p_,10),w(T_,8))};static \u0275dir=Ue({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&b("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ar([eT]),se,Xe]})}return t})();var tT={provide:Ns,useExisting:Wt(()=>dt)},dt=(()=>{class t extends Ns{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new De;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=XD(this,i)}ngOnChanges(e){this._added||this._setUpControl(),ZD(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return UD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(w(ti,13),w(f_,10),w(p_,10),w(El,10),w(x_,8))};static \u0275dir=Ue({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ar([tT]),se,Xe]})}return t})();var nT={provide:El,useExisting:Wt(()=>Ml),multi:!0};function O_(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function rT(t){return t.split(":")[0]}var Ml=(()=>{class t extends hp{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=y(On).injector;destroyRef=y(Ye);cdr=y(xo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,wc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),o=O_(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=rT(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275dir=Ue({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&b("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ar([nT]),se]})}return t})(),R_=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(O_(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(w(Et),w(Nn),w(Ml,9))};static \u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),oT={provide:El,useExisting:Wt(()=>A_),multi:!0};function l_(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function iT(t){return t.split(":")[0]}var A_=(()=>{class t extends hp{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=iT(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275dir=Ue({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&b("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ar([oT]),se]})}return t})(),k_=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(l_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(l_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(w(Et),w(Nn),w(A_,9))};static \u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var wp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zn({type:t});static \u0275inj=wn({})}return t})(),gp=class extends ni{constructor(n,e,r){super(yp(e),_p(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){Array.isArray(n)?n.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){D_(this,!1,n),n.forEach((r,o)=>{S_(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new xs(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function u_(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Sl=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let o=this._reduceControls(e),i={};return u_(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new or(o,i)}record(e,r=null){let o=this._reduceControls(e);return new pp(o,r)}control(e,r,o){let i={};return this.useNonNullable?(u_(r)?i=r:(i.validators=r,i.asyncValidators=o),new Pt(e,Q(S({},i),{nonNullable:!0}))):new Pt(e,r,o)}array(e,r,o){let i=e.map(s=>this._createControl(s));return new gp(i,r,o)}_reduceControls(e){let r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){if(e instanceof Pt)return e;if(e instanceof ni)return e;if(Array.isArray(e)){let r=e[0],o=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(r,o,i)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Me=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:x_,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:T_,useValue:e.callSetDisabledState??Cp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zn({type:t});static \u0275inj=wn({imports:[wp]})}return t})();var ri=(()=>{class t{keyboardEvent=new te;keyboardEvent$=this.keyboardEvent.asObservable();nodeFormEditingStartEvent=new te;nodeFormEditingStartEvent$=this.nodeFormEditingStartEvent.asObservable();editMode=new X(!1);editMode$=this.editMode.asObservable();setEditMode(e){this.editMode.next(e)}fireKeyboardEvent(e){this.keyboardEvent.next(e)}fireNodeFormEditingStartEvent(e){this.nodeFormEditingStartEvent.next(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ce=(()=>{class t{controlName=L.required();formGroup=L.required();formId=L.required();editMode=L(!0);onChange=Ne();editing=B(!1);alwaysEdit=L(!1);userEvents=y(ri);mapService=y(_e);constructor(){this.userEvents.keyboardEvent$.subscribe({next:e=>{this.editing()&&e.key=="Enter"&&!e.getModifierState("Shift")&&(e.preventDefault(),this.stopEditing())}}),this.userEvents.nodeFormEditingStartEvent$.subscribe({next:e=>{e!=this.formId()&&this.stopEditing()}}),this.userEvents.editMode$.subscribe({next:e=>{e||this.stopEditing()}}),this.mapService.selectedNode$.subscribe({next:e=>{this.editing()&&this.stopEditing()}})}startEditing(){this.editMode()&&(this.userEvents.fireNodeFormEditingStartEvent(this.formId()),this.editing.set(!0))}stopEditing(){this.editing()&&(this.onChange?.emit(),this.editing.set(!1))}toggleEditing(){this.editing()?this.stopEditing():this.startEditing()}getControlValue(){return this.formGroup().get(this.controlName())?.value}setControlValue(e){this.formGroup().get(this.controlName()).setValue(e)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["ng-component"]],inputs:{controlName:[1,"controlName"],formGroup:[1,"formGroup"],formId:[1,"formId"],editMode:[1,"editMode"],alwaysEdit:[1,"alwaysEdit"]},outputs:{onChange:"onChange"},decls:0,vars:0,template:function(r,o){},encapsulation:2})}return t})();function sT(t,n){if(t&1&&(h(0,"label",2),x(1),m(),q(2,"br")),t&2){let e=p();f(),ce("",e.label(),":")}}function aT(t,n){if(t&1){let e=R();h(0,"img",5),b("click",function(){_(e);let o=p(2);return C(o.stopEditing())}),m()}}function cT(t,n){if(t&1&&(q(0,"input",3),T(1,aT,1,0,"img",4)),t&2){let e=p();ie("formInput nameFormInput "+e.getDisplayClass()),E("formControlName",e.controlName()),f(),N(e.alwaysEdit()?-1:1)}}function lT(t,n){if(t&1){let e=R();h(0,"img",8),b("click",function(){_(e);let o=p(2);return C(o.startEditing())}),m()}}function uT(t,n){if(t&1){let e=R();h(0,"div",6),b("click",function(){_(e);let o=p();return C(o.startEditing())}),x(1),m(),T(2,lT,1,0,"img",7)}if(t&2){let e=p();ie("nameFormDisplay "+e.getDisplayClass()),f(),ce(" ",e.getValue()," "),f(),N(e.editMode()?2:-1)}}var ir=(()=>{class t extends Ce{label=L.required();header=L(!1);getValue(){return this.formGroup().controls[this.controlName()].value}getDisplayClass(){return this.header()?"header":""}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-name-form-component"]],inputs:{label:[1,"label"],header:[1,"header"]},features:[se],decls:5,vars:3,consts:[[1,"nameFormComponent","formComponent",3,"formGroup"],[1,"nameFormContainer"],["for","nameFormInput"],["id","nameFormInput","type","text","autofocus","",3,"formControlName"],["src","/icons/check_icon.png",1,"iconButton"],["src","/icons/check_icon.png",1,"iconButton",3,"click"],[3,"click"],["src","/icons/wrench_icon.png",1,"iconButton"],["src","/icons/wrench_icon.png",1,"iconButton",3,"click"]],template:function(r,o){r&1&&(h(0,"form",0),T(1,sT,3,1),h(2,"div",1),T(3,cT,2,4)(4,uT,3,4),m()()),r&2&&(E("formGroup",o.formGroup()),f(),N(o.label().length>0?1:-1),f(2),N(o.editing()||o.alwaysEdit()?3:4))},dependencies:[Me,dn,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.nameFormContainer[_ngcontent-%COMP%]{display:flex;padding:.2rem;flex-direction:row;margin-top:.5em}.header[_ngcontent-%COMP%]{font-weight:700;font-size:x-large;text-align:center;flex-grow:1}.nameFormInput[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}.nameFormInput[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.nameFormDisplay[_ngcontent-%COMP%]{padding:.2rem}
/*# sourceMappingURL=name-form-component-ZS3EUVZO.css.map */`]})}return t})();function dT(t,n){if(t&1&&(h(0,"label",4),x(1),m()),t&2){let e=p(2);f(),ce("",e.label(),":")}}function fT(t,n){if(t&1&&q(0,"textarea",5),t&2){let e=p(2);E("rows",e.lines())("cols",e.cols())("formControlName",e.controlName())}}function pT(t,n){if(t&1){let e=R();h(0,"div",7),b("click",function(){_(e);let o=p(2);return C(o.startEditing())})("focus",function(){_(e);let o=p(2);return C(o.startEditing())}),x(1),m()}if(t&2){let e=p(2);f(),ce(" ",e.formGroup().controls[e.controlName()].value," ")}}function gT(t,n){if(t&1){let e=R();h(0,"img",9),b("click",function(){_(e);let o=p(3);return C(o.stopEditing())}),m()}}function hT(t,n){if(t&1){let e=R();h(0,"img",11),b("click",function(){_(e);let o=p(4);return C(o.startEditing())}),m()}}function mT(t,n){if(t&1&&T(0,hT,1,0,"img",10),t&2){let e=p(3);N(e.editMode()?0:-1)}}function vT(t,n){if(t&1&&T(0,gT,1,0,"img",8)(1,mT,1,1),t&2){let e=p(2);N(e.editing()?0:1)}}function yT(t,n){if(t&1&&(h(0,"div")(1,"form",1)(2,"div",2)(3,"div",3),T(4,dT,2,1,"label",4),T(5,fT,1,3,"textarea",5)(6,pT,2,1,"div",6),m(),T(7,vT,2,1),m()()()),t&2){let e=p();ie(e.standalone()?"nodePanel":""),f(),E("formGroup",e.formGroup()),f(3),N(e.label().length>0?4:-1),f(),N(e.editing()||e.alwaysEdit()?5:6),f(2),N(e.alwaysEdit()?-1:7)}}var fn=(()=>{class t extends Ce{label=L.required();standalone=L(!1);lines=L(7);cols=L(30);static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-multiline-form-component"]],inputs:{label:[1,"label"],standalone:[1,"standalone"],lines:[1,"lines"],cols:[1,"cols"]},features:[se],decls:1,vars:1,consts:[[3,"class"],[1,"multilineFormComponent","formComponent",3,"formGroup"],[1,"multilineForm"],[1,"multiLineFormLeft"],["for","multilineFormInput"],["id","multilineFormInput","autofocus","",1,"formInput","multilineFormInput",3,"rows","cols","formControlName"],["tabindex","0",1,"multilineFormDisplay"],["tabindex","0",1,"multilineFormDisplay",3,"click","focus"],["src","/icons/check_icon.png",1,"iconButton"],["src","/icons/check_icon.png",1,"iconButton",3,"click"],["src","/icons/wrench_icon.png",1,"iconButton"],["src","/icons/wrench_icon.png",1,"iconButton",3,"click"]],template:function(r,o){r&1&&T(0,yT,8,6,"div",0),r&2&&N(o.editMode()||o.formGroup().controls[o.controlName()].value.length>0?0:-1)},dependencies:[Me,dn,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.multilineForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:100%}.multiLineFormLeft[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;padding-right:1rem}.multilineFormHeader[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}.multilineFormInput[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem}.multilineFormDisplay[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background-color:#2528305e;white-space:pre-line;color:#c4c4c4}
/*# sourceMappingURL=multiline-form-component-A5N2J4AE.css.map */`]})}return t})();var F_=[{Name:"alien-bug.png",Tags:["Creature"]},{Name:"alien-egg.png",Tags:["Creature"]},{Name:"all-for-one.png",Tags:["Action"]},{Name:"ancient-ruins.png",Tags:["Structure"]},{Name:"ancient-sword.png",Tags:["Object"]},{Name:"anubis.png",Tags:["Creature"]},{Name:"arc-triomphe.png",Tags:["Structure"]},{Name:"assassin-pocket.png",Tags:["Action","Object"]},{Name:"axe-sword.png",Tags:["Object"]},{Name:"bad-gnome.png",Tags:["Creature"]},{Name:"bat-blade.png",Tags:["Object"]},{Name:"bat-leth.png",Tags:["Object"]},{Name:"battle-gear.png",Tags:["Object","Action"]},{Name:"bayonet.png",Tags:["Object"]},{Name:"beast-eye.png",Tags:["Symbol","Creature"]},{Name:"behold.png",Tags:["Symbol","Creature"]},{Name:"bestial-fangs.png",Tags:["Symbol","Creature"]},{Name:"blade-bite.png",Tags:["Object","Symbol"]},{Name:"blade-drag.png",Tags:["Action","Object"]},{Name:"blade-fall.png",Tags:["Action","Object"]},{Name:"bloody-sword.png",Tags:["Object"]},{Name:"bone-knife.png",Tags:["Object"]},{Name:"bottled-shadow.png",Tags:["Object"]},{Name:"bouncing-sword.png",Tags:["Action","Object"]},{Name:"bowie-knife.png",Tags:["Object"]},{Name:"box-cutter.png",Tags:["Object"]},{Name:"brain-tentacle.png",Tags:["Creature"]},{Name:"brick-pile.png",Tags:["Object"]},{Name:"broad-dagger.png",Tags:["Object"]},{Name:"broadsword.png",Tags:["Object"]},{Name:"brute.png",Tags:["Creature"]},{Name:"bully-minion.png",Tags:["Creature"]},{Name:"cage.png",Tags:["Object","Structure"]},{Name:"camping-tent.png",Tags:["Object","Structure"]},{Name:"carnivorous-plant.png",Tags:["Creature"]},{Name:"castle-ruins.png",Tags:["Structure"]},{Name:"castle.png",Tags:["Structure"]},{Name:"ceiling-barnacle.png",Tags:["Creature"]},{Name:"centaur.png",Tags:["Creature"]},{Name:"chakram.png",Tags:["Object","Symbol"]},{Name:"circular-sawblade.png",Tags:["Object"]},{Name:"cleaver.png",Tags:["Object"]},{Name:"cloak-dagger.png",Tags:["Object","Symbol"]},{Name:"cloaked-figure-on-horseback.png",Tags:["Creature"]},{Name:"closed-doors.png",Tags:["Structure"]},{Name:"coiled-nail.png",Tags:["Object"]},{Name:"cracked-alien-skull.png",Tags:["Creature"]},{Name:"cracked-saber.png",Tags:["Object"]},{Name:"crescent-blade.png",Tags:["Object","Symbol"]},{Name:"croc-sword.png",Tags:["Object"]},{Name:"crossed-sabres.png",Tags:["Object","Symbol"]},{Name:"crossed-swords.png",Tags:["Object","Symbol"]},{Name:"crypt-entrance.png",Tags:["Structure"]},{Name:"curvy-knife.png",Tags:["Object"]},{Name:"cyclops.png",Tags:["Creature"]},{Name:"daemon-pull.png",Tags:["Action","Symbol"]},{Name:"daemon-skull.png",Tags:["Creature"]},{Name:"daggers.png",Tags:["Object","Symbol","Action"]},{Name:"dervish-swords.png",Tags:["Object"]},{Name:"desert-camp.png",Tags:["Structure"]},{Name:"devil-mask.png",Tags:["Creature"]},{Name:"diablo-skull.png",Tags:["Creature"]},{Name:"diamond-hilt.png",Tags:["Object"]},{Name:"dinosaur-bones.png",Tags:["Creature","Structure"]},{Name:"dinosaur-egg.png",Tags:["Object","Symbol"]},{Name:"dinosaur-rex.png",Tags:["Creature"]},{Name:"diving-dagger.png",Tags:["Object","Action"]},{Name:"djed-pillar.png",Tags:["Structure"]},{Name:"djinn.png",Tags:["Creature"]},{Name:"dog-house.png",Tags:["Structure"]},{Name:"double-dragon.png",Tags:["Object"]},{Name:"double-street-lights.png",Tags:["Structure"]},{Name:"dragon-head.png",Tags:["Creature"]},{Name:"dragon-spiral.png",Tags:["Creature"]},{Name:"drakkar-dragon.png",Tags:["Creature"]},{Name:"dripping-sword.png",Tags:["Object","Action","Symbol"]},{Name:"dungeon-gate.png",Tags:["Structure"]},{Name:"dungeon-light.png",Tags:["Structure"]},{Name:"egyptian-pyramids.png",Tags:["Structure"]},{Name:"egyptian-sphinx.png",Tags:["Structure","Creature"]},{Name:"egyptian-temple.png",Tags:["Structure"]},{Name:"elysium-shade.png",Tags:["Object","Symbol"]},{Name:"energy-sword.png",Tags:["Object","Action"]},{Name:"ent-mouth.png",Tags:["Creature","Action"]},{Name:"entry-door.png",Tags:["Structure","Action"]},{Name:"evasion.png",Tags:["Structure","Action"]},{Name:"evil-bat.png",Tags:["Creature"]},{Name:"evil-book.png",Tags:["Creature","Object"]},{Name:"evil-comet.png",Tags:["Creature"]},{Name:"evil-minion.png",Tags:["Creature"]},{Name:"evil-moon.png",Tags:["Creature","Structure"]},{Name:"evil-tower.png",Tags:["Structure"]},{Name:"evil-tree.png",Tags:["Creature"]},{Name:"exit-door.png",Tags:["Structure","Action"]},{Name:"eyestalk.png",Tags:["Creature"]},{Name:"fairy.png",Tags:["Creature"]},{Name:"family-house.png",Tags:["Structure"]},{Name:"female-vampire.png",Tags:["Creature"]},{Name:"fish-monster.png",Tags:["Creature"]},{Name:"fleshy-mass.png",Tags:["Object"]},{Name:"floating-ghost.png",Tags:["Creature"]},{Name:"floating-tentacles.png",Tags:["Creature"]},{Name:"fragmented-sword.png",Tags:["Object"]},{Name:"frankenstein-creature.png",Tags:["Creature"]},{Name:"gargoyle.png",Tags:["Creature"]},{Name:"ghost.png",Tags:["Creature"]},{Name:"giant.png",Tags:["Creature","Action"]},{Name:"gluttonous-smile.png",Tags:["Creature","Action"]},{Name:"goblin-camp.png",Tags:["Structure"]},{Name:"goblin-head.png",Tags:["Creature"]},{Name:"goblin.png",Tags:["Creature"]},{Name:"gold-mine.png",Tags:["Structure"]},{Name:"golem-head.png",Tags:["Creature"]},{Name:"gooey-daemon.png",Tags:["Creature"]},{Name:"grasping-slug.png",Tags:["Creature"]},{Name:"graveyard.png",Tags:["Structure"]},{Name:"greek-sphinx.png",Tags:["Creature"]},{Name:"griffin-symbol.png",Tags:["Creature"]},{Name:"grim-reaper.png",Tags:["Creature","Symbol"]},{Name:"half-body-crawling.png",Tags:["Creature"]},{Name:"harpy.png",Tags:["Creature"]},{Name:"haunting.png",Tags:["Creature"]},{Name:"horned-reptile.png",Tags:["Creature"]},{Name:"horned-skull.png",Tags:["Creature"]},{Name:"horus.png",Tags:["Creature"]},{Name:"hydra.png",Tags:["Creature"]},{Name:"ice-golem.png",Tags:["Creature"]},{Name:"ifrit.png",Tags:["Creature"]},{Name:"imp-laugh.png",Tags:["Creature"]},{Name:"imp.png",Tags:["Creature"]},{Name:"infested-mass.png",Tags:["Creature","Object"]},{Name:"jawless-cyclop.png",Tags:["Creature"]},{Name:"kenku-head.png",Tags:["Creature"]},{Name:"knife-fork.png",Tags:["Object","Symbol"]},{Name:"knife-thrust.png",Tags:["Action","Object"]},{Name:"kraken-tentacle.png",Tags:["Creature"]},{Name:"lizardman.png",Tags:["Creature"]},{Name:"master-of-arms.png",Tags:["Creature"]},{Name:"medieval-pavilion.png",Tags:["Structure"]},{Name:"medusa-head.png",Tags:["Creature"]},{Name:"mermaid.png",Tags:["Creature"]},{Name:"metroid.png",Tags:["Creature"]},{Name:"mimic-chest.png",Tags:["Creature"]},{Name:"minotaur.png",Tags:["Creature"]},{Name:"mummy-head.png",Tags:["Creature"]},{Name:"obelisk.png",Tags:["Structure"]},{Name:"ogre.png",Tags:["Creature"]},{Name:"oni.png",Tags:["Creature"]},{Name:"orc-head.png",Tags:["Creature"]},{Name:"pick-of-destiny.png",Tags:["Creature"]},{Name:"pirate-flag.png",Tags:["Creature","Symbol"]},{Name:"plain-dagger.png",Tags:["Object"]},{Name:"reaper-scythe.png",Tags:["Object","Creature","Symbol"]},{Name:"relic-blade.png",Tags:["Object"]},{Name:"resting-vampire.png",Tags:["Creature"]},{Name:"rock-golem.png",Tags:["Creature"]},{Name:"rune-sword.png",Tags:["Object"]},{Name:"rusty-sword.png",Tags:["Object"]},{Name:"sacrificial-dagger.png",Tags:["Object"]},{Name:"samara-mosque.png",Tags:["Structure"]},{Name:"sand-castle.png",Tags:["Structure"]},{Name:"sasquatch.png",Tags:["Creature"]},{Name:"scabbard.png",Tags:["Object"]},{Name:"scythe.png",Tags:["Object"]},{Name:"sea-creature.png",Tags:["Creature"]},{Name:"sea-dragon.png",Tags:["Creature"]},{Name:"secret-door.png",Tags:["Structure"]},{Name:"shambling-mound.png",Tags:["Creature"]},{Name:"shambling-zombie.png",Tags:["Creature"]},{Name:"sharp-smile.png",Tags:["Symbol"]},{Name:"shattered-sword.png",Tags:["Object"]},{Name:"shining-sword.png",Tags:["Object","Action"]},{Name:"sickle.png",Tags:["Object"]},{Name:"siege-tower.png",Tags:["Structure"]},{Name:"slime.png",Tags:["Creature"]},{Name:"spark-spirit.png",Tags:["Creature"]},{Name:"spectre.png",Tags:["Creature"]},{Name:"spider-eye.png",Tags:["Creature"]},{Name:"spiked-dragon-head.png",Tags:["Creature"]},{Name:"spinning-blades.png",Tags:["Object","Action"]},{Name:"spinning-sword.png",Tags:["Object","Action"]},{Name:"spiral-hilt.png",Tags:["Object"]},{Name:"spiral-thrust.png",Tags:["Object","Action"]},{Name:"split-body.png",Tags:["Action"]},{Name:"stabbed-note.png",Tags:["Object"]},{Name:"stairs.png",Tags:["Structure"]},{Name:"stakes-fence.png",Tags:["Structure"]},{Name:"steel-claws.png",Tags:["Object"]},{Name:"stiletto.png",Tags:["Object"]},{Name:"stone-tower.png",Tags:["Structure"]},{Name:"stone-wall.png",Tags:["Structure"]},{Name:"sverd-i-fjell.png",Tags:["Object"]},{Name:"swamp-bat.png",Tags:["Creature"]},{Name:"sword-altar.png",Tags:["Object","Structure"]},{Name:"sword-brandish.png",Tags:["Object","Action"]},{Name:"sword-break.png",Tags:["Action"]},{Name:"sword-clash.png",Tags:["Action"]},{Name:"sword-hilt.png",Tags:["Object"]},{Name:"sword-in-stone.png",Tags:["Object","Structure"]},{Name:"sword-mold.png",Tags:["Action","Object"]},{Name:"sword-slice.png",Tags:["Action"]},{Name:"sword-smithing.png",Tags:["Structure","Action"]},{Name:"sword-spade.png",Tags:["Object"]},{Name:"sword-spin.png",Tags:["Action"]},{Name:"sword-tie.png",Tags:["Symbol"]},{Name:"swords-emblem.png",Tags:["Symbol"]},{Name:"swords-power.png",Tags:["Action"]},{Name:"tearing.png",Tags:["Action"]},{Name:"thrown-daggers.png",Tags:["Object"]},{Name:"thunder-blade.png",Tags:["Object"]},{Name:"toad-teeth.png",Tags:["Creature"]},{Name:"tower-flag.png",Tags:["Structure"]},{Name:"transparent-slime.png",Tags:["Creature"]},{Name:"tree-face.png",Tags:["Creature"]},{Name:"trefoil-shuriken.png",Tags:["Object"]},{Name:"triple-gate.png",Tags:["Structure"]},{Name:"triton-head.png",Tags:["Creature"]},{Name:"troglodyte.png",Tags:["Creature"]},{Name:"troll.png",Tags:["Creature"]},{Name:"tumulus.png",Tags:["Structure"]},{Name:"unfriendly-fire.png",Tags:["Object"]},{Name:"unicorn.png",Tags:["Creature"]},{Name:"vampire-dracula.png",Tags:["Creature"]},{Name:"viking-longhouse.png",Tags:["Structure"]},{Name:"vile-fluid.png",Tags:["Creature"]},{Name:"village.png",Tags:["Structure"]},{Name:"watchtower.png",Tags:["Structure"]},{Name:"water-fountain.png",Tags:["Structure"]},{Name:"wave-strike.png",Tags:["Action"]},{Name:"well.png",Tags:["Structure"]},{Name:"werewolf.png",Tags:["Creature"]},{Name:"windmill.png",Tags:["Structure"]},{Name:"window.png",Tags:["Structure"]},{Name:"winged-sword.png",Tags:["Object"]},{Name:"witch-flight.png",Tags:["Action"]},{Name:"wolverine-claws.png",Tags:["Object"]},{Name:"wood-cabin.png",Tags:["Structure"]},{Name:"wyvern.png",Tags:["Creature"]},{Name:"zeus-sword.png",Tags:["Object"]}];var L_=(()=>{class t{icon=L.required();selectedIcon=L("");onSelected=Ne();selected=B(!1);onSelect(){this.selected.set(!0),this.onSelected.emit(this.icon())}getClass(){return this.selected()?"selectableIcon selected":"selectableIcon"}ngOnChanges(e){this.selectedIcon()!=this.icon()&&this.selected.set(!1)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["app-selectable-icon"]],inputs:{icon:[1,"icon"],selectedIcon:[1,"selectedIcon"]},outputs:{onSelected:"onSelected"},features:[Xe],decls:1,vars:3,consts:[["width","64","height","64","draggable","false",3,"click","src"]],template:function(r,o){r&1&&(G(0,"img",0),oe("click",function(){return o.onSelect()}),W()),r&2&&(ie(o.getClass()),Ot("src","/node_icons/"+o.icon(),nt))},styles:[`.selectableIcon[_ngcontent-%COMP%]{padding:.2em;-webkit-user-select:false;user-select:false;-moz-user-select:false;filter:brightness(80%);cursor:pointer}.selected[_ngcontent-%COMP%]{background-color:#063c79;filter:brightness(100%)}
/*# sourceMappingURL=selectable-icon-MSOG56G3.css.map */`]})}return t})();function CT(t,n){if(t&1){let e=R();h(0,"app-selectable-icon",16),b("onSelected",function(o){_(e);let i=p();return C(i.onIconSelected(o))}),m()}if(t&2){let e=n.$implicit,r=p();E("icon",e.Name)("selectedIcon",r.selectedIcon())}}var V_=(()=>{class t{mapService;onSelected=Ne();onClosed=Ne();node=L.required();selectedIcon=B("");selectedSize=B("");defaultIconData=B([]);visibleFilter=B("");constructor(e){this.mapService=e,this.defaultIconData.set(F_),e.selectedNode$.subscribe({next:()=>{this.closeSelector(null)}})}getFilteredIcons(){return this.visibleFilter()==""?this.defaultIconData():this.defaultIconData().filter(e=>e.Tags.includes(this.visibleFilter()))}setIconTagFilter(e){this.visibleFilter.set(e)}getIsFilterSelectedClass(e){return e==this.visibleFilter()?"selected":""}closeSelector(e){e?.stopPropagation(),this.onClosed.emit()}onIconSelected(e){this.selectedIcon.set(e)}getSize(){return this.selectedSize()!=""?this.selectedSize():this.node().mapIconSize}setSize(e){var r=e,o=r.target;this.selectedSize.set(o.value)}submit(e){e.stopPropagation();var r=this.selectedIcon()!=""?this.selectedIcon():this.node().mapIconPath,o=this.selectedSize()!=""?this.selectedSize():this.node().mapIconSize;this.onSelected.emit({iconPath:r,iconSize:o})}static \u0275fac=function(r){return new(r||t)(w(_e))};static \u0275cmp=A({type:t,selectors:[["app-icon-selector"]],inputs:{node:[1,"node"]},outputs:{onSelected:"onSelected",onClosed:"onClosed"},decls:24,vars:13,consts:[[1,"modalOverlay",3,"click"],[1,"modalContent",3,"click"],[1,"iconFilters"],["src","/icons/character_icon.png",3,"click"],["src","/icons/object_icon.png",3,"click"],["src","/icons/action_icon.png",3,"click"],["src","/icons/symbol_icon.png",3,"click"],["src","/icons/location_icon.png",3,"click"],["src","/icons/delete_icon.png",3,"click"],[1,"defaultIconsGrid"],[3,"icon","selectedIcon"],["id","iconSizeSelect",1,"iconSizeSelect",3,"change","value"],["value","32"],["value","64"],["value","92"],[3,"click"],[3,"onSelected","icon","selectedIcon"]],template:function(r,o){r&1&&(h(0,"div",0),b("click",function(s){return o.closeSelector(s)}),h(1,"div",1),b("click",function(s){return s.stopPropagation()}),h(2,"div",2)(3,"img",3),b("click",function(){return o.setIconTagFilter("Creature")}),m(),h(4,"img",4),b("click",function(){return o.setIconTagFilter("Object")}),m(),h(5,"img",5),b("click",function(){return o.setIconTagFilter("Action")}),m(),h(6,"img",6),b("click",function(){return o.setIconTagFilter("Symbol")}),m(),h(7,"img",7),b("click",function(){return o.setIconTagFilter("Structure")}),m(),h(8,"img",8),b("click",function(){return o.setIconTagFilter("")}),m()(),h(9,"ul",9),ge(10,CT,1,2,"app-selectable-icon",10,pe),m(),h(12,"select",11),b("change",function(s){return o.setSize(s)}),h(13,"option",12),x(14,"32px"),m(),h(15,"option",13),x(16,"64px"),m(),h(17,"option",14),x(18,"92px"),m()(),q(19,"br"),h(20,"button",15),b("click",function(s){return o.submit(s)}),x(21,"Submit"),m(),h(22,"button",15),b("click",function(s){return o.closeSelector(s)}),x(23,"Cancel"),m()()()),r&2&&(f(3),ie(o.getIsFilterSelectedClass("Creature")),f(),ie(o.getIsFilterSelectedClass("Object")),f(),ie(o.getIsFilterSelectedClass("Action")),f(),ie(o.getIsFilterSelectedClass("Symbol")),f(),ie(o.getIsFilterSelectedClass("Structure")),f(),ie(o.getIsFilterSelectedClass("")),f(2),he(o.getFilteredIcons()),f(2),E("value",o.getSize()))},dependencies:[L_],styles:[`.modalOverlay[_ngcontent-%COMP%]{position:fixed;z-index:100;inset:0 0 0 6px;background-color:#000000d2;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;justify-content:center;align-items:center;max-height:100%;padding-right:2rem}.modalContent[_ngcontent-%COMP%]{background-color:#3d3d3d1c;padding:1.5em;max-height:70%;text-align:center}.defaultIconsGrid[_ngcontent-%COMP%]{max-height:20em;overflow-y:scroll}.iconFilters[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:.1em;padding:.2em}.iconFilters[_ngcontent-%COMP%] > .selected[_ngcontent-%COMP%]{background-color:#123a68}
/*# sourceMappingURL=icon-selector-UCQV6L6R.css.map */`]})}return t})();function bT(t,n){if(t&1){let e=R();h(0,"app-icon-selector",4),b("onClosed",function(){_(e);let o=p();return C(o.closeSelector())})("onSelected",function(o){_(e);let i=p();return C(i.onSelected(o))}),m()}if(t&2){let e=p();E("node",e.node())}}function wT(t,n){if(t&1){let e=R();h(0,"img",5),b("click",function(){_(e);let o=p();return C(o.onClick())}),m()}}var j_=(()=>{class t extends Ce{controlNameSize=L.required();node=L.required();showSelector=B(!1);onClick(){this.showSelector.set(!0)}closeSelector(){this.showSelector.set(!1)}getNodeIconPath(){return"/node_icons/"+this.formGroup().get(this.controlName()).value}onSelected(e){this.showSelector.set(!1),this.formGroup().patchValue({[this.controlName()]:e.iconPath,[this.controlNameSize()]:e.iconSize}),this.onChange.emit()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-portraiticon-form-component"]],inputs:{controlNameSize:[1,"controlNameSize"],node:[1,"node"]},features:[se],decls:4,vars:3,consts:[[1,"portraitForm"],[3,"node"],["width","92","height","92",1,"portraitFormIcon",3,"click","src"],["src","/icons/wrench_icon.png","width","24","height","24",1,"portraitFormWrench","iconButton"],[3,"onClosed","onSelected","node"],["src","/icons/wrench_icon.png","width","24","height","24",1,"portraitFormWrench","iconButton",3,"click"]],template:function(r,o){r&1&&(h(0,"div",0),T(1,bT,1,1,"app-icon-selector",1),h(2,"img",2),b("click",function(){return o.onClick()}),m(),T(3,wT,1,0,"img",3),m()),r&2&&(f(),N(o.showSelector()?1:-1),f(),E("src",o.getNodeIconPath(),nt),f(),N(o.editMode()?3:-1))},dependencies:[V_],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.portraitForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:end;justify-content:center}.portraitFormIcon[_ngcontent-%COMP%]{cursor:pointer}.portraitFormWrench[_ngcontent-%COMP%]{cursor:pointer;margin-left:0}
/*# sourceMappingURL=portraiticon-form-component-MCXQZFVB.css.map */`]})}return t})();var ET=["stringSelect"];function IT(t,n){if(t&1&&(h(0,"option",3),x(1),m()),t&2){let e=n.$implicit,r=p();E("value",e)("selected",e==r.selected()?"True":""),f(),ce(" ",e," ")}}var oi=(()=>{class t extends Ce{options=L.required();selected=L.required();stringSelect;onSelected(e){console.log("SELECTED OPTION: "),console.log(this.formGroup().get(this.controlName())?.value),console.log(this.formGroup());var r=e,o=r.target;this.formGroup().patchValue({[this.controlName()]:o.value}),this.stopEditing(),this.onChange.emit()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-string-selector"]],viewQuery:function(r,o){if(r&1&&Qn(ET,5),r&2){let i;tn(i=nn())&&(o.stringSelect=i.first)}},inputs:{options:[1,"options"],selected:[1,"selected"]},features:[se],decls:5,vars:2,consts:[["stringSelect",""],[3,"formGroup"],[1,"stringSelector",3,"click","change","focus","formControlName"],[1,"stringSelectorOption",3,"value","selected"]],template:function(r,o){if(r&1){let i=R();h(0,"div",1)(1,"select",2,0),b("click",function(){return _(i),C(o.startEditing())})("change",function(a){return _(i),C(o.onSelected(a))})("focus",function(){_(i);let a=Yn(2);return C(a.click())}),ge(3,IT,2,3,"option",3,pe),m()()}r&2&&(E("formGroup",o.formGroup()),f(),E("formControlName",o.controlName()),f(2),he(o.options()))},dependencies:[wp,R_,k_,Ml,vt,Ie,Me,we,dt],styles:[`.stringSelector[_ngcontent-%COMP%]{margin:.5em;padding:.4em;background:#243349;border:none;color:#fff;border-radius:2px;appearance:none;width:8em;text-align:center}
/*# sourceMappingURL=string-selector-JDNCJDQK.css.map */`]})}return t})();var pn=(()=>{class t{stats=["str","dex","con","int","wis","cha"];skills=["None","Athletics","Acrobatics","Sleight of Hand","Stealth","Arcana","History","Investigation","Nature","Religion","Animal Handling","Insight","Medicine","Perception","Survival","Deception","Intimidation","Performance","Persuasion"];sizes=["Tiny","Small","Medium","Large","Huge","Gargantuan"];alignments=["Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","True Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil"];creatureTypes=["Aberration","Beast","Celestial","Construct","Dragon","Elemental","Fey","Fiend","Giant","Humanoid","Monstrosity","Ooze","Plant","Undead"];damageTypes=["Slashing","Slashing*","Bludgeoning","Bludgeoning*","Piercing","Piercing*","Acid","Cold","Fire","Force","Lightning","Necrotic","Poison","Psychic","Radiant","Thunder"];conditions=["Blinded","Charmed","Deafened","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"];static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MT(t,n){t&1&&q(0,"input",3)}function ST(t,n){if(t&1){let e=R();h(0,"div",7),b("click",function(){_(e);let o=p();return C(o.startEditing())}),x(1),m()}if(t&2){let e=p();f(),ce(" ",e.formGroup().get("hp").value," ")}}function DT(t,n){t&1&&q(0,"input",6)}function TT(t,n){if(t&1){let e=R();h(0,"div",7),b("click",function(){_(e);let o=p();return C(o.startEditing())}),x(1),m()}if(t&2){let e=p();f(),ce(" ",e.formGroup().get("ac").value," ")}}function NT(t,n){if(t&1&&q(0,"input",9),t&2){let e=p().$implicit;E("id",e+"statInput")("formControlName",e)}}function xT(t,n){if(t&1){let e=R();h(0,"div",7),b("click",function(){_(e);let o=p(2);return C(o.startEditing())}),x(1),m()}if(t&2){let e=p().$implicit,r=p();f(),ce(" ",r.formGroup().get(e).value," ")}}function OT(t,n){if(t&1&&(h(0,"div",1)(1,"label",8),x(2),m(),T(3,NT,1,2,"input",9)(4,xT,2,1,"div",4),h(5,"div"),x(6),m()()),t&2){let e=n.$implicit,r=p();f(),E("for",e+"statInput"),f(),ce("",e.toUpperCase(),":"),f(),N(r.editing()?3:4),f(2),ie(r.getStatBonusClass(r.formGroup().get(e).value)),f(),ce(" ",r.getStatsBonus(r.formGroup().get(e).value)," ")}}var B_=(()=>{class t extends Ce{nodeOptions;constructor(e){super(),this.nodeOptions=e}getStatsBonus(e){var r=this.getStatsBonusValue(e),o=r.toString();return r>=0&&(o="+"+o),o}getStatsBonusValue(e){var r=parseInt(e);return Math.floor((r-10)/2)}getStatBonusClass(e){var r=this.getStatsBonusValue(e);return r>0?"statBonus positive":r<0?"statBonus negative":"statBonus"}static \u0275fac=function(r){return new(r||t)(w(pn))};static \u0275cmp=A({type:t,selectors:[["app-stats-form"]],features:[se],decls:13,vars:3,consts:[["tabindex","0",1,"statsForm","nodePanel",3,"focus","formGroup"],[1,"stat"],["for","hpStatInput","type","text",1,"statLabel"],["id","hpStatInput","type","text","formControlName","hp","autofocus","",1,"statInput","formInput"],[1,"statDisplay"],["for","acStatInput","type","text",1,"statLabel"],["id","acStatInput","type","text","formControlName","ac",1,"statInput","formInput"],[1,"statDisplay",3,"click"],["type","text",1,"statLabel",3,"for"],["type","text",1,"statInput","formInput",3,"id","formControlName"]],template:function(r,o){r&1&&(h(0,"div",0),b("focus",function(){return o.startEditing()}),h(1,"div",1)(2,"label",2),x(3,"HP:"),m(),T(4,MT,1,0,"input",3)(5,ST,2,1,"div",4),m(),h(6,"div",1)(7,"label",5),x(8,"AC:"),m(),T(9,DT,1,0,"input",6)(10,TT,2,1,"div",4),m(),ge(11,OT,7,6,"div",1,pe),m()),r&2&&(E("formGroup",o.formGroup()),f(4),N(o.editing()?4:5),f(5),N(o.editing()?9:10),f(2),he(o.nodeOptions.stats))},dependencies:[Me,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.nodeForm[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-height:100%;padding-right:1rem}.sizeTypeAlignment[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-content:center;flex-direction:row}.nodeInfoButtonBar[_ngcontent-%COMP%]{display:flex}.nodeInfoButton[_ngcontent-%COMP%]{margin:.2em;padding:.3em}.nodeInfoButton.rightAlign[_ngcontent-%COMP%]{margin-left:auto}.nodeInfoButton.selected[_ngcontent-%COMP%]{background-color:#3b5218}.deleteButton[_ngcontent-%COMP%]{cursor:pointer;border:0;background-color:red;border-radius:5px;margin:1rem;padding:.3rem;color:#fff;font-weight:700}.statsForm[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,max(9rem,100%/3)),1fr));column-gap:2rem;column-count:2}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.statInput[_ngcontent-%COMP%]{padding:2px;max-width:2rem;text-align:center;border:0;width:2rem}.statLabel[_ngcontent-%COMP%]{width:4em;padding:2px}.statBonus[_ngcontent-%COMP%]{color:gray;margin-left:.5em;text-align:center}.statBonus.positive[_ngcontent-%COMP%]{color:#00c500}.statBonus.negative[_ngcontent-%COMP%]{color:red}.statDisplay[_ngcontent-%COMP%]{padding:2px;cursor:pointer;width:2rem;max-width:2rem;text-align:center}
/*# sourceMappingURL=stats-form-I34IJY53.css.map */`]})}return t})();function RT(t,n){t&1&&q(0,"input",3)}function AT(t,n){if(t&1){let e=R();h(0,"div",5),b("click",function(){_(e);let o=p();return C(o.startEditing())}),x(1),m()}if(t&2){let e,r=p();f(),ce(" ",(e=r.formGroup().get("speed"))==null?null:e.value," ")}}function kT(t,n){t&1&&q(0,"input",7)}function PT(t,n){if(t&1){let e=R();h(0,"div",5),b("click",function(){_(e);let o=p(2);return C(o.startEditing())}),x(1),m()}if(t&2){let e,r=p(2);f(),ce(" ",(e=r.formGroup().get("speedSwimming"))==null?null:e.value," ")}}function FT(t,n){if(t&1){let e=R();h(0,"img",6),b("click",function(){_(e);let o=p();return C(o.startEditing())}),m(),T(1,kT,1,0,"input",7)(2,PT,2,1,"div",4)}if(t&2){let e=p();f(),N(e.editing()?1:2)}}function LT(t,n){t&1&&q(0,"input",9)}function VT(t,n){if(t&1){let e=R();h(0,"div",5),b("click",function(){_(e);let o=p(2);return C(o.startEditing())}),x(1),m()}if(t&2){let e,r=p(2);f(),ce(" ",(e=r.formGroup().get("speedFlying"))==null?null:e.value," ")}}function jT(t,n){if(t&1){let e=R();h(0,"img",8),b("click",function(){_(e);let o=p();return C(o.startEditing())}),m(),T(1,LT,1,0,"input",9)(2,VT,2,1,"div",4)}if(t&2){let e=p();f(),N(e.editing()?1:2)}}var U_=(()=>{class t extends Ce{showSwimming(){var e=+this.formGroup().get("speedSwimming")?.value;return e>0}showFlying(){var e=+this.formGroup().get("speedFlying")?.value;return e>0}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-movement-form"]],features:[se],decls:9,vars:4,consts:[[1,"movementForm","nodePanel",3,"formGroup"],[1,"movementEntry"],["src","/icons/walk_icon.png",3,"click"],["type","text","formControlName","speed",1,"speedInput","formInput"],[1,"speedDisplay"],[1,"speedDisplay",3,"click"],["src","/icons/swim_icon.png",3,"click"],["type","text","formControlName","speedSwimming",1,"speedInput","formInput"],["src","/icons/fly_icon.png",3,"click"],["type","text","formControlName","speedFlying",1,"speedInput","formInput"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1)(2,"img",2),b("click",function(){return o.startEditing()}),m(),T(3,RT,1,0,"input",3)(4,AT,2,1,"div",4),m(),h(5,"div",1),T(6,FT,3,1),m(),h(7,"div",1),T(8,jT,3,1),m()()),r&2&&(E("formGroup",o.formGroup()),f(3),N(o.editing()?3:4),f(3),N(o.editing()||o.showSwimming()?6:-1),f(2),N(o.editing()||o.showFlying()?8:-1))},dependencies:[Me,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.nodeForm[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-height:100%;padding-right:1rem}.sizeTypeAlignment[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-content:center;flex-direction:row}.nodeInfoButtonBar[_ngcontent-%COMP%]{display:flex}.nodeInfoButton[_ngcontent-%COMP%]{margin:.2em;padding:.3em}.nodeInfoButton.rightAlign[_ngcontent-%COMP%]{margin-left:auto}.nodeInfoButton.selected[_ngcontent-%COMP%]{background-color:#3b5218}.deleteButton[_ngcontent-%COMP%]{cursor:pointer;border:0;background-color:red;border-radius:5px;margin:1rem;padding:.3rem;color:#fff;font-weight:700}.movementForm[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.movementEntry[_ngcontent-%COMP%]{display:flex}.speedInput[_ngcontent-%COMP%]{align-self:center;margin-left:.2rem;margin-right:2.5rem;min-width:2rem;max-width:2rem;text-align:center;border:0rem;padding-left:0;padding-right:0}.speedDisplay[_ngcontent-%COMP%]{text-align:center;align-self:center;margin-left:.2rem;margin-right:2.5rem;min-width:2rem;max-width:2rem}
/*# sourceMappingURL=movement-form-JHN4E7HY.css.map */`]})}return t})();function BT(t,n){if(t&1){let e=R();G(0,"div",5),oe("click",function(){_(e);let o=p(2);return C(o.toggleEditing())}),x(1),W()}if(t&2){let e=p(2);f(),ce("",e.label(),":")}}function UT(t,n){t&1&&ht(0,"div",2)}function $T(t,n){if(t&1){let e=R();G(0,"img",6),oe("click",function(){_(e);let o=p(2);return C(o.stopEditing())}),W()}}function HT(t,n){if(t&1){let e=R();G(0,"img",8),oe("click",function(){_(e);let o=p(3);return C(o.startEditing())}),W()}}function GT(t,n){if(t&1&&T(0,HT,1,0,"img",7),t&2){let e=p(2);N(e.editMode()?0:-1)}}function zT(t,n){if(t&1){let e=R();G(0,"button",10),oe("click",function(){let o=_(e).$implicit,i=p(3);return C(i.toggleOption(o))}),x(1),W()}if(t&2){let e=n.$implicit,r=p(3);ie(r.getOptionButtonClass(e)),f(),ce(" ",e," ")}}function qT(t,n){if(t&1&&ge(0,zT,2,3,"button",9,pe),t&2){let e=p(2);he(e.options())}}function WT(t,n){if(t&1){let e=R();G(0,"div",12),oe("click",function(){_(e);let o=p(3);return C(o.startEditing())}),x(1),W()}if(t&2){let e=n.$implicit;f(),It(e)}}function ZT(t,n){if(t&1&&ge(0,WT,2,1,"div",11,pe),t&2){let e=p(2);he(e.selectedStrings())}}function QT(t,n){if(t&1&&(G(0,"div",0)(1,"div",1),T(2,BT,2,1,"div",2)(3,UT,1,0,"div",2),T(4,$T,1,0,"img",3)(5,GT,1,1),W(),G(6,"div",4),T(7,qT,2,0)(8,ZT,2,0),W()()),t&2){let e=p();f(2),N(e.label()!=""?2:3),f(2),N(e.editing()?4:5),f(3),N(e.editing()?7:8)}}var $_=(()=>{class t extends Ce{options=L.required();label=L("");selectedStrings=B(new Set);ngOnChanges(e){this.initializeFromFormControl()}toggleOption(e){this.selectedStrings().has(e)?this.selectedStrings().delete(e):this.selectedStrings().add(e)}getOptionButtonClass(e){return this.selectedStrings().has(e)?"multiStringButton active":"multiStringButton"}startEditing(){this.editing()||(this.initializeFromFormControl(),super.startEditing())}initializeFromFormControl(){var e=this.formGroup().get(this.controlName()),r;e.value==null||e.value==""?r=[]:r=e.value,this.selectedStrings.set(new Set(r))}stopEditing(){this.editing()&&(this.updateFormControl(),super.stopEditing())}updateFormControl(){var e=this.formGroup().get(this.controlName());e.setValue(Array.from(this.selectedStrings()))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-multi-string-selector"]],inputs:{options:[1,"options"],label:[1,"label"]},features:[se,Xe],decls:1,vars:1,consts:[[1,"multiStringSelector","nodePanel"],[1,"multiStringHeader"],[1,"multiStringLabel"],["src","icons/check_icon.png",1,"multiStringEditIcon","iconButton"],[1,"multiLineContainer"],[1,"multiStringLabel",3,"click"],["src","icons/check_icon.png",1,"multiStringEditIcon","iconButton",3,"click"],["src","icons/wrench_icon.png",1,"multiStringEditIcon","iconButton"],["src","icons/wrench_icon.png",1,"multiStringEditIcon","iconButton",3,"click"],[3,"class"],[3,"click"],[1,"multiStringDisplay"],[1,"multiStringDisplay",3,"click"]],template:function(r,o){r&1&&T(0,QT,9,3,"div",0),r&2&&N(o.editMode()||o.selectedStrings().size>0?0:-1)},styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.nodeForm[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-height:100%;padding-right:1rem}.sizeTypeAlignment[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-content:center;flex-direction:row}.nodeInfoButtonBar[_ngcontent-%COMP%]{display:flex}.nodeInfoButton[_ngcontent-%COMP%]{margin:.2em;padding:.3em}.nodeInfoButton.rightAlign[_ngcontent-%COMP%]{margin-left:auto}.nodeInfoButton.selected[_ngcontent-%COMP%]{background-color:#3b5218}.deleteButton[_ngcontent-%COMP%]{cursor:pointer;border:0;background-color:red;border-radius:5px;margin:1rem;padding:.3rem;color:#fff;font-weight:700}.multiStringHeader[_ngcontent-%COMP%]{display:flex;flex-direction:row}.multiStringHeader[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{flex-grow:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.multiLineContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.multiStringDisplay[_ngcontent-%COMP%]{background-color:#7fffd417;margin:.3rem;padding:.2rem}.multiStringLabel[_ngcontent-%COMP%]{-webkit-user-select:false;user-select:false;cursor:pointer}.multiStringButton[_ngcontent-%COMP%]{border:0;background-color:gray;padding:.2rem;margin:.2rem}.multiStringButton.active[_ngcontent-%COMP%]{background-color:#adff2f;color:#000}
/*# sourceMappingURL=multi-string-selector-IKCLKPM3.css.map */`]})}return t})();var YT=["*"];function XT(t,n){if(t&1){let e=R();G(0,"img",3),oe("click",function(){_(e);let o=p(2);return C(o.addEntry())}),W()}}function KT(t,n){if(t&1&&(G(0,"div",0)(1,"div",1)(2,"div"),x(3),W(),T(4,XT,1,0,"img",2),W(),qi(5),W()),t&2){let e=p();f(3),ce("",e.label(),":"),f(),N(e.editMode()?4:-1)}}var H_=(()=>{class t{editMode=L.required();formArray=L.required();label=L("");defaultControls=L.required();onChange=Ne();formBuilder=y(Sl);addEntry(){this.formArray().push(this.formBuilder.group(this.defaultControls())),this.onChange.emit()}removeEntry(e){console.log("remove entry");var r=this.formArray().controls.indexOf(e);this.formArray().removeAt(r),this.onChange.emit()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["app-node-form-array"]],inputs:{editMode:[1,"editMode"],formArray:[1,"formArray"],label:[1,"label"],defaultControls:[1,"defaultControls"]},outputs:{onChange:"onChange"},ngContentSelectors:YT,decls:1,vars:1,consts:[[1,"nodePanel","nodeFormArray"],[1,"arrayHeader"],["src","icons/plus_icon.png"],["src","icons/plus_icon.png",3,"click"]],template:function(r,o){r&1&&(zi(),T(0,KT,6,2,"div",0)),r&2&&N(o.editMode()||o.formArray().controls.length>0?0:-1)},styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.arrayHeader[_ngcontent-%COMP%]{display:flex}.arrayHeader[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{flex-grow:1}
/*# sourceMappingURL=node-form-array-LAKU3HX6.css.map */`]})}return t})();function JT(t,n){if(t&1){let e=R();h(0,"img",4),b("click",function(){_(e);let o=p();return C(o.onRemove.emit(o.formGroup()))}),m()}}var G_=(()=>{class t extends Ce{onRemove=Ne();index=L.required();static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-action-form"]],inputs:{index:[1,"index"]},outputs:{onRemove:"onRemove"},features:[se],decls:6,vars:8,consts:[[1,"actionForm"],["controlName","name","label","",1,"actionFormName",3,"onChange","formGroup","editMode","formId"],["controlName","description","label","",1,"actionFormDescription",3,"onChange","formGroup","editMode","lines","formId"],["src","icons/delete_icon.png",1,"iconButton"],["src","icons/delete_icon.png",1,"iconButton",3,"click"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div")(2,"app-name-form-component",1),b("onChange",function(){return o.onChange.emit()}),m()(),h(3,"div")(4,"app-multiline-form-component",2),b("onChange",function(){return o.onChange.emit()}),m()(),T(5,JT,1,0,"img",3),m()),r&2&&(f(2),E("formGroup",o.formGroup())("editMode",o.editMode())("formId","actionName"+o.index()),f(2),E("formGroup",o.formGroup())("editMode",o.editMode())("lines",4)("formId","actionDescription"+o.index()),f(),N(o.editMode()?5:-1))},dependencies:[ir,fn],styles:[`.actionForm[_ngcontent-%COMP%]{background-color:#11151696;padding:.2rem .5rem;margin-top:.5rem}.actionFormName[_ngcontent-%COMP%]{font-weight:700}
/*# sourceMappingURL=action-form-62EITPYX.css.map */`]})}return t})();function eN(t,n){if(t&1&&q(0,"input",1),t&2){let e=p();E("formControlName",e.controlName())}}function tN(t,n){if(t&1&&(h(0,"div",2),x(1),m()),t&2){let e=p();f(),It(e.formGroup().get(e.controlName()).value)}}var Dl=(()=>{class t extends Ce{overrideEdit=L(!1);static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-inline-name-form"]],inputs:{overrideEdit:[1,"overrideEdit"]},features:[se],decls:3,vars:2,consts:[[1,"inlineNameForm",3,"click","formGroup"],["type","text",1,"inlineNameInput","formInput",3,"formControlName"],[1,"inlineNameDisplay"]],template:function(r,o){r&1&&(h(0,"div",0),b("click",function(){return o.startEditing()}),T(1,eN,1,1,"input",1)(2,tN,2,1,"div",2),m()),r&2&&(E("formGroup",o.formGroup()),f(),N(o.editing()||o.overrideEdit()?1:2))},dependencies:[Me,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.inlineNameForm[_ngcontent-%COMP%]{padding:.2rem;min-width:3rem;text-align:center;background:#243349}.inlineNameInput[_ngcontent-%COMP%]{border:0;max-width:3rem;text-align:center}
/*# sourceMappingURL=inline-name-form-CHASFBLX.css.map */`]})}return t})();function nN(t,n){if(t&1){let e=R();h(0,"img",4),b("click",function(){_(e);let o=p();return C(o.onRemove.emit(o.formGroup()))}),m()}}var z_=(()=>{class t extends Ce{nodeOptions;onRemove=Ne();abilitiesMode=L(!1);constructor(e){super(),this.nodeOptions=e}getOptions(){return this.abilitiesMode()?this.nodeOptions.stats:this.nodeOptions.skills}getBonusFormId(){var e=this.formGroup().get(this.controlName()).value;return this.controlName()+"bonus"+e}static \u0275fac=function(r){return new(r||t)(w(pn))};static \u0275cmp=A({type:t,selectors:[["app-skill-form"]],inputs:{abilitiesMode:[1,"abilitiesMode"]},outputs:{onRemove:"onRemove"},features:[se],decls:4,vars:10,consts:[[1,"skillForm"],[3,"onChange","controlName","formGroup","formId","editMode","options","selected"],["controlName","bonus",3,"onChange","formGroup","editMode","formId"],["src","/icons/delete_icon.png",1,"iconButton"],["src","/icons/delete_icon.png",1,"iconButton",3,"click"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"app-string-selector",1),b("onChange",function(){return o.onChange.emit()}),m(),h(2,"app-inline-name-form",2),b("onChange",function(){return o.onChange.emit()}),m(),T(3,nN,1,0,"img",3),m()),r&2&&(f(),E("controlName",o.controlName())("formGroup",o.formGroup())("formId",o.controlName())("editMode",o.editMode())("options",o.getOptions())("selected",o.formGroup().get(o.controlName()).value),f(),E("formGroup",o.formGroup())("editMode",o.editMode())("formId",o.getBonusFormId()),f(),N(o.editMode()?3:-1))},dependencies:[oi,Dl],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.skillForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}
/*# sourceMappingURL=skill-form-OACXTAOD.css.map */`]})}return t})();function rN(t,n){if(t&1){let e=R();h(0,"img",6),b("click",function(){_(e);let o=p();return C(o.onDelete.emit(o.formGroup()))}),m()}}var q_=(()=>{class t extends Ce{nodeOptions;constructor(e){super(),this.nodeOptions=e}onDelete=Ne();static \u0275fac=function(r){return new(r||t)(w(pn))};static \u0275cmp=A({type:t,selectors:[["app-secret-form"]],outputs:{onDelete:"onDelete"},features:[se],decls:6,vars:11,consts:[[1,"secretForm",3,"formGroup"],[1,"secretFormHeader"],["controlName","testSkill","formId","secretTestSkill",3,"onChange","formGroup","editMode","options","selected"],["controlName","testDifficulty","formId","secrteTestDifficulty",3,"onChange","formGroup","editMode"],["src","/icons/delete_icon.png",1,"iconButton"],["controlName","description","formId","secretDescription","label","",3,"onChange","formGroup","editMode","lines"],["src","/icons/delete_icon.png",1,"iconButton",3,"click"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1)(2,"app-string-selector",2),b("onChange",function(){return o.onChange.emit()}),m(),h(3,"app-inline-name-form",3),b("onChange",function(){return o.onChange.emit()}),m(),T(4,rN,1,0,"img",4),m(),h(5,"app-multiline-form-component",5),b("onChange",function(){return o.onChange.emit()}),m()()),r&2&&(E("formGroup",o.formGroup()),f(2),E("formGroup",o.formGroup())("editMode",o.editMode())("options",o.nodeOptions.skills)("selected",o.formGroup().get("testSkill").value),f(),E("formGroup",o.formGroup())("editMode",o.editMode()),f(),N(o.editMode()?4:-1),f(),E("formGroup",o.formGroup())("editMode",o.editMode())("lines",4))},dependencies:[oi,Dl,fn,Me,Ie,we],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.secretFormHeader[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.secretForm[_ngcontent-%COMP%]{background-color:#11151696;padding:.2rem .5rem;margin-top:.5rem}
/*# sourceMappingURL=secret-form-2R6BSKAF.css.map */`]})}return t})();var Tl=(()=>{class t{nodeService;tags=new X(new Set);tags$=this.tags.asObservable();constructor(e){this.nodeService=e,e.nodes$.subscribe({next:r=>{this.updateTags(r)}}),e.nodeUpdated$.subscribe({next:()=>{this.updateTags(e.nodes.value)}})}updateTags(e){var r=new Set;for(let i of e){var o=this.getTags(i.tags);o.forEach(s=>r.add(s))}this.tags.next(r)}getTags(e){return e.length==0?[]:e.split(";")}static \u0275fac=function(r){return new(r||t)(D(ln))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iN(t,n){if(t&1){let e=R();G(0,"div",2)(1,"div"),x(2),W(),G(3,"img",5),oe("click",function(){let o=_(e).$implicit,i=p(2);return C(i.removeTag(o))}),W()()}if(t&2){let e=n.$implicit;f(2),It(e)}}function sN(t,n){if(t&1){let e=R();G(0,"img",6),oe("click",function(){_(e);let o=p(2);return C(o.addingTag.set(!0))}),W()}}function aN(t,n){if(t&1){let e=R();G(0,"input",7),oe("change",function(o){_(e);let i=p(2);return C(i.onAddTagSubmit(o.target.value))})("blur",function(){_(e);let o=p(2);return C(o.addingTag.set(!1))})("keydown",function(o){_(e);let i=p(2);return C(i.onKeyDown(o))}),W()}}function cN(t,n){if(t&1&&(G(0,"div",0)(1,"div"),x(2,"Tags:"),W(),G(3,"div",1),ge(4,iN,4,1,"div",2,pe),T(6,sN,1,0,"img",3)(7,aN,1,0,"input",4),W()()),t&2){let e=p();f(4),he(e.getTags()),f(2),N(e.addingTag()?7:6)}}var W_=(()=>{class t extends Ce{addingTag=B(!1);tagService=y(Tl);getTags(){return this.tagService.getTags(this.getControlValue())}setTags(e){this.setControlValue(e.join(";")),this.onChange.emit()}removeTag(e){var r=this.getTags();r=r.filter(o=>o!=e),this.setTags(r)}addTag(e){var r=this.getTags();r.push(e),this.setTags(r)}onAddTagSubmit(e){this.addTag(e),this.addingTag.set(!1)}onKeyDown(e){e.key=="Escape"&&this.addingTag.set(!1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=me(t)))(o||t)}})();static \u0275cmp=A({type:t,selectors:[["app-tags-form"]],features:[se],decls:1,vars:1,consts:[[1,"nodePanel"],[1,"tagsContainer"],[1,"tagDisplay"],["src","/icons/plus_icon.png",1,"tagAddButton"],["type","text",1,"formInput"],["src","/icons/delete_icon.png",1,"tagDeleteButton",3,"click"],["src","/icons/plus_icon.png",1,"tagAddButton",3,"click"],["type","text",1,"formInput",3,"change","blur","keydown"]],template:function(r,o){r&1&&T(0,cN,8,1,"div",0),r&2&&N(o.editMode()||o.formGroup().get(o.controlName()).value.length>0?0:-1)},styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.tagDisplay[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}.tagDeleteButton[_ngcontent-%COMP%]{filter:opacity(50%);scale:80%;margin-left:.5rem}.tagAddButton[_ngcontent-%COMP%]{align-self:center}
/*# sourceMappingURL=tags-form-64KCQXUF.css.map */`]})}return t})();var Z_=(()=>{class t{nodeOptions;constructor(e){this.nodeOptions=e}async parseClipboard(){try{let o=await(await(await navigator.clipboard.read())[0].getType("text/plain")).text();return this.tryParse(o)}catch{return null}}tryParse(e){console.log("Try parse ");var o=e.split(/\r?\n/).filter(s=>s.length>1);if(console.log(o),o.length<3)return null;var i=new Yo(0,o[0]);return i.creatureInfo=new Xo,this.parseSizeTypeAlignment(o[1],i),o=o.slice(2,o.length),i.creatureInfo.hp=this.getStat(["Hit Points","HP"],o)||"0",i.creatureInfo.ac=this.getStat(["Armor Class","AC"],o)||"0",i.creatureInfo.speed=this.getStat(["Speed"],o)||"0",i.creatureInfo.speedSwimming=this.getStat(["swim"],o)||"0",i.creatureInfo.speedFlying=this.getStat(["fly"],o)||"0",i.creatureInfo.str=this.getStat(["STR","Str"],o)||"0",i.creatureInfo.dex=this.getStat(["DEX","Dex"],o)||"0",i.creatureInfo.con=this.getStat(["CON","Con"],o)||"0",i.creatureInfo.int=this.getStat(["INT","Int"],o)||"0",i.creatureInfo.wis=this.getStat(["WIS","Wis"],o)||"0",i.creatureInfo.cha=this.getStat(["CHA","Cha"],o)||"0",i.creatureInfo.languages=this.getProperty("Languages",o)||"",i.creatureInfo.senses=this.getProperty("Senses",o)||"",i.creatureInfo.damageImmunities=this.getMultiStringProperty(["Damage Immunities","Immunities"],this.nodeOptions.damageTypes,o),i.creatureInfo.damageResistances=this.getMultiStringProperty(["Damage Resistance","Resistances"],this.nodeOptions.damageTypes,o),i.creatureInfo.damageVulnerabilities=this.getMultiStringProperty(["Vulnerabilities"],this.nodeOptions.damageTypes,o),i.creatureInfo.conditionImmunities=this.getMultiStringProperty(["Condition Immunities"],this.nodeOptions.conditions,o),i.creatureInfo.skills=this.parseSkills(o),i.creatureInfo.savingThrows=this.parseSavingThrows(o),i.creatureInfo.actions=this.parseActions(o),i}parseSizeTypeAlignment(e,r){if(r.creatureInfo==null)throw new Error("Creature info cannot be null!");e=e.replaceAll(",","");var i=e.split(" ").filter(s=>!s.includes("(")&&!s.includes(")"));i=i.map(s=>s[0].toUpperCase()+s.slice(1)),console.log("Found Size/Type/Alignment"),console.log(i),r.creatureInfo.size=i[0],r.creatureInfo.creatureType=i[1],r.creatureInfo.alignment=[i[2],i[3]].join(" ")}getStat(e,r){for(var o=0;o<r.length;o++){let c=r[o];var i="";for(let l of e)if(c.includes(l)){i=l;break}if(i!=""){console.log(`found stat ${i}:`);var s=c.substring(c.indexOf(i)+i.length+1),a=[];return s.length>0?a=s.split(" "):a=r[o+1].split(" "),console.log(a),console.log(a[0]),a[0]}}return null}getProperty(e,r){for(var o=0;o<r.length;o++){let s=r[o];if(s.includes(e)){console.log(`found characteristic ${e}:`);var i=s.substring(s.indexOf(e)+e.length+1);return console.log(i),i}}return null}getMultiStringProperty(e,r,o){for(var i=0;i<o.length;i++){let l=o[i];var s="";for(let u of e)l.includes(u)&&(s=u);if(s!=""){console.log(`found characteristic ${s}:`);var a=l.substring(l.indexOf(s)+s.length+1);console.log(a),a=a.replaceAll(",",""),a=a.replaceAll(";","");let u=a.split(" ");var c=[];for(let d of u)r.includes(d)&&c.push(d);return c}}return[]}parseSkills(e){var r=null;for(let a of e)if(a.includes("Skills")){r=a.substring(a.indexOf("Skills")+7);break}if(r==null)return[];r=r.replaceAll(" ",""),console.log(r);var o=r.split(",");console.log("Skills line found"),console.log(o);var i=[];for(let a of o){var s=a.split("+");this.nodeOptions.skills.includes(s[0])&&i.push(new dl(0,s[0],s[1]))}return i}parseSavingThrows(e){var r=null;for(let c of e)if(c.includes("Saving Throws")){r=c.substring(c.indexOf("Saving Throws")+14);break}if(r==null)return[];r=r.replaceAll(" ",""),console.log(r);var o=r.split(",");console.log("Saving Throws line found"),console.log(o);var i=[];for(let c of o){var s=c.split("+"),a=s[0].toLowerCase();this.nodeOptions.stats.includes(a)&&i.push(new fl(0,a,s[1]))}return i}parseActions(e){for(var r=!1,o=[],i=0;i<e.length;i++){if(r){var s=["Actions","Traits","Legendary Actions"].some(l=>e[i].startsWith(l));if(!s){var a=e[i].split("."),c=a.slice(1,a.length).join(".");o.push(new pl(0,a[0],c))}}["Challenge","Traits","Actions"].some(l=>e[i].startsWith(l))&&(r=!0)}return o}static \u0275fac=function(r){return new(r||t)(D(pn))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uN=["actionsForm"],dN=["skillsForm"],fN=["savingThrowsForm"],pN=["secretsForm"];function gN(t,n){t&1&&(h(0,"p"),x(1,"No node?"),m())}function hN(t,n){if(t&1){let e=R();h(0,"div",12)(1,"app-string-selector",19),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(2,"app-string-selector",20),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(3,"app-string-selector",21),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m()()}if(t&2){let e=p(2);f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("options",e.gmNodeOptions.sizes)("selected",e.node().creatureInfo.size)("editMode",e.editMode()),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("options",e.gmNodeOptions.creatureTypes)("selected",e.node().creatureInfo.creatureType)("editMode",e.editMode()),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("options",e.gmNodeOptions.alignments)("selected",e.node().creatureInfo.alignment)("editMode",e.editMode())}}function mN(t,n){if(t&1){let e=R();h(0,"app-skill-form",36),b("onChange",function(){_(e);let o=p(3);return C(o.onControlSubmit())})("onRemove",function(){let o=_(e).$implicit;p();let i=Yn(7);return C(i.removeEntry(o))}),m()}if(t&2){let e=n.$implicit,r=p(3);E("formGroup",e)("editMode",r.editMode())}}function vN(t,n){if(t&1){let e=R();h(0,"app-skill-form",37),b("onChange",function(){_(e);let o=p(3);return C(o.onControlSubmit())})("onRemove",function(){let o=_(e).$implicit;p();let i=Yn(11);return C(i.removeEntry(o))}),m()}if(t&2){let e=n.$implicit,r=p(3);E("formGroup",e)("editMode",r.editMode())("abilitiesMode",!0)}}function yN(t,n){if(t&1){let e=R();h(0,"app-action-form",38),b("onChange",function(){_(e);let o=p(3);return C(o.onControlSubmit())})("onRemove",function(){let o=_(e).$implicit;p();let i=Yn(15);return C(i.removeEntry(o))}),m()}if(t&2){let e=n.$implicit,r=n.$index,o=p(3);E("formGroup",e)("editMode",o.editMode())("index",r)}}function _N(t,n){if(t&1){let e=R();h(0,"app-stats-form",22),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(1,"app-movement-form",23),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(2,"app-multi-string-selector",24),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(3,"app-multi-string-selector",25),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(4,"app-multi-string-selector",26),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(5,"app-multi-string-selector",27),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(6,"app-node-form-array",28,1),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),ge(8,mN,1,2,"app-skill-form",29,pe),m(),h(10,"app-node-form-array",30,2),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),ge(12,vN,1,3,"app-skill-form",31,pe),m(),h(14,"app-node-form-array",32,3),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),ge(16,yN,1,3,"app-action-form",33,pe),m(),h(18,"app-multiline-form-component",34),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m(),h(19,"app-multiline-form-component",35),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m()}if(t&2){let e=p(2);E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode()),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode()),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("options",e.gmNodeOptions.damageTypes),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("options",e.gmNodeOptions.damageTypes),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("options",e.gmNodeOptions.damageTypes),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("options",e.gmNodeOptions.conditions),f(),E("formArray",e.getFormArray(e.getSubFormGroup("creatureInfo"),"skills"))("editMode",e.editMode())("defaultControls",e.defaultSkill),f(2),he(e.getFormArrayGroups(e.getSubFormGroup("creatureInfo"),"skills")),f(2),E("formArray",e.getFormArray(e.getSubFormGroup("creatureInfo"),"savingThrows"))("editMode",e.editMode())("defaultControls",e.defaultSavingThrow),f(2),he(e.getFormArrayGroups(e.getSubFormGroup("creatureInfo"),"savingThrows")),f(2),E("formArray",e.getFormArray(e.getSubFormGroup("creatureInfo"),"actions"))("editMode",e.editMode())("defaultControls",e.defaultAction),f(2),he(e.getFormArrayGroups(e.getSubFormGroup("creatureInfo"),"actions")),f(2),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("standalone",!0),f(),E("formGroup",e.getSubFormGroup("creatureInfo"))("editMode",e.editMode())("standalone",!0)}}function CN(t,n){if(t&1){let e=R();h(0,"app-multiline-form-component",39),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())}),m()}if(t&2){let e=p(2);E("formGroup",e.getSubFormGroup("locationInfo"))("editMode",e.editMode())("standalone",!0)}}function bN(t,n){if(t&1){let e=R();h(0,"app-secret-form",40),b("onChange",function(){_(e);let o=p(2);return C(o.onControlSubmit())})("onDelete",function(){let o=_(e).$implicit;p();let i=Yn(13);return C(i.removeEntry(o))}),m()}if(t&2){let e=n.$implicit,r=p(2);E("formGroup",e)("editMode",r.editMode())}}function wN(t,n){if(t&1){let e=R();h(0,"div",4)(1,"div",5)(2,"img",6),b("click",function(){_(e);let o=p();return C(o.setIsCreature(!o.isCreature()))}),m(),h(3,"img",7),b("click",function(){_(e);let o=p();return C(o.setIsLocation(!o.isLocation()))}),m(),h(4,"img",8),b("click",function(){_(e);let o=p();return C(o.importFromString())}),m(),h(5,"img",9),b("click",function(){_(e);let o=p();return C(o.userEvents.setEditMode(!o.editMode()))}),m()(),h(6,"app-portraiticon-form-component",10),b("onChange",function(){_(e);let o=p();return C(o.onControlSubmit())}),m(),h(7,"app-name-form-component",11),b("onChange",function(){_(e);let o=p();return C(o.onControlSubmit())}),m(),T(8,hN,4,12,"div",12),h(9,"app-multiline-form-component",13),b("onChange",function(){_(e);let o=p();return C(o.onControlSubmit())}),m(),T(10,_N,20,31),T(11,CN,1,3,"app-multiline-form-component",14),h(12,"app-node-form-array",15,0),b("onChange",function(){_(e);let o=p();return C(o.onControlSubmit())}),ge(14,bN,1,2,"app-secret-form",16,pe),m(),h(16,"app-tags-form",17),b("onChange",function(){_(e);let o=p();return C(o.onControlSubmit())}),m(),h(17,"button",18),b("click",function(){_(e);let o=p();return C(o.deleteNode())}),x(18,"Delete!"),m()()}if(t&2){let e=p();E("formGroup",e.nodeForm),f(2),ie(e.isCreature()?"nodeInfoButton selected":"nodeInfoButton"),f(),ie(e.isLocation()?"nodeInfoButton selected":"nodeInfoButton"),f(2),ie(e.editMode()?"nodeInfoButton selected":"nodeInfoButton"),f(),E("formGroup",e.nodeForm)("node",e.node())("editMode",e.editMode()),f(),E("formGroup",e.nodeForm)("header",!0)("editMode",e.editMode()),f(),N(e.isCreature()?8:-1),f(),E("formGroup",e.nodeForm)("editMode",e.editMode())("standalone",!0),f(),N(e.isCreature()?10:-1),f(),N(e.isLocation()?11:-1),f(),E("formArray",e.getFormArray(e.nodeForm,"secrets"))("editMode",e.editMode())("defaultControls",e.defaultSecret),f(2),he(e.getFormArrayGroups(e.nodeForm,"secrets")),f(2),E("formGroup",e.nodeForm)("editMode",e.editMode())}}var Q_=(()=>{class t{auth;nodeService;mapService;campaignService;userEvents;importService;gmNodeOptions;node=L.required();formBuilder=y(Sl);nodeForm=null;isCreature=B(!1);isLocation=B(!1);editMode;actionsForm;skillsForm;savingThrowsForm;secretsForm;defaultAction={name:"Name",description:"Description"};defaultSkill={skillName:"Athletics",bonus:"10"};defaultSavingThrow={savingThrowName:"STR",bonus:"4"};defaultSecret={description:"",testSkill:"None",testDifficulty:"10"};constructor(e,r,o,i,s,a,c){this.auth=e,this.nodeService=r,this.mapService=o,this.campaignService=i,this.userEvents=s,this.importService=a,this.gmNodeOptions=c,this.editMode=Ke(s.editMode$)}onControlSubmit(){this.submitNode()}ngOnChanges(e){this.buildForm()}buildForm(){console.log("Building Form:"),console.log(this.node()),this.isCreature.set(this.node().creatureInfo!=null),this.isLocation.set(this.node().locationInfo!=null);var e=this.formBuilder.group({});if(this.isCreature()){var r=this.node().creatureInfo;e=this.formBuilder.group({creatureType:[r.creatureType??"Humanoid"],size:[r.size??"Medium"],ac:[r.ac??"15"],hp:[r.hp??"20"],speed:[r.speed??""],speedFlying:[r.speedFlying??""],speedSwimming:[r.speedSwimming??""],alignment:[r.alignment??"Lawful Good"],languages:[r.languages??""],senses:[r.senses??""],damageResistances:[r.damageResistances??""],damageImmunities:[r.damageImmunities??""],conditionImmunities:[r.conditionImmunities??""],damageVulnerabilities:[r.damageVulnerabilities??""],skills:this.formBuilder.array([]),savingThrows:this.formBuilder.array([]),actions:this.formBuilder.array([]),cha:[r.cha??"10"],con:[r.con??"10"],dex:[r.dex??"10"],int:[r.int??"10"],str:[r.str??"10"],wis:[r.wis??"10"],cr:[r.cr??"1"]});var o=e.get("actions");r.actions.forEach(u=>{o.push(this.formBuilder.group({id:u.id,name:[u.name],description:[u.description]}))});var i=e.get("skills");r.skills.forEach(u=>{i.push(this.formBuilder.group({id:u.id,skillName:[u.skillName],bonus:[u.bonus]}))});var s=e.get("savingThrows");r.savingThrows.forEach(u=>{s.push(this.formBuilder.group({id:u.id,savingThrowName:[u.savingThrowName],bonus:[u.bonus]}))})}var a=this.formBuilder.group({});if(this.isLocation()){var c=this.node().locationInfo;a=this.formBuilder.group({population:c.population})}this.nodeForm=this.formBuilder.group({name:[this.node().name??"",un.required],description:[this.node().description??""],mapIconPath:[this.node().mapIconPath??"",un.required],portraitPath:[this.node().portraitPath??""],mapIconSize:[this.node().mapIconSize??"64",un.required],creatureInfo:e,locationInfo:a,secrets:this.formBuilder.array([]),tags:this.node().tags??""});var l=this.nodeForm.get("secrets");this.node().secrets.forEach(u=>{l.push(this.formBuilder.group({id:u.id,description:u.description,testSkill:u.testSkill,testDifficulty:u.testDifficulty}))})}setIsCreature(e){var r=this.getNodeFromForm();e?(r.creatureInfo=new Xo,this.isCreature.set(!0)):confirm("Are you sure you want to remove all creature infos from this node?")&&(r.creatureInfo=null,this.isCreature.set(!1)),this.submitNode(r),this.mapService.setSelectedNode(r)}setIsLocation(e){var r=this.getNodeFromForm();e?(r.locationInfo=new ul,this.isLocation.set(!0)):confirm("Are you sure you want to remove all location info from this node?")&&(r.locationInfo=null,this.isLocation.set(!1)),this.submitNode(r),this.mapService.setSelectedNode(r)}importFromString(){console.log("Import button clicked"),this.importService.parseClipboard().then(e=>{console.log("Node imported."),console.log(e),e!=null&&(this.nodeService.copyNodeValues(e,this.node()),this.buildForm(),this.submitNode())})}getSubFormGroup(e){var r=this.nodeForm.get(e);return r}getFormArray(e,r){var o=e.get(r);return o}getFormArrayGroups(e,r){var o=e.get(r);return o.controls}deleteNode(){confirm("Are you sure you want to delete this node? This cannot be undone.")&&this.nodeService.deleteNode(this.auth.getUserToken(),this.campaignService.getSelectedCampaign().id,this.node())}getNodeFromForm(){var e=this.nodeForm.value;return e.id=this.node().id,this.isCreature()||(e.creatureInfo=null),this.isLocation()||(e.locationInfo=null),e}submitNode(e=null){var r=e??this.getNodeFromForm();this.nodeService.updateNode(this.auth.getUserToken(),this.campaignService.getSelectedCampaign().id,r)}static \u0275fac=function(r){return new(r||t)(w(le),w(ln),w(_e),w(Ve),w(ri),w(Z_),w(pn))};static \u0275cmp=A({type:t,selectors:[["app-node-view"]],viewQuery:function(r,o){if(r&1&&(Qn(uN,5),Qn(dN,5),Qn(fN,5),Qn(pN,5)),r&2){let i;tn(i=nn())&&(o.actionsForm=i.first),tn(i=nn())&&(o.skillsForm=i.first),tn(i=nn())&&(o.savingThrowsForm=i.first),tn(i=nn())&&(o.secretsForm=i.first)}},inputs:{node:[1,"node"]},features:[Xe],decls:2,vars:1,consts:[["secretsForm",""],["skillsForm",""],["savingThrowsForm",""],["actionsForm",""],[1,"nodeForm",3,"formGroup"],[1,"nodeInfoButtonBar"],["src","/icons/character_icon.png",3,"click"],["src","/icons/location_icon.png",3,"click"],["src","/icons/copy_icon.png",1,"nodeInfoButton","rightAlign",3,"click"],["src","/icons/wrench_icon.png",3,"click"],["controlName","mapIconPath","controlNameSize","mapIconSize","formId","mapIconForm",3,"onChange","formGroup","node","editMode"],["label","","controlName","name","formId","nameForm",3,"onChange","formGroup","header","editMode"],[1,"sizeTypeAlignment"],["label","Description","controlName","description","formId","descriptionForm",3,"onChange","formGroup","editMode","standalone"],["controlName","population","formId","population","label","Population",3,"formGroup","editMode","standalone"],["label","Secrets",1,"secretsForm",3,"onChange","formArray","editMode","defaultControls"],["controlName","secretsForm","formId","secretsForm",3,"formGroup","editMode"],["controlName","tags","formId","tags",3,"onChange","formGroup","editMode"],[1,"deleteButton",3,"click"],["label","","controlName","size","formId","creatureSizeForm",3,"onChange","formGroup","options","selected","editMode"],["label","","controlName","creatureType","formId","creatureTypeForm",3,"onChange","formGroup","options","selected","editMode"],["label","","controlName","alignment","formId","creatureAlignmentForm",3,"onChange","formGroup","options","selected","editMode"],["controlName","statsForm","formId","statsForm",3,"onChange","formGroup","editMode"],["controlName","movementForm","formId","movementForm",3,"onChange","formGroup","editMode"],["controlName","damageImmunities","label","Damage Immunities","formId","damageImmunitiesForm",3,"onChange","formGroup","editMode","options"],["controlName","damageResistances","label","Damage Resistances","formId","damageResistancesForm",3,"onChange","formGroup","editMode","options"],["controlName","damageVulnerabilities","label","Damage Vulnerabilities","formId","damageVulnerabilitiesForm",3,"onChange","formGroup","editMode","options"],["controlName","conditionImmunities","label","Condition Immunities","formId","conditionImmunitiesForm",3,"onChange","formGroup","editMode","options"],["label","Skills",1,"skillsForm",3,"onChange","formArray","editMode","defaultControls"],["controlName","skillName","formId","skillsForm",3,"formGroup","editMode"],["label","Saving Throws",1,"savingThrowsForm",3,"onChange","formArray","editMode","defaultControls"],["controlName","savingThrowName","formId","savingThrowsForm",3,"formGroup","editMode","abilitiesMode"],["label","Actions",1,"actionsForm",3,"onChange","formArray","editMode","defaultControls"],["controlName","name","formId","actionsForm",3,"formGroup","editMode","index"],["controlName","senses","formId","senses","label","Senses",3,"onChange","formGroup","editMode","standalone"],["controlName","languages","formId","languages","label","Languages",3,"onChange","formGroup","editMode","standalone"],["controlName","skillName","formId","skillsForm",3,"onChange","onRemove","formGroup","editMode"],["controlName","savingThrowName","formId","savingThrowsForm",3,"onChange","onRemove","formGroup","editMode","abilitiesMode"],["controlName","name","formId","actionsForm",3,"onChange","onRemove","formGroup","editMode","index"],["controlName","population","formId","population","label","Population",3,"onChange","formGroup","editMode","standalone"],["controlName","secretsForm","formId","secretsForm",3,"onChange","onDelete","formGroup","editMode"]],template:function(r,o){r&1&&T(0,gN,2,0,"p")(1,wN,19,24,"div",4),r&2&&N(o.node==null||o.nodeForm==null?0:1)},dependencies:[ir,Me,Ie,we,fn,j_,oi,B_,U_,$_,H_,G_,z_,q_,W_],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.nodeForm[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;max-height:100%;padding-right:1rem}.sizeTypeAlignment[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-content:center;flex-direction:row}.nodeInfoButtonBar[_ngcontent-%COMP%]{display:flex}.nodeInfoButton[_ngcontent-%COMP%]{margin:.2em;padding:.3em}.nodeInfoButton.rightAlign[_ngcontent-%COMP%]{margin-left:auto}.nodeInfoButton.selected[_ngcontent-%COMP%]{background-color:#3b5218}.deleteButton[_ngcontent-%COMP%]{cursor:pointer;border:0;background-color:red;border-radius:5px;margin:1rem;padding:.3rem;color:#fff;font-weight:700}
/*# sourceMappingURL=node-view-JKTN3QUH.css.map */`]})}return t})();function EN(t,n){if(t&1){let e=R();G(0,"div",12),oe("click",function(){let o=_(e).$implicit,i=p(2);return C(i.toggleTag(o))}),x(1),W()}if(t&2){let e=n.$implicit,r=p(2);ie(r.filterSettings.filterByTags.has(e)?"tagDisplay active":"tagDisplay"),f(),ce(" ",e," ")}}function IN(t,n){if(t&1){let e=R();G(0,"img",3),oe("click",function(o){_(e);let i=p();return C(i.toggleFilterViewOff(o))}),W(),G(1,"div",4)(2,"input",5),oe("input",function(o){_(e);let i=p();return C(i.setFilterString(o.target.value))}),W(),G(3,"div",6)(4,"img",7),oe("click",function(){_(e);let o=p();return C(o.toggleFilterByCreatures())}),W(),G(5,"img",8),oe("click",function(){_(e);let o=p();return C(o.toggleFilterByLocations())}),W(),G(6,"img",9),oe("click",function(){_(e);let o=p();return C(o.toggleFilterByMapNodes())}),W()(),G(7,"div",10),ge(8,EN,2,3,"div",11,pe),W()()}if(t&2){let e=p();f(4),ie(e.filterSettings.filterByCreatures?"filterButton active":"filterButton"),f(),ie(e.filterSettings.filterByLocations?"filterButton active":"filterButton"),f(),ie(e.filterSettings.filterByMapNodes?"filterButton active":"filterButton"),f(2),he(e.possibleTags())}}function MN(t,n){if(t&1){let e=R();G(0,"img",13),oe("click",function(){_(e);let o=p();return C(o.filterVisible.set(!0))}),W()}}var Y_=(()=>{class t{mapService;tagService;filterActive=B(!1);filterVisible=B(!1);possibleTags=B([]);onSettingsChanged=Ne();filterSettings;constructor(e,r){this.mapService=e,this.tagService=r,this.filterSettings=new Nl(e,r),r.tags$.subscribe({next:o=>{this.possibleTags.set(Array.from(o)),this.filterSettings.filterByTags.forEach(i=>{o.has(i)||this.filterSettings.filterByTags.delete(i)})}})}toggleTag(e){this.filterSettings.filterByTags.has(e)?this.filterSettings.filterByTags.delete(e):this.filterSettings.filterByTags.add(e),this.updateFilters()}clickedFilterIcon(e){e.stopPropagation(),this.filterActive()?(this.filterSettings=new Nl(this.mapService,this.tagService),this.updateFilters(),this.filterVisible.set(!1)):this.filterVisible.set(!this.filterVisible())}toggleFilterViewOff(e){e.stopPropagation(),this.filterVisible.set(!1)}toggleFilterByCreatures(){this.filterSettings.filterByCreatures=!this.filterSettings.filterByCreatures,this.updateFilters()}toggleFilterByLocations(){this.filterSettings.filterByLocations=!this.filterSettings.filterByLocations,this.updateFilters()}toggleFilterByMapNodes(){this.filterSettings.filterByMapNodes=!this.filterSettings.filterByMapNodes,this.updateFilters()}setFilterString(e){this.filterSettings.filterString=e,this.updateFilters()}updateFilters(){this.filterActive.set(this.filterSettings.areFiltersActive()),this.onSettingsChanged.emit(this.filterSettings)}static \u0275fac=function(r){return new(r||t)(w(_e),w(Tl))};static \u0275cmp=A({type:t,selectors:[["app-node-filter"]],outputs:{onSettingsChanged:"onSettingsChanged"},decls:4,vars:3,consts:[[1,"filterPanel",3,"click"],["src","/icons/filter_icon.png",3,"click"],["src","/icons/arrow_right.png",1,"filterButton"],["src","/icons/arrow_down.png",1,"filterButton",3,"click"],[1,"filterContainer"],["type","text",1,"formInput",3,"input"],[1,"filterButtons"],["src","/icons/character_icon.png",3,"click"],["src","/icons/location_icon.png",1,"filterButton",3,"click"],["src","/icons/map_icon.png",1,"filterButton",3,"click"],[1,"tagsContainer"],[3,"class"],[3,"click"],["src","/icons/arrow_right.png",1,"filterButton",3,"click"]],template:function(r,o){r&1&&(G(0,"div",0),oe("click",function(){return o.filterVisible.set(!0)}),G(1,"img",1),oe("click",function(s){return o.clickedFilterIcon(s)}),W(),T(2,IN,10,6)(3,MN,1,0,"img",2),W()),r&2&&(f(),ie(o.filterActive()?"filterButton active":"filterButton"),f(),N(o.filterVisible()?2:3))},styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.filterButton[_ngcontent-%COMP%]{margin:.2em;padding:.3em}.filterButton.active[_ngcontent-%COMP%]{background-color:#3b5218}.filterPanel[_ngcontent-%COMP%]{margin:.5rem;padding:.5rem;background-color:#73c7641a}.filterContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tagDisplay[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#adff2f;color:#000}
/*# sourceMappingURL=node-filter-3Q5FGF24.css.map */`]})}return t})(),Nl=class{mapService;tagService;constructor(n,e){this.mapService=n,this.tagService=e}filterByCreatures=!1;filterByLocations=!1;filterByMapNodes=!1;filterString="";filterByTags=new Set;applyFilters(n){var e=Object.assign([],n);return this.filterByCreatures&&(e=e.filter(r=>r.creatureInfo!=null)),this.filterByLocations&&(e=e.filter(r=>r.locationInfo!=null)),this.filterByMapNodes&&(e=e.filter(r=>this.mapService.getMapNodes().some(o=>o.node.id==r.id))),this.filterString!=""&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filterString.toLowerCase()))),this.filterByTags.size>0&&(e=e.filter(r=>{var o=this.tagService.getTags(r.tags),i=Array.from(this.filterByTags);return i.every(s=>o.includes(s))})),e}areFiltersActive(){return this.filterByCreatures||this.filterByLocations||this.filterByMapNodes||this.filterString!=""}};function SN(t,n){if(t&1&&q(0,"app-node-icon",3),t&2){let e=n.$implicit;E("node",e)}}function DN(t,n){if(t&1&&(h(0,"app-sidebar",0),q(1,"app-node-view",3),m()),t&2){let e=p();E("isLeftSide",!1),f(),E("node",e.selectedNode())}}var X_=(()=>{class t{auth;campaignService;mapService;nodeService;nodes;selectedNode;draggedNode=B(null);filteredNodes=B(void 0);activeFilter=null;nodeDroppedSubscription;nodeDraggedSubscription;constructor(e,r,o,i){this.auth=e,this.campaignService=r,this.mapService=o,this.nodeService=i,this.nodes=Ke(i.nodes$),this.selectedNode=Ke(o.getSelectedNodeObservable()),this.nodeDroppedSubscription=o.mapNodeDropped$.subscribe({next:()=>{this.draggedNode.set(null)}}),this.nodeDraggedSubscription=o.mapNodeDragged$.subscribe({next:s=>{this.draggedNode.set(s)}}),Mc(()=>{this.setActiveFilter(this.activeFilter)})}setActiveFilter(e){if(this.activeFilter=e,e==null||e==null){console.log("No node filter. all nodes visible"),this.filteredNodes.set(this.nodes());return}console.log("Applying node filter."),this.filteredNodes.set(e.applyFilters(this.nodes()))}ngOnDestroy(){this.nodeDroppedSubscription.unsubscribe()}onDragStarted(e){this.draggedNode.set(e)}createNewNode(){this.nodeService.createNode(this.auth.getUserToken(),this.campaignService.getSelectedCampaign().id,new Yo(0,"New Node"))}static \u0275fac=function(r){return new(r||t)(w(le),w(Ve),w(_e),w(ln))};static \u0275cmp=A({type:t,selectors:[["app-map"]],decls:9,vars:3,consts:[[3,"isLeftSide"],[1,"nodeList"],[3,"onSettingsChanged"],[3,"node"],["src","/icons/add_icon.png",1,"addButton",3,"click"]],template:function(r,o){r&1&&(h(0,"app-sidebar",0)(1,"ul",1)(2,"app-node-filter",2),b("onSettingsChanged",function(s){return o.setActiveFilter(s)}),m(),ge(3,SN,1,1,"app-node-icon",3,pe),h(5,"img",4),b("click",function(){return o.createNewNode()}),m()()(),T(6,DN,2,2,"app-sidebar",0),q(7,"app-dragged-node",3)(8,"app-map-background")),r&2&&(E("isLeftSide",!0),f(3),he(o.filteredNodes()),f(3),N(o.selectedNode()!=null?6:-1),f(),E("node",o.draggedNode()))},dependencies:[Ky,Jy,e_,t_,Q_,Y_],styles:[`.nodeList[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;max-height:100%;overflow-y:auto}.addButton[_ngcontent-%COMP%]{size:4rem 4rem;min-width:4rem;min-height:4rem;background-color:#fcfcfc13;border-radius:.3rem;cursor:pointer;margin:1rem;align-self:center}.addButton[_ngcontent-%COMP%]:hover{scale:110%;background-color:#211e2b}
/*# sourceMappingURL=map-view-YSQMMOD4.css.map */`]})}return t})();var K_=(()=>{class t{authService;constructor(e){this.authService=e}ngAfterViewInit(){console.log("checking for stored login token");var e=this.authService.retrieveUserToken();if(e=="")console.log("did not find token, initialize google login"),this.initializeGoogleSignIn();else{var r=gl(e),o=Math.round(new Date().getTime()/1e3),i=r.exp;console.log(`login token expires in ${i-o} seconds`),o>i?this.waitForGoogle(this.initializeGoogleSignIn):this.authService.login(e)}}waitForGoogle(e){var r=setInterval(()=>{console.log("google is not defined yet. wait for google"),google!=null&&google!=null&&(console.log("google found, proceed!"),clearInterval(r),e())},300)}initializeGoogleSignIn(){console.log("initialize google signin");var e=this;google.accounts.id.initialize({client_id:"22535597810-ml4s14qa3sq76doaohsjkf3r1vjpv1jo.apps.googleusercontent.com",callback:r=>e.handleCredentialResponse(r)}),google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large"}),google.accounts.id.prompt()}handleCredentialResponse(e){console.log("handle credential response"),console.log("Encoded JWT ID token: "+e.credential);let r=e.credential;this.authService.login(r)}static \u0275fac=function(r){return new(r||t)(w(le))};static \u0275cmp=A({type:t,selectors:[["app-google-sign-in"]],decls:1,vars:0,consts:[["id","google-signin-button"]],template:function(r,o){r&1&&ht(0,"div",0)},encapsulation:2})}return t})();var J_=(()=>{class t{router;authService;constructor(e,r){this.router=e,this.authService=r,this.checkForLogin()}checkForLogin(){var e=this;this.authService.authState$.subscribe({next(r){console.log("Login State Changed:"+r),r&&e.router.navigate(["/campaignselection"])}})}static \u0275fac=function(r){return new(r||t)(w(ve),w(le))};static \u0275cmp=A({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"loginPage"]],template:function(r,o){r&1&&(h(0,"div",0),q(1,"app-google-sign-in"),m())},dependencies:[K_],styles:[`.loginPage[_ngcontent-%COMP%]{left:0%;top:0%;display:flex;align-items:center;justify-content:center;position:fixed;background-image:url(/BGMap_blurred.jpg);width:100%;height:100%}
/*# sourceMappingURL=login-FMUCNALW.css.map */`]})}return t})();var xl=(()=>{class t{id=L.required();title=L.required();description=L("");backgroundImageStyle=L("");onClick=Ne();onEdit=Ne();onDelete=Ne();clicked(){this.onClick.emit()}clickedEdit(e){e.stopPropagation(),this.onEdit.emit()}clickedDelete(e){e.stopPropagation(),this.onDelete.emit()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["app-big-button"]],inputs:{id:[1,"id"],title:[1,"title"],description:[1,"description"],backgroundImageStyle:[1,"backgroundImageStyle"]},outputs:{onClick:"onClick",onEdit:"onEdit",onDelete:"onDelete"},decls:12,vars:4,consts:[[1,"bigButton",3,"click"],[1,"bigButtonFill"],[1,"bigButtonContent"],[1,"subButtonContainer"],[1,"subButton",3,"click"],["src","icons/wrench_icon.png"],["src","icons/delete_icon.png"]],template:function(r,o){r&1&&(G(0,"div",0),oe("click",function(){return o.clicked()}),ht(1,"div",1),G(2,"div",2)(3,"h3"),x(4),W(),G(5,"p"),x(6),W(),G(7,"div",3)(8,"button",4),oe("click",function(s){return o.clickedEdit(s)}),ht(9,"img",5),W(),G(10,"button",4),oe("click",function(s){return o.clickedDelete(s)}),ht(11,"img",6),W()()()()),r&2&&(Rt(o.backgroundImageStyle()),f(4),It(o.title()),f(2),It(o.description()))},styles:[`@keyframes _ngcontent-%COMP%_bigButtonFade{0%{opacity:0%;transform:translateY(10rem)}to{opacity:100%;transform:translate(0)}}.bigButton[_ngcontent-%COMP%]{z-index:0;box-shadow:.5rem .5rem 2rem #0000009f;border-radius:1rem;position:relative;background-size:cover;background-position:50%;overflow:hidden;width:14em;height:20em;padding:1em;margin:2em;list-style-type:none;cursor:pointer;animation:_ngcontent-%COMP%_bigButtonFade;animation-duration:.8s}.bigButtonFill[_ngcontent-%COMP%]{z-index:-1;pointer-events:none;position:absolute;inset:0;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background-color:#0008}.bigButtonContent[_ngcontent-%COMP%]{position:static;z-index:2}.subButtonContainer[_ngcontent-%COMP%]{position:absolute;bottom:0%;right:0%;margin:.2em}.subButton[_ngcontent-%COMP%]{background-color:#000000b6;border:0px;margin:.4em;padding:1em;cursor:pointer;border-radius:.3rem}
/*# sourceMappingURL=big-button-PKLAXVAA.css.map */`]})}return t})();function TN(t,n){t&1&&(h(0,"p"),x(1,"Loading maps..."),m())}function NN(t,n){if(t&1){let e=R();h(0,"app-big-button",6),b("onClick",function(){let o=_(e).$implicit,i=p(2);return C(i.mapSelected(o.id))})("onEdit",function(){let o=_(e).$implicit,i=p(2);return C(i.mapEdited(o.id))})("onDelete",function(){let o=_(e).$implicit,i=p(2);return C(i.mapDeleted(o.id))}),m()}if(t&2){let e=n.$implicit,r=p(2);E("title",e.name)("id",e.id)("description",e.description)("backgroundImageStyle",r.getMapImageStyle(e.id))}}function xN(t,n){if(t&1){let e=R();h(0,"ul",2),ge(1,NN,1,4,"app-big-button",3,pe),h(3,"li",4),b("click",function(){_(e);let o=p();return C(o.startCreateMap())}),q(4,"img",5),m()()}if(t&2){let e=p();f(),he(e.maps())}}var eC=(()=>{class t{router;campaignService;mapService;auth;mapsLoaded;maps;constructor(e,r,o,i){this.router=e,this.campaignService=r,this.mapService=o,this.auth=i,this.mapsLoaded=Ke(o.getMapsLoaded());var s=r.getSelectedCampaign();if(s==null)throw new Error("Current campaign is null. Should not be possible here.");this.maps=Ke(o.getMaps(i.getUserToken(),r.getSelectedCampaign()))}startCreateMap(){this.mapService.editedMap=null,this.router.navigate(["/createmap"])}getMapImageStyle(e){var r=this.mapService.getMap(e).externalImageUrl;return r==""?"background-color: DarkSlateGrey;":`background-image: url(${r})`}getBackgroundImageStyle(){return`background-image: url(${this.campaignService.getSelectedCampaign()?.imageLink})`}mapEdited(e){var r=this.mapService.getMap(e);if(r==null)throw new Error("Cannot edit map!");this.mapService.editedMap=r,this.router.navigate(["/createmap"])}mapDeleted(e){console.log("Deleting map: "+e),this.mapService.deleteMap(this.auth.getUserToken(),e)}mapSelected(e){let r=this.mapService.getMap(e);r!=null&&(this.mapService.setSelectedMap(r),this.router.navigate(["/map"]))}static \u0275fac=function(r){return new(r||t)(w(ve),w(Ve),w(_e),w(le))};static \u0275cmp=A({type:t,selectors:[["app-mapselection"]],decls:4,vars:3,consts:[[1,"mapSelectionBackground"],[1,"mapSelection"],[1,"mapButtonParent"],[3,"title","id","description","backgroundImageStyle"],[1,"addButtonBig",3,"click"],["src","icons/plus_icon.png"],[3,"onClick","onEdit","onDelete","title","id","description","backgroundImageStyle"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1),T(2,TN,2,0,"p")(3,xN,5,0,"ul",2),m()()),r&2&&(Rt(o.getBackgroundImageStyle()),f(2),N(o.mapsLoaded()?3:2))},dependencies:[xl],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.mapButtonParent[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:row;justify-content:center;align-self:center}.mapSelection[_ngcontent-%COMP%]{height:100%;-webkit-backdrop-filter:blur(2rem) brightness(.5);backdrop-filter:blur(2rem) brightness(.5);display:flex;justify-content:center}.mapSelectionBackground[_ngcontent-%COMP%]{background-size:cover;position:fixed;top:0;left:0;width:100%;height:100%}
/*# sourceMappingURL=mapselection-J533RCGG.css.map */`]})}return t})();function ON(t,n){t&1&&(h(0,"div",2),x(1,"Loading Campaigns..."),m())}function RN(t,n){if(t&1){let e=R();h(0,"app-big-button",7),b("onClick",function(){let o=_(e).$implicit,i=p(2);return C(i.campaignSelected(o.id))})("onEdit",function(){let o=_(e).$implicit,i=p(2);return C(i.campaignEdited(o.id))})("onDelete",function(){let o=_(e).$implicit,i=p(2);return C(i.campaignDeleted(o.id))}),m()}if(t&2){let e=n.$implicit,r=p(2);E("id",e.id)("title",e.name)("description",e.description)("backgroundImageStyle",r.getImageStyle(e))}}function AN(t,n){if(t&1){let e=R();h(0,"ul",3),ge(1,RN,1,4,"app-big-button",4,pe),h(3,"li",5),b("click",function(){_(e);let o=p();return C(o.createCampaign())}),q(4,"img",6),m()()}if(t&2){let e=p();f(),he(e.campaigns())}}var tC=(()=>{class t{campaignService;auth;router;campaignsLoaded;campaigns;constructor(e,r,o){this.campaignService=e,this.auth=r,this.router=o,this.campaignsLoaded=Ke(e.getCampaignsLoaded()),this.campaigns=Ke(e.getCampaigns(r.getUserToken()))}getImageStyle(e){return`background-image: url(${e.imageLink})`}campaignEdited(e){this.campaignService.editedCampaign=this.campaignService.getCampaign(e),this.router.navigate(["/createcampaign"]),console.log("campaign edited "+e)}campaignDeleted(e){this.campaignService.deleteCampaign(this.auth.getUserToken(),e)}createCampaign(){console.log("New campaign button clicked"),this.router.navigate(["/createcampaign"])}campaignSelected(e){console.log("campaign selected "+e);let r=this.campaignService.getCampaign(e);if(r==null){console.error("Campaign not found!");return}this.campaignService.setSelectedCampaign(r),this.router.navigate(["/mapselection"])}static \u0275fac=function(r){return new(r||t)(w(Ve),w(le),w(ve))};static \u0275cmp=A({type:t,selectors:[["app-campaignselection"]],decls:4,vars:1,consts:[[1,"campaignSelectionBackground"],[1,"campaignSelection"],[1,"Loading"],[1,"campaignButtonParent"],[3,"id","title","description","backgroundImageStyle"],[1,"addButtonBig",3,"click"],["src","icons/plus_icon.png"],[3,"onClick","onEdit","onDelete","id","title","description","backgroundImageStyle"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1),T(2,ON,2,0,"div",2)(3,AN,5,0,"ul",3),m()()),r&2&&(f(2),N(o.campaignsLoaded()?3:2))},dependencies:[xl],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}@keyframes _ngcontent-%COMP%_backgroundFade{0%{-webkit-backdrop-filter:brightness(.8);backdrop-filter:brightness(.8)}to{-webkit-backdrop-filter:brightness(.5);backdrop-filter:brightness(.5)}}.campaignButtonParent[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-self:center}.campaignSelectionBackground[_ngcontent-%COMP%]{background-image:url(/BGMap_blurred.jpg);position:absolute;inset:0}.campaignSelection[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;animation-name:_ngcontent-%COMP%_backgroundFade;animation-duration:2s;animation-fill-mode:forwards;justify-content:center}
/*# sourceMappingURL=campaignselection-5U6QKXDK.css.map */`]})}return t})();var Rs=(()=>{class t{authService;router;constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return this.authService.isAuthenticated()?!0:(console.log("AuthGuard: Not logged in, redirecting to login"),this.router.parseUrl("/login"))}static \u0275fac=function(r){return new(r||t)(D(le),D(ve))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ol=(()=>{class t{subscrpition=null;evaluateAfterPrerequisite(e,r,o,i,s){var a=e.canActivate(r,o);if(a instanceof ee){console.log("Requirement returns observable");var c=a;c.pipe(et()).subscribe({next:l=>{this.evaulateResult(l,i,s)}})}else this.evaulateResult(a,i,s)}evaulateResult(e,r,o){typeof e=="boolean"&&(console.log("Requirement returned boolean"),e?this.callDelayed(r,!0):this.callDelayed(o,!1)),e instanceof kt&&(console.log("Requirement returned urltree"),this.callDelayed(o,e))}callDelayed(e,r){console.log("start call delayed"),setTimeout(e,100,r)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var As=(()=>{class t{campaignService;router;authGuard;auth;guardExtension;constructor(e,r,o,i,s){this.campaignService=e,this.router=r,this.authGuard=o,this.auth=i,this.guardExtension=s}isCampaignSet=new te;isCampaignSet$=this.isCampaignSet.asObservable();canActivate(e,r){console.log("Campaign guard checking if selected campaign is set:");var o=this;return this.isCampaignSet$.pipe(et()).subscribe(i=>{console.log("Campaign guard observable set: "+i)}),this.guardExtension.evaluateAfterPrerequisite(this.authGuard,e,r,()=>{this.checkCampaigns(o)},()=>{console.log("prerequisites failed, return to login"),o.isCampaignSet.next(this.router.parseUrl("/login"))}),console.log("returning observable"),this.isCampaignSet$}checkCampaigns(e){console.log("Prerequisites cleared. Checking campaigns"),console.log(e),e.campaignService.areCampaignsLoaded()?(console.log("campaigns loaded"),e.checkLoadedCampaigns(e)):e.campaignService.getCampaigns(e.auth.getUserToken()).subscribe({next:()=>{e.campaignService.areCampaignsLoaded()&&e.checkLoadedCampaigns(e)}})}checkLoadedCampaigns(e){e.campaignService.getSelectedCampaign()!=null?(console.log("Selected campaign found."),console.log(e.campaignService.getSelectedCampaign()),e.isCampaignSet.next(!0)):(console.log("could not find selected campaign."),e.isCampaignSet.next(e.router.parseUrl("/campaignselection")))}static \u0275fac=function(r){return new(r||t)(D(Ve),D(ve),D(Rs),D(le),D(Ol))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FN(t,n){if(t&1&&q(0,"br")(1,"img",3),t&2){let e=p();f(),E("src",e.formGroup().controls[e.controlName()].value,nt)}}var Rl=(()=>{class t{label=L.required();controlName=L.required();formGroup=L.required();static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["app-imagelink-form-component"]],inputs:{label:[1,"label"],controlName:[1,"controlName"],formGroup:[1,"formGroup"]},decls:6,vars:4,consts:[[1,"imagelinkFormComponent",3,"formGroup"],["for","imagelinkFormInput"],["type","text","id","imagelinkFormInput",1,"formInput","imageLinkFormInput",3,"formControlName"],["alt","Image Preview","width","512px",3,"src"]],template:function(r,o){r&1&&(h(0,"form",0)(1,"label",1),x(2),m(),q(3,"br")(4,"input",2),T(5,FN,2,1),m()),r&2&&(E("formGroup",o.formGroup()),f(2),ce("",o.label(),":"),f(2),E("formControlName",o.controlName()),f(),N(o.formGroup().controls[o.controlName()].value!=""?5:-1))},dependencies:[Me,dn,mt,vt,Ie,we,dt],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.nodePanel[_ngcontent-%COMP%]{padding:1em;margin-top:.3rem;background-color:#64646444}textarea[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{max-width:100%;width:25em}.iconButton[_ngcontent-%COMP%]{opacity:50%;cursor:pointer;align-self:top;width:1.5rem;height:1.5rem;margin-left:auto}.formInput[_ngcontent-%COMP%]{background-color:#ebebeb28;border:0;color:#fff}.tagDisplay[_ngcontent-%COMP%]{background-color:#333341;padding:.3rem;display:flex;flex-direction:row;margin:.2rem}.tagsContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100%;flex-direction:row;align-content:center}.imageLinkFormInput[_ngcontent-%COMP%]{padding:.2rem}
/*# sourceMappingURL=imagelink-form-component-4JNOV7OC.css.map */`]})}return t})();var Al=class{id;name;description;imageLink;constructor(n,e,r,o){this.id=n,this.name=e,this.description=r,this.imageLink=o}};function LN(t,n){t&1&&(h(0,"p"),x(1,"Submitting Campaign..."),m())}function VN(t,n){t&1&&(h(0,"div",3),x(1,"Name is required."),m())}function jN(t,n){if(t&1){let e=R();h(0,"div",1),q(1,"app-name-form-component",2),T(2,VN,2,0,"div",3),q(3,"app-multiline-form-component",4)(4,"app-imagelink-form-component",5),h(5,"form",6),b("submit",function(){_(e);let o=p();return C(o.onSubmit())}),q(6,"input",7),h(7,"button",8),b("click",function(){_(e);let o=p();return C(o.abort())}),x(8,"Abort"),m()()()}if(t&2){let e=p();E("formGroup",e.createCampaignForm),f(),E("formGroup",e.createCampaignForm)("alwaysEdit",!0),f(),N(e.name!=null&&e.name.invalid&&(e.name!=null&&e.name.dirty||e.name!=null&&e.name.touched)?2:-1),f(),E("formGroup",e.createCampaignForm)("alwaysEdit",!0)("cols",50),f(),E("formGroup",e.createCampaignForm),f(),E("formGroup",e.createCampaignForm),f(),E("disabled",!e.submittable)}}var rC=(()=>{class t{router;auth;campaignService;createCampaignForm=new or({name:new Pt("",un.required),description:new Pt(""),imageLink:new Pt("")});get name(){return this.createCampaignForm.get("name")}get submittable(){return!this.createCampaignForm.get("name")?.invalid}submitting=B(!1);constructor(e,r,o){this.router=e,this.auth=r,this.campaignService=o;var i=o.editedCampaign;i!=null&&this.createCampaignForm.setValue({name:i.name,description:i.description,imageLink:i.imageLink})}ngOnDestroy(){console.log("Cleaning up create campaign data"),this.campaignService.editedCampaign=null}abort(){this.router.navigate(["/campaignselection"])}onSubmit(){console.log(this.createCampaignForm.value);var e,r=this.createCampaignForm.controls;this.campaignService.editedCampaign!=null?(e=this.campaignService.editedCampaign,e.name=r.name.value,e.description=r.description.value,e.imageLink=r.imageLink.value):e=new Al(0,r.name.value,r.description.value,r.imageLink.value),this.submitting.set(!0),this.campaignService.updateCampaign(this.auth.getUserToken(),e),this.router.navigate(["/campaignselection"])}static \u0275fac=function(r){return new(r||t)(w(ve),w(le),w(Ve))};static \u0275cmp=A({type:t,selectors:[["app-create-campaign"]],decls:3,vars:1,consts:[[1,"CreateCampaign"],[1,"CreateCampaignForm",3,"formGroup"],["label","Name","controlName","name","formId","campaignName",3,"formGroup","alwaysEdit"],[1,"formAlert"],["label","Description","controlName","description","formId","campaignDescription",3,"formGroup","alwaysEdit","cols"],["label","Campaign Image","controlName","imageLink",3,"formGroup"],[3,"submit","formGroup"],["type","submit","value","Submit",3,"disabled"],[3,"click"]],template:function(r,o){r&1&&(h(0,"div",0),T(1,LN,2,0,"p")(2,jN,9,10,"div",1),m()),r&2&&(f(),N(o.submitting()?1:2))},dependencies:[Me,dn,Ie,we,ir,fn,Rl],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.CreateCampaign[_ngcontent-%COMP%]{margin:auto;padding:1em;width:30%}.CreateCampaignForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.CreateCampaignForm[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1em}
/*# sourceMappingURL=create-campaign-56FJPJFX.css.map */`]})}return t})();var kl=class{id;name;description;imagePath;externalImageUrl;sizeX;sizeY;constructor(n,e,r,o,i,s,a){this.id=n,this.name=e,this.description=r,this.imagePath=o,this.externalImageUrl=i,this.sizeX=s,this.sizeY=a}};function BN(t,n){t&1&&(h(0,"p"),x(1,"Submitting Map..."),m())}function UN(t,n){t&1&&(h(0,"div",3),x(1,"Name is required."),m())}function $N(t,n){if(t&1){let e=R();h(0,"div",1),q(1,"app-name-form-component",2),T(2,UN,2,0,"div",3),q(3,"app-multiline-form-component",4)(4,"app-imagelink-form-component",5),h(5,"form",6),b("submit",function(){_(e);let o=p();return C(o.onSubmit())}),q(6,"input",7),h(7,"button",8),b("click",function(){_(e);let o=p();return C(o.abort())}),x(8,"Abort"),m()()()}if(t&2){let e=p();E("formGroup",e.createMapForm),f(),E("formGroup",e.createMapForm)("alwaysEdit",!0),f(),N(e.name!=null&&e.name.invalid&&(e.name!=null&&e.name.dirty||e.name!=null&&e.name.touched)?2:-1),f(),E("formGroup",e.createMapForm)("alwaysEdit",!0)("cols",50),f(),E("formGroup",e.createMapForm),f(),E("formGroup",e.createMapForm),f(),E("disabled",!e.submittable)}}var oC=(()=>{class t{router;auth;mapService;campaignService;createMapForm=new or({name:new Pt("",[un.required]),description:new Pt(""),imageLink:new Pt("")});get name(){return this.createMapForm.get("name")}get submittable(){return!this.createMapForm.get("name")?.invalid}submitting=B(!1);constructor(e,r,o,i){this.router=e,this.auth=r,this.mapService=o,this.campaignService=i;var s=o.editedMap;s!=null&&this.createMapForm.setValue({name:s.name,description:s.description,imageLink:s.externalImageUrl})}ngOnDestroy(){console.log("Cleaning up create map data"),this.mapService.editedMap=null}abort(){this.router.navigate(["/mapselection"])}onSubmit(){console.log(this.createMapForm.value);var e,r=this.createMapForm.controls;this.mapService.editedMap!=null?(e=this.mapService.editedMap,e.name=r.name.value,e.description=r.description.value,e.externalImageUrl=r.imageLink.value):e=new kl(0,r.name.value,r.description.value,"",r.imageLink.value,"2048","2048"),this.submitting.set(!0),this.mapService.updateMap(this.auth.getUserToken(),this.campaignService.getSelectedCampaign(),e),this.router.navigate(["/mapselection"])}static \u0275fac=function(r){return new(r||t)(w(ve),w(le),w(_e),w(Ve))};static \u0275cmp=A({type:t,selectors:[["app-create-map"]],decls:3,vars:1,consts:[[1,"CreateMap"],[1,"CreateMapForm",3,"formGroup"],["label","Name","required","","controlName","name","formId","mapName",3,"formGroup","alwaysEdit"],[1,"formAlert"],["label","Description","controlName","description","formId","mapDescription",3,"formGroup","alwaysEdit","cols"],["label","Map Image","controlName","imageLink",3,"formGroup"],[3,"submit","formGroup"],["type","submit","value","Submit",3,"disabled"],[3,"click"]],template:function(r,o){r&1&&(h(0,"div",0),T(1,BN,2,0,"p")(2,$N,9,10,"div",1),m()),r&2&&(f(),N(o.submitting()?1:2))},dependencies:[ir,fn,Rl,Me,dn,Ie,we],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}.CreateMap[_ngcontent-%COMP%]{margin:auto;padding:1em;width:30%}.CreateMapForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.CreateMapForm[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:1em}
/*# sourceMappingURL=create-map-CQ4OAG6D.css.map */`]})}return t})();var iC=(()=>{class t{mapService;authService;campaignService;router;campaignGuard;guardExtension;isMapSet=new te;isMapSet$=this.isMapSet.asObservable();constructor(e,r,o,i,s,a){this.mapService=e,this.authService=r,this.campaignService=o,this.router=i,this.campaignGuard=s,this.guardExtension=a}canActivate(e,r){console.log("MapGuard canActivate Called.");var o=this;return this.isMapSet$.pipe(et()).subscribe({next:i=>{console.log("Map Guard observable updated: "+i)}}),this.guardExtension.evaluateAfterPrerequisite(this.campaignGuard,e,r,()=>{console.log("MapGuard prerequisites cleared, check if map is set"),this.checkMaps(o)},i=>{console.log("MapGuard prerequisites failed, return to campaign"),o.isMapSet.next(i)}),console.log("Returning mapguard observable."),this.isMapSet$}checkMaps(e){e.mapService.areMapsLoaded()?e.checkSelectedMapSet(e):(console.log("maps not loaded. requesting maps."),e.mapService.getMaps(e.authService.getUserToken(),e.campaignService.getSelectedCampaign()).subscribe({next:r=>{r.length>0&&e.checkSelectedMapSet(e)}}))}checkSelectedMapSet(e){console.log("maps loaded. check if selected map is set."),e.mapService.getSelectedMap()!=null?(console.log("map set. Clearing Guard"),e.isMapSet.next(!0)):(console.log("map not set. returning to map selection."),e.isMapSet.next(e.router.parseUrl("/mapselection")))}static \u0275fac=function(r){return new(r||t)(D(_e),D(le),D(Ve),D(ve),D(As),D(Ol))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sC=[{path:"login",title:"Login",component:J_},{path:"mapselection",title:"Select Map",component:eC,canActivate:[As]},{path:"campaignselection",title:"Select Campaign",component:tC,canActivate:[Rs]},{path:"map",title:"Map",component:X_,canActivate:[iC]},{path:"createcampaign",title:"Campaign Creator",component:rC,canActivate:[Rs]},{path:"createmap",title:"Map Creator",component:oC,canActivate:[As]},{path:"**",redirectTo:"/map"}];var aC={providers:[ed(),Cf(),cp(sC),Lf()]};var cC=(()=>{class t{version=0;subVersion=2;getVersionString(){var e="vercel";return document.location.origin.includes("localhost")&&(e="local"),`${e}:${this.version}_${this.subVersion}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GN(t,n){if(t&1&&(h(0,"p",2),x(1),m()),t&2){let e=p();f(),ce("Logged in as: ",e.user().name)}}function zN(t,n){t&1&&q(0,"p")}function qN(t,n){if(t&1){let e=R();h(0,"button",11),b("click",function(){_(e);let o=p();return C(o.logout())}),x(1,"Log Out"),m()}}function WN(t,n){t&1&&(h(0,"a",8),x(1," Login "),m())}var lC=(()=>{class t{authService;router;mouseTracker;keyboardEvents;versionService;constructor(e,r,o,i,s){this.authService=e,this.router=r,this.mouseTracker=o,this.keyboardEvents=i,this.versionService=s,this.loggedIn=Ke(e.authState$),this.user=Ke(e.user$)}title=B("gmprep");loggedIn;user;handleKeyboardEvent(e){this.keyboardEvents.fireKeyboardEvent(e)}getNavButtonState(){return this.loggedIn()?"navElement linkEnabled":"navElement linkDisabled"}onMouseMove(e){this.mouseTracker.setMouseEvent(e)}onMouseUp(e){this.mouseTracker.callMouseUp(e)}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||t)(w(le),w(ve),w(Ko),w(ri),w(cC))};static \u0275cmp=A({type:t,selectors:[["app-root"]],hostBindings:function(r,o){r&1&&b("keypress",function(s){return o.handleKeyboardEvent(s)},Li)},decls:18,vars:9,consts:[[1,"main"],[3,"mousemove","mouseup"],[1,"userDisplay"],[1,"navButtonContainer"],["routerLink","/campaignselection","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/mapselection","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/map","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"navButton"],["routerLink","/login","routerLinkActive","active","ariaCurrentWhenActive","page",1,"navElement","loginElement"],[1,"versionString"],[1,"content"],[1,"navButton",3,"click"]],template:function(r,o){r&1&&(h(0,"main",0)(1,"div",1),b("mousemove",function(s){return o.onMouseMove(s)})("mouseup",function(s){return o.onMouseUp(s)}),h(2,"nav"),T(3,GN,2,1,"p",2)(4,zN,1,0,"p"),h(5,"div",3)(6,"a",4),x(7," Select Campaign "),m(),h(8,"a",5),x(9," Select Map "),m(),h(10,"a",6),x(11," Map "),m(),T(12,qN,2,0,"button",7)(13,WN,2,0,"a",8),m(),h(14,"div",9),x(15),m()(),h(16,"div",10),q(17,"router-outlet"),m()()()),r&2&&(f(3),N(o.user()!=null?3:4),f(3),ie(o.getNavButtonState()),f(2),ie(o.getNavButtonState()),f(2),ie(o.getNavButtonState()),f(2),N(o.loggedIn()?12:13),f(3),ce(" ",o.versionService.getVersionString()," "))},dependencies:[bs,Qo,ap],styles:[`nav[_ngcontent-%COMP%]{z-index:100;display:grid;column-gap:3em;grid-template-columns:1fr 2fr 1fr;justify-content:center;position:sticky;background-color:#272727}.navButtonContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:center;width:100%}nav[_ngcontent-%COMP%]   .userDisplay[_ngcontent-%COMP%]{margin:1em;width:100%}.formAlert[_ngcontent-%COMP%]{color:red}.navElement[_ngcontent-%COMP%]{padding:1em;color:#fff;text-decoration:none}.navButton[_ngcontent-%COMP%]{margin-left:3em}.navElement.active[_ngcontent-%COMP%]{background-color:#0ff;color:#000}.navElement.linkDisabled[_ngcontent-%COMP%]{color:#9e9e9e6c;pointer-events:none;cursor:default}.loginElement[_ngcontent-%COMP%]{margin-left:3em}.addButtonBig[_ngcontent-%COMP%]{align-self:center;display:flex;align-content:center;background-color:#152524;width:4em;height:4em;cursor:pointer;padding:1em;margin:2em;margin-left:4rem;list-style-type:none;border-radius:.5rem;box-shadow:.5rem .5rem 1rem #0000009d}.content[_ngcontent-%COMP%]{padding:5em}.versionString[_ngcontent-%COMP%]{opacity:25%;align-self:center;margin-left:auto;margin-right:2rem}
/*# sourceMappingURL=app-6HAAPZCJ.css.map */`]})}return t})();kf(lC,aC).catch(t=>console.error(t));
//# sourceMappingURL=main-N7KCKCYZ.js.map
